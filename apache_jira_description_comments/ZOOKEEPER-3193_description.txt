This test doesn't fail often on Apache Jenkins, but seems like quite flaky in our in-house testing environment. It's having a race in waiting for the AuthFailed event that could happen before client creation succeeds, causing the wait operation to hand infinitely (notify occurred before the wait() call). Using a CountDownLatch would be better for the same purpose.