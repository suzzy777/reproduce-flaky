GitHub user felizbear opened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Really great! Let me test this PR :) 


Github user tae-jun commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Nice move! 😄 I've always wanted to use ES6.
    
    I tested and everything worked as expected.
    
    But it seems like you turned off opening a browser when livereload server on.
    
    Is there any reason? Because I like it :-)
    
    Without that, everything is LGTM 👍 


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    `grunt serve` and `grunt build` work will but `grunt test` failed. I am not sure this is due to the change in this PR
    
    ```
    $ grunt test
    
    ...
    
    Running "karma:unit" (karma) task
    INFO [karma]: Karma v0.12.37 server started at http://localhost:9002/
    INFO [launcher]: Starting browser PhantomJS
    WARN [launcher]: PhantomJS have not captured in 60000 ms, killing.
    INFO [launcher]: Trying to start PhantomJS again (1/2).
    WARN [launcher]: PhantomJS have not captured in 60000 ms, killing.
    INFO [launcher]: Trying to start PhantomJS again (2/2).
    WARN [launcher]: PhantomJS have not captured in 60000 ms, killing.
    ERROR [launcher]: PhantomJS failed 2 times (timeout). Giving up.
    Warning: Task "karma:unit" failed. Use --force to continue.
    
    Aborted due to warnings.
    
    
    Execution Time (2016-11-15 14:28:46 UTC)
    babel:dev           4.8s  ▇▇ 2%
    concurrent:test    17.6s  ▇▇▇▇▇▇ 9%
    karma:unit       3m 0.4s  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 88%
    Total 3m 24.5s
    ```
    
    Regarding to `grunt serve` it takes time more than before (i changed some `var` keyword to `let` to test this).
    However, I pretty sure that we can reduce build time by using more enhanced tools (webpack, upper version babel and node and so on)
    
    ```
    Running "newer:babel:dev" (newer) task
    
    Running "babel:dev" (babel) task
    
    Running "newer-postrun:babel:dev:3:/Users/lambda/github/apache-zeppelin/zeppelin-review/zeppelin-web/node_modules/grunt-newer/.cache" (newer-postrun) task
    
    Done, without errors.
    
    
    Execution Time (2016-11-15 14:39:16 UTC)
    loading tasks  157ms  ▇▇▇▇ 5%
    eslint:all     275ms  ▇▇▇▇▇▇ 8%
    jscs:all       305ms  ▇▇▇▇▇▇ 9%
    babel:dev       2.7s  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 77%
    Total 3.5s
    
    ```


Github user tae-jun commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda +1 for webpack


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda, @tae-jun
    Thanks for reviewing guys.
    
    @tae-jun
    Auto-opening browser is actually my least-favorite feature; I removed it for two reasons
    
    1. It always opens the default browser, however I develop in a different browser, so this is annoying as you can imagine
    2. Even if 1 wasn't the case, usually, I already have a tab prepared (often pinned) for development, but it would still open another one on grunt load.
    
    Perhaps, we need more discussion here. If people really want to keep it, we can.
    
    @1ambda
    Let me check the tests and I'll come back to you.
    Grunt serve is slower because it needs to process files with babel and copy them to a new dir. The old way was to serve from `src` directly, which we can't do now since we need to transpile. Hopefully, it will motivate us to move to webpack faster.
    
    Also, adding webpack at this moment is non-trivial. I took a stab on it, but there is no easy way. But we'll get there eventually, no doubt about it



Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda `grunt test` works well for me. Does it fail only in this branch? e.g. `master` works fine for you?
    
    Also, CI failed for this PR. Any advice?


Github user tae-jun commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear That makes sense! Then it's ok with me :)
    
    I tested three commands (`serve` `test` `build`) and also worked with me.
    I had removed `bower_components` and `node_modules` before I tested it.
    
    And about CI, the error is:
    ```sh
    [ERROR] GC overhead limit exceeded -> [Help 1]
    [ERROR] 
    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
    [ERROR] Re-run Maven using the -X switch to enable full debug logging.
    [ERROR] 
    [ERROR] For more information about the errors and possible solutions, please read the following articles:
    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError
    ```
    Maybe It was a lack of memory, unfortunately. You can reopen this PR and re-trigger CI.
    If it doesn't work, I think we should open another PR to add `MAVEN_OPTS` on `.travis.yml` file.
    
    Also, I could build entire Zeppelin on my machine (Macbook Pro 2015 mid)


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear  `grunt test` passed :)
    
    ```
    $ grunt test
    
    ...
    PhantomJS 1.9.8 (Mac OS X 0.0.0): Executed 84 of 84 SUCCESS (0.861 secs / 0.831 secs)
    
    Done, without errors.
    
    
    Execution Time (2016-11-16 03:36:38 UTC)
    babel:dev         7.8s  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 22%
    concurrent:test  19.9s  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 57%
    babel:dev         1.1s  ▇▇▇ 3%
    karma:unit        5.6s  ▇▇▇▇▇▇▇▇▇▇▇ 16%
    Total 34.9s
    ```


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

----


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @tae-jun I'm gonna trigger the build one more time. If it fails, could you help me out with `.travis.yml`? Let's try to merge it ASAP guys. 


Github user tae-jun commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear Of course! But I do not completely understand about Zeppelin's Travis CI, so we gonna need some help from committers 😄
    
    Oh, it just failed again with the same error. But I'm wondering why.
    Why does it need more memory space?
    Any guess?


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Thank you for good effort and contribution @felizbear ! 
    
    Please, expect that usually reviews do take some time. 
    
    One thing that @1ambda brought that would be nice to understand better - it's impact on build time, esp on CI. If somebody could post before\after information on the PR description, that would be very interesting.
    
    Just skimmed through the changes and they look good, will test more tomorrow.
    
    On CI, I w: @tae-jun @felizbear @1ambda  it usually helps committers to analyze the failure much faster if somebody posts the summary to the PR itself like: 
     - which profile failed
     - what is the reason (search for "exited with 1" in raw logs)
    
    I.e right now for `Scala 2.11, Hadoop 2.0` we have
    
    ```
    [INFO] Zeppelin: Server ................................... SUCCESS [ 12.892 s]
    [INFO] Zeppelin: Packaging distribution ................... SKIPPED
    ...
    [INFO] ------------------------------------------------------------------------
    [ERROR] Java heap space -> [Help 1]
    [ERROR] 
    ```
    
    And for Integration Tests it seems that we have a candidate for a new JIRA issue with `flaky-tests` label
    ```
    
    Results :
    
    Tests in error: 
      ParagraphActionsIT.testEditOnDoubleClick:443 » ElementNotVisible Element is no...
    
    Tests run: 17, Failures: 0, Errors: 1, Skipped: 0
    ```


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Thank you @bzz for your detailed comment and suggestions.
    
    > it's impact on build time
    
    The impact on build time is virtually non-existent. There is some impact on reload time during development but it's currently unavoidable, unfortunately. 



Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @bzz If we need more heap I think we can modify `.travis.yml` like 
    
    ```
    env:
      global:
        MAVEN_OPTS="-Xmx2048m -XX:MaxPermSize=1024m"
    ```


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @bzz @felizbear 
    
    I just tested total build time of the `zeppelin-web` module on my computer.
    
    CPU: 2.5 GHz Intel Core i7
    RAM: 16 GB 1600 MHz DDR3
    OS : OSX 10.11.6
    JAVA: 1.8.0_102
    
    ```
    $  mvn clean package -pl zeppelin-web
    
    # master branch
    [INFO] BUILD SUCCESS
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 02:18 min
    [INFO] Finished at: 2016-11-16T13:43:06+09:00
    [INFO] Final Memory: 33M/502M
    [INFO] ------------------------------------------------------------------------
    
    # PR 1639
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESS
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 03:42 min
    [INFO] Finished at: 2016-11-16T13:48:27+09:00
    [INFO] Final Memory: 36M/486M
    [INFO] ------------------------------------------------------------------------
    ```


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda well, i was overly optimistic saying that the build time change is virtually non-existent :(


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear But we can reduce in next step :)


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    But also it's weird. The only difference in build is the babel task, which just can't take over a minute. Or can it? :/


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear IMO, 
    
    - babelified code may not be optimized code (slower than codes written by people)
    - babelifying takes time 



Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear 
    
    We can increase HEAP size by setting this command to `.travis.yml`
    
    ```
    before_install: 
      echo "MAVEN_OPTS=-Xmx2048m" >> ~/.mavenrc
    ```


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Experimenting with heap size sounds good, if that is the reason CI fails. 
    But it would be much easier to judge, if somebody could summarize current CI failure here.
    
    On the frontend build changes -  @felizbear it looks like things got written to `.tmp` dir, could you please verify that `mvn clean zeppelin-web` works as it supposed to and removes it?


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @bzz I don't think `maven clean` removes `.tmp` even in master. `grunt clean` however does the job well


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

commit fc87a33da14ec4cc15ccae5989fb22063fb402f2
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-18T01:12:12Z

    increase heap size in travis CI

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear After you modified maven options, heap was increase
    
    ```
    // before
    [INFO] Zeppelin: Server ................................... SUCCESS [ 12.294 s]
    [INFO] Zeppelin: Packaging distribution ................... SKIPPED
    [INFO] Zeppelin: R Interpreter ............................ SKIPPED
    [INFO] Zeppelin: Scalding interpreter ..................... SKIPPED
    [INFO] Zeppelin: Beam interpreter ......................... SKIPPED
    [INFO] Zeppelin: Examples ................................. SKIPPED
    [INFO] Zeppelin: Example application - Clock .............. SKIPPED
    [INFO] Zeppelin: Example application - Horizontal Bar chart SKIPPED
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESS
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 09:15 min
    [INFO] Finished at: 2016-11-16T03:58:06+00:00
    [INFO] Final Memory: 169M/457M
    [INFO] ------------------------------------------------------------------------
    [ERROR] Java heap space -> [Help 1]
    [ERROR] 
    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
    [ERROR] Re-run Maven using the -X switch to enable full debug logging.
    [ERROR] 
    [ERROR] For more information about the errors and possible solutions, please read the following articles:
    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError
    
    // after
    [INFO] Zeppelin: BigQuery interpreter ..................... SUCCESS [  0.870 s]
    [INFO] Zeppelin: Alluxio interpreter ...................... SUCCESS [  2.634 s]
    [INFO] Zeppelin: Scio ..................................... SUCCESS [ 40.645 s]
    [INFO] Zeppelin: web Application .......................... SKIPPED
    [INFO] Zeppelin: Server ................................... SKIPPED
    [INFO] Zeppelin: Packaging distribution ................... SKIPPED
    [INFO] Zeppelin: Examples ................................. SKIPPED
    [INFO] Zeppelin: Example application - Clock .............. SKIPPED
    [INFO] Zeppelin: Example application - Horizontal Bar chart SKIPPED
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESS
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 07:10 min
    [INFO] Finished at: 2016-11-18T06:19:37+00:00
    [INFO] Final Memory: 167M/1903M
    [INFO] ------------------------------------------------------------------------
    [ERROR] PermGen space -> [Help 1]
    ```
    
    But now PermGen is not enough. I guess, it is because of too large heap size since each travis build has memory limitation.
    So what about decrease heap size (but more than `457M`)?


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

commit 1303085b7c8da34066b613c13abf0f657b2b7269
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-18T01:12:12Z

    increase heap size in travis CI

----


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit 971f05f9eaeccdaeec351eacd7aa2b9c6d25792a
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

commit 3d9531b2789769e65fba5de92dda5c60c37a77db
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 192cf00f9ae613bb77777a3985eef234e7d23f10
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

commit eb0a72d2acc8ad37a760af5dcda49bcc24e62667
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-18T01:12:12Z

    increase heap size in travis CI

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear 
    
    I think something is happening while building `zeppelin-web` module
    
    ```
    // recently passed PR CI: https://travis-ci.org/apache/zeppelin/builds/177018840
    https://api.travis-ci.org/jobs/177018842/log.txt?deansi=true
    [INFO] Zeppelin: web Application .......................... SUCCESS [01:49 min]
    
    // this PR CI: https://travis-ci.org/apache/zeppelin/builds/177211754
    // https://api.travis-ci.org/jobs/177211756/log.txt?deansi=true
    [INFO] Zeppelin: web Application .......................... SUCCESS [05:17 min]
    ```
    
    All npm related commands (including grunt) are executed by maven (see [zeppelin-web/pom.xml].(https://github.com/apache/zeppelin/blob/3eae4e0711924721db49b4e3b840282ca987a80c/zeppelin-web/pom.xml#L108-#L145))
    I think this cause problems. I will move those command into `package.json` and then give you feedback. 


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Short Summary of #1659
    
    1. it seems that travis only accepts `.mavenrc`
    2. even with MAVEN_OPTIONS, maven-assembly-plugins caused OOM error, so update it to 3.0.0 (usually pluginManagement block is good place for it)
    3. maven-frontend-plugin consider bower STDOUT logs as errors. So use `—silence` option to get WARN and ERROR log only
    4. old version node and npm cause proxy errors. so update them to recent LTS (long-term-support) version
    5. old version phantom doesn’t work with recent version of node. so update it
    6. phantom 2.x requires jasmine-core. so install it.
    7. we are using jasmine’s removed API. so fix it.
    8. finally, we passed CI
    
    You can refer #1659 to see full history. (and my CI failures though)
    @felizbear  I think you can cherry pick #1659 so that make this PR to be merged 😃
    
    As a result of this PR, we will get 
    
    - es6! (i really love this)
    - recent LTS version of node and npm (local node_modules caching + reduced JS running time)
    - updated some grunt, karma related packages



Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda great job! 
    
    Could you please re-purpose (interactive rebase, basically) #1639 to contain only CI improvements, so it does not include anything from this PR? 
    
    Then we can merge @1639 ASAP, and rebase this PR on top of the latest master and I'll be happy to merge it.


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @bzz I will do that thanks :)


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    rebased


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    rebased interactively not to contain the same commits in #1639


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @1ambda wow GREAT WORK! Thanks a lot for your effort!


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Regarding to 
    
    - selecting proper version of node and npm
    - centeralizing bulild tasks through npm scripts section
    
    are being discussed in #1659. It would be helpful to give a feedback or your opinion about it. :)


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    I don't really have a strong opinion about node / npm versions. @bzz what's the reasoning behind consolidating versions with other apache projects?


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    
    
    
    ![](https://github.com/nodejs/LTS/raw/master/schedule.png)
    
    @bzz Thanks for review! Things you pointed out are very important. So I'v done some research about node and npm
    
    The above screenshot is about LTS schedule. 
    
    - Some apache projects use 4.x. but Active LTS will be end before 2017.04. So they (should) move to 6.x If they care about what they are building.
    - I used node [6.9.1](https://nodejs.org/en/blog/release/) in this PR. This is one of LTS version for 6.x that means, it (6.x) is somewhat stabilised. ([6.0.0 released in 2016.04](https://nodejs.org/en/blog/release/v6.0.0/))
    - **Basically, we use node as a tool**. **not the runtime**. In other words, we need something can boost our productivity instead of old one. For example, writing to build tools easily using es2015 or supporting fast compilation. ([6.9.1 supports es2015 99%](http://node.green/))
    
    Regard to npm
    
    - [npm 3.0.0 allow us to our dependencies to be installed maximally flat](https://github.com/npm/npm/releases/tag/v3.0.0). (will increasing download speed + support cache functionalities)
    - So we might use [node 5.x which shipped npm 3.x](https://nodejs.org/en/blog/release/v5.0.0/) but 5.x is not LTS
    - So use 3.10.10 which is the most recent one. Even, we can use [4.0.3](https://github.com/npm/npm/releases) just released 2 days ago



Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    @1ambda great analysis!
    
    > Basically, we use node as a tool. not the runtime
    
    This makes a lot of sense 


Github user 1ambda closed the pull request at:

    https://github.com/apache/zeppelin/pull/1659


GitHub user 1ambda reopened a pull request:

    https://github.com/apache/zeppelin/pull/1659

    [ZEPPELIN-1667] Fix maven options while updating node, npm packages

    ### What is this PR for?
    
    Update maven plugin, node vesion, npm package and fix tests to make #1639 pass CI
    
    ### What is the Jira issue?
    
    Sub issue of #1639 
    
    ### Questions:
    
    Does the licenses files need update? NO
    Is there breaking changes for older versions? YES (front-end build tool usage changed)
    Does this needs documentation? YES (front-end build tool usage changed)

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/1ambda/zeppelin pr/1639

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1659.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1659
    
----
commit ef32be0d8178d1eaafb40c5223c3b40375608a01
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T07:47:42Z

    chore: Update frontend plugin version

commit a5d43df6921ce556292e73415611dca9d4fdcda5
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T08:05:21Z

    chore: Add test, build task to npm

commit 11e9b003cc530f24b182ba8ace44180e612fa38a
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:30:08Z

    chore: Set maven options

commit 6b12125fd773d73cff6f2455ef2b08fa8750b9da
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:37:26Z

    fix(web): npm tasks in pom.xml

commit 8efd32db0fbb7d62b689bf9b8acbbb4cce61fa37
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:49:26Z

    fix(web): Set maven PerrGen option

commit 244f7c5ef3c5e5c2a2cc6db85dceee1704fd64c3
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:21:57Z

    chore: Update assembly plugin version

commit 3daf4238d919d1a077e00afcfa87dfdbdef7efa2
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:24:43Z

    chore: Set maven option using mavenrc

commit f2a85145e22e9298d886038e9c10107e7492376e
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:27:53Z

    chore: fix travis maven option

commit 548336c28e907efb8ffab621ad023b04132e9fb5
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:38:10Z

    chore: Remove bower install root option

commit 4fcc48b3a1c8928a91223f597f39c36b8674d64b
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:44:55Z

    chore: Update node, npm version to avoid proxy error

commit a6d10990da52f31aa0b9fb371bd4d72b21f47e16
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:50:53Z

    fix: Restore bower install option

commit 3ca7372bc804f4da26269b7e2b3d39f02f429339
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:19:13Z

    chore: Add slient option to bower (show error only)

commit 216db8751f6027dae07b3a4c06378a804d834bac
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:31:40Z

    chore: Update karma, phantom related package version

commit f0f7dc72b422e400ddcd2815f78ec6742162e809
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:58:43Z

    test: fix test for jasmine-core 2.x
    
    ref - http://stackoverflow.com/questions/27680933/jasmine-have-createspy-return-mock-object

----


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    https://travis-ci.org/apache/zeppelin/builds/177545019 (before caching bower, npm, node dc426b3)
    
    <img width="1049" alt="screen shot 2016-11-21 at 11 56 51 am" src="https://cloud.githubusercontent.com/assets/4968473/20469221/a188bc5e-afe1-11e6-9a8f-1cc9636e4421.png">
    



Github user 1ambda closed the pull request at:

    https://github.com/apache/zeppelin/pull/1659


GitHub user 1ambda reopened a pull request:

    https://github.com/apache/zeppelin/pull/1659

    [ZEPPELIN-1667] Fix maven options while updating node, npm packages

    ### What is this PR for?
    
    Update maven plugin, node vesion, npm package and fix tests to make #1639 pass CI
    
    ### What is the Jira issue?
    
    Sub issue of #1639 
    
    ### Questions:
    
    Does the licenses files need update? NO
    Is there breaking changes for older versions? YES (front-end build tool usage changed)
    Does this needs documentation? YES (front-end build tool usage changed)

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/1ambda/zeppelin pr/1639

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1659.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1659
    
----
commit f65cb5e54f94cc34be54293db635f2b8e8d13407
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T07:47:42Z

    chore: Update frontend plugin version

commit b6631c41970f176d99325e4cd07a14d69f7687c0
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T08:05:21Z

    chore: Add test, build task to npm

commit d7753a18bfc91b1d3af592ee36f48c6e033864b9
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:37:26Z

    fix(web): npm tasks in pom.xml

commit b86e8bdf7092fd65e1996a9b281085224772cbec
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:21:57Z

    chore: Update assembly plugin version

commit 48e3f04f699c6b9ef748d9e940bfde92b56e1f20
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:24:43Z

    chore: Set maven option using mavenrc

commit 8975a8291c38d975cef99a4388bbf60a4d79869f
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:27:53Z

    chore: fix travis maven option

commit ebfb16391a5ea7c6c98dac50ca3bc7b22f6c1d05
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:38:10Z

    chore: Remove bower install root option

commit 44e16af92246bd34dcb72c92d274663d90549715
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:44:55Z

    chore: Update node, npm version to avoid proxy error

commit 23dd663d05ffb3ad70773f341406bf99551128c8
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:50:53Z

    fix: Restore bower install option

commit b163567151962bfddb6c00507dc59319c2c83f01
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:19:13Z

    chore: Add slient option to bower (show error only)

commit bba95b521d616ce46ba1d4df7cb5185dd49cfa0f
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:31:40Z

    chore: Update karma, phantom related package version

commit 6b69e6190d21d884c20e74efe8c6eee5e4b34722
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:58:43Z

    test: fix test for jasmine-core 2.x
    
    ref - http://stackoverflow.com/questions/27680933/jasmine-have-createspy-return-mock-object

commit dc426b396d2e5ba90d8e51fcd2009b3f503f1b7e
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T02:42:36Z

    fix: Caching npm, bower, node directories

commit 484dd1b5e416b48cf9d17393e9295a0fe49ac4a3
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:05:53Z

    fix: Print warn, error log only while packing

commit 0a7504b9f72143436e4d88b520265d09d6838bb9
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:07:28Z

    fix: Remove useless script

----


Github user 1ambda closed the pull request at:

    https://github.com/apache/zeppelin/pull/1659


GitHub user 1ambda reopened a pull request:

    https://github.com/apache/zeppelin/pull/1659

    [ZEPPELIN-1667] Fix maven options while updating node, npm packages

    ### What is this PR for?
    
    Update maven plugin, node vesion, npm package and fix tests to make #1639 pass CI
    
    ### What is the Jira issue?
    
    Sub issue of #1639 
    
    ### Questions:
    
    Does the licenses files need update? NO
    Is there breaking changes for older versions? YES (front-end build tool usage changed)
    Does this needs documentation? YES (front-end build tool usage changed)

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/1ambda/zeppelin pr/1639

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1659.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1659
    
----
commit f65cb5e54f94cc34be54293db635f2b8e8d13407
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T07:47:42Z

    chore: Update frontend plugin version

commit b6631c41970f176d99325e4cd07a14d69f7687c0
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T08:05:21Z

    chore: Add test, build task to npm

commit d7753a18bfc91b1d3af592ee36f48c6e033864b9
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:37:26Z

    fix(web): npm tasks in pom.xml

commit b86e8bdf7092fd65e1996a9b281085224772cbec
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:21:57Z

    chore: Update assembly plugin version

commit 48e3f04f699c6b9ef748d9e940bfde92b56e1f20
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:24:43Z

    chore: Set maven option using mavenrc

commit 8975a8291c38d975cef99a4388bbf60a4d79869f
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:27:53Z

    chore: fix travis maven option

commit ebfb16391a5ea7c6c98dac50ca3bc7b22f6c1d05
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:38:10Z

    chore: Remove bower install root option

commit 44e16af92246bd34dcb72c92d274663d90549715
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:44:55Z

    chore: Update node, npm version to avoid proxy error

commit 23dd663d05ffb3ad70773f341406bf99551128c8
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:50:53Z

    fix: Restore bower install option

commit b163567151962bfddb6c00507dc59319c2c83f01
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:19:13Z

    chore: Add slient option to bower (show error only)

commit bba95b521d616ce46ba1d4df7cb5185dd49cfa0f
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:31:40Z

    chore: Update karma, phantom related package version

commit 6b69e6190d21d884c20e74efe8c6eee5e4b34722
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:58:43Z

    test: fix test for jasmine-core 2.x
    
    ref - http://stackoverflow.com/questions/27680933/jasmine-have-createspy-return-mock-object

commit dc426b396d2e5ba90d8e51fcd2009b3f503f1b7e
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T02:42:36Z

    fix: Caching npm, bower, node directories

commit 484dd1b5e416b48cf9d17393e9295a0fe49ac4a3
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:05:53Z

    fix: Print warn, error log only while packing

commit 0a7504b9f72143436e4d88b520265d09d6838bb9
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:07:28Z

    fix: Remove useless script

----


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    Thanks for improving CI @1ambda 
    
    Looks great to me, 
    will be happy to merege asap, right after [zeppelin-web/README.md](https://github.com/apache/zeppelin/blob/master/zeppelin-web/README.md) gets updated on new frontend build process!


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    README is updated. You can preview 
    
    - https://github.com/1ambda/zeppelin/blob/239c74a3100031bf615b879bf589719a78e9ba71/zeppelin-web/README.md


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    README is updated. 
    
    - (preview) https://github.com/1ambda/zeppelin/blob/ece898e982360aae05b899a02de9e8f8da095759/zeppelin-web/README.md


Github user cloverhearts commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    This is my personal opinion.
    For the Node.js 6x or 7x version, there is no problem in itself.
    However, I know that many of the libraries in Node.js have problems starting from version 6x or later, or are not being built.
    (I think this is due to a rapid change in the 6x version.)
    
    If you are upgrading to the 6x version first, we will greatly reduce the choice of many libraries now supported by the node.js community.
    On the other hand, I also agree with you that the current version of node.js is too low.
    
    However, we do not use node.js directly, we use it for dependency management and build management.
    So, what do you think about upgrading to the 5x or 4x version first?
    
    (Indeed, since the 6x LTS version is constantly changing over time, Zeppelin also has to take the uncertainty of Node.js along with the change)
    
    I'm sorry
    I'm not good at English.
    I apologize to you if I have been rude.
    Thank you.


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    @cloverhearts 
    
    Thanks for your comment. I have some questions. 
    
    - How we can check one of our dependencies doens't work on 6.x but works in 4.x even build passes?
    - As I know, all node modules are dev dependencies and doesn't affect on frontend libraries (bower packages). They are just concated and added to HTML. Are not they? ([Gruntfile.js of es6 PR](https://github.com/felizbear/zeppelin/blob/f083492cfb22073732ee4af70d1cb1d02b743706/zeppelin-web/Gruntfile.js))


Github user cloverhearts commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    :)
    I listened to your feedback, and tested the current version.
    Surely your opinion is correct.
    
    I personally have experienced problems with versioning up tools and environments.
    So I wrote a comment.
    
    I have verified the build test for node 6 and the behavior of the legacy library.
    There were some problems, but it was a problem that is happening in the current version.
    I think this is not a problem in upgrading node 6.
    I think that's why we should upgrade to node 6 rather.
    (Also for ES6 and other reasons)
    
    Thank you for listening to my comments.
    I agree to upgrade the Node 6 version.
    
    LGTM :)


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    @asanjar node version is bumped to 6.x TLS one, please let us know if that works for you you on Power arch.


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    rebased to resolve conflict with #1666 


Github user 1ambda closed the pull request at:

    https://github.com/apache/zeppelin/pull/1659


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    retrigger CI due to failures of irrelevant tests


GitHub user 1ambda reopened a pull request:

    https://github.com/apache/zeppelin/pull/1659

    [ZEPPELIN-1667] Fix maven options while updating node, npm packages

    ### What is this PR for?
    
    Update maven plugin, node vesion, npm package and fix tests to make #1639 pass CI
    
    ### What is the Jira issue?
    
    Sub issue of #1639 
    
    ### Questions:
    
    Does the licenses files need update? NO
    Is there breaking changes for older versions? YES (front-end build tool usage changed)
    Does this needs documentation? YES (front-end build tool usage changed)

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/1ambda/zeppelin pr/1639

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1659.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1659
    
----
commit 314dcd8b45f795fef987650ffc9d6b3cd42378b7
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T07:47:42Z

    chore: Update frontend plugin version

commit 6568960571a908854f07cc6ad4cd13982ade5e8d
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T08:05:21Z

    chore: Add test, build task to npm

commit 532f1e697ba3f7614e444b9d2e9a28f3bcd17177
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T12:37:26Z

    fix(web): npm tasks in pom.xml

commit f42531aff8ba5bad601bd40ea91be39f80d5bfa6
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:21:57Z

    chore: Update assembly plugin version

commit 668a68761b1c5f48568bcddc2cffc04527a901f5
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:24:43Z

    chore: Set maven option using mavenrc

commit 488092af94982d3da51cb1132fbab761311cc1ad
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:27:53Z

    chore: fix travis maven option

commit e08580983f0b6b4c04f7e2a485510ae7115bc78e
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:38:10Z

    chore: Remove bower install root option

commit 4c26211faec7822cc3b25d47dc4b53dc739ac737
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:44:55Z

    chore: Update node, npm version to avoid proxy error

commit ca2359c5226ea25491a898d8f9b3067dbdd0bce3
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T13:50:53Z

    fix: Restore bower install option

commit 6bb52ccace7617344033c99569464e709cd4da23
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:19:13Z

    chore: Add slient option to bower (show error only)

commit ded1f2c0dc8dfeb8224a71facdc18e9d5f64ad2b
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:31:40Z

    chore: Update karma, phantom related package version

commit ac40b5690d755f52914a9cc7d68139ddbec27a71
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-19T14:58:43Z

    test: fix test for jasmine-core 2.x
    
    ref - http://stackoverflow.com/questions/27680933/jasmine-have-createspy-return-mock-object

commit 5e1e746d5b324189f4e2b9e66dc5d8f8fa074bfd
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T02:42:36Z

    fix: Caching npm, bower, node directories

commit 5cdd813e1570638e290457e7c03ea373741d5c8c
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:05:53Z

    fix: Print warn, error log only while packing

commit a2aab1f22b89b6a4a407f5d4cd155bc0a9e1860d
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-21T03:07:28Z

    fix: Remove useless script

commit f0fcdff352e3fc6be4a6801c40d1de4a2bb99a66
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-22T04:37:11Z

    feat: Add start script to package.json

commit d8c9d36e777e278b4e2f8c94ece0ffabfff30d4b
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-22T04:37:34Z

    docs: Update zeppelin-web/README.md

commit e5b414b91a630fb8ea33ea1a8c59f3666a910dc6
Author: 1ambda <1amb4a@gmail.com>
Date:   2016-11-22T04:49:04Z

    docs: Add a package installation command

----


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    Great, thank you @1ambda !
    
    Looks great to me, @asanjar if there is no more input on Node version (this PR uses v6, latest LTS) - merging it to master.



Github user asanjar commented on the issue:

    https://github.com/apache/zeppelin/pull/1659
  
    +1 
    sorry for the delay in responding. you guys have been superb 


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/1659


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear Could you resolve conflict?


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    Thank you @1ambda !
    
    @felizbear as soon as #1659 with CI improvements was merged, let's rebase and see if we can merge this guy


Github user tae-jun commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    You guys rock! 👍 


Github user felizbear commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    rebased


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    @felizbear great! 
    From my experience, if you, as PR author, elaborate on the CI failure,  in case of any, it usually speeds merging things up.


Github user felizbear closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


GitHub user felizbear reopened a pull request:

    https://github.com/apache/zeppelin/pull/1639

    [ZEPPELIN-1667] add support for es6

    ### What is this PR for?
    This PR adds support for the current ECMAScript standard [es6](http://www.ecma-international.org/ecma-262/6.0/) via [babel](http://babeljs.io/) ([babel-grunt](https://github.com/babel/grunt-babel) plugin)
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [x] - Add babel presets for es6 (aka es2015) and object spread operator
    * [x] - Add eslint rules to lint es6 correctly
    * [x] - Add `babel` task to grunt and modify `serve`, `test` and `build` tasks
    
    ### What is the Jira issue?
    https://issues.apache.org/jira/browse/ZEPPELIN-1667
    
    ### How should this be tested?
    1. Run `grunt serve` and make sure it works properly (including reload on change)
    2. Run `grunt test` and make sure tests pass
    3. Run `grunt build` and make sure it builds and runs correctly
    


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/felizbear/zeppelin frontend-es2015

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1639.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1639
    
----
commit f932e1d9e6580e8ebb3835f53f7f3e9b41e9c633
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T02:17:41Z

    add babel task to gruntfile

commit b058b4fa6557928a45f86dc30e894c32f456a4e6
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:29:23Z

    update eslintrc to enable linting es6

commit 7f30ce734339b9adc3a2fbdf9211dbda1b5107e3
Author: felizbear <ilya@nflabs.com>
Date:   2016-11-15T08:35:49Z

    add dependencies on grunt-babel and babel presets

----


Github user bzz commented on the issue:

    https://github.com/apache/zeppelin/pull/1639
  
    CI is green now. 
    
    Looks great to me, merging to master if there is no further discussion.


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/1639


