GitHub user conker84 opened a pull request:

    https://github.com/apache/zeppelin/pull/1582

    [ZEPPELIN-1604] Add Neo4j interpreter and Network visualization

    ### What is this PR for?
    This contribution would to introduce Neo4j Cypher intepreter and the new network visualization;
    at the same time would provide base APIs that allow other graph databases (or graph framworks such as GraphX or Giraph).
    
    ### What type of PR is it?
    [Feature]
    
    ### Todos
    * [x] - Create the network visualization (using [Sigma.js](http://sigmajs.org/))
    * [x] - Provide base APIs to manage graph results (under: org.apache.zeppelin.interpreter.graph.*)
    * [x] - Create the Neo4j intepreter
    
    ### What is the Jira issue?
    [[ZEPPELIN-1604]](https://issues.apache.org/jira/browse/ZEPPELIN-1604)
    
    ### How should this be tested?
    Donwload and execute [Neo4j](https://neo4j.com/download/?ref=home) v3.x, you can also pull a [Docker image](https://neo4j.com/developer/docker/).
    
    In order to execute test cases, if you are running Java 7, you need to also provide an environment variable telling the tests where to find Java 8, because Neo4j-the-database needs it to run.
    ```bash
    export NEO4J_JAVA=<path/to/java/home>
    ```
    
    Use this statement to create a dummy dataset
    ```bash
    %neo4j
    UNWIND range(1,100) as id
    CREATE (p:Person {id:id, name: "Name " + id, age: id % 3}) WITH collect(p) as people
    UNWIND people as p1
    UNWIND range(1,10) as friend
    WITH p1, people[(p1.id + friend) % size(people)] as p2
    CREATE (p1)-[:KNOWS {years: abs(p2.id - p2.id)}]->(p2)
    ```
    
    Then you can write some simple queries like:
    ```bash
    %neo4j
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p, r, p1
    LIMIT 10;
    ```
    
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p.id AS ID_A, p.name AS NAME_A, r.years AS YEARS, p1.id AS ID_B, p1.name AS NAME_B
    LIMIT 20;
    ```
    ### Screenshots
    ![Simple cypher query network visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-network-result.png)
    
    ![Simple cypher query tabular visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-tabular-result.png)
    
    ### Video
    ![localhost_9000___-google-chrome-01_11_2016-15_44_24](https://cloud.githubusercontent.com/assets/1833335/19947893/6e83ec66-a14a-11e6-978a-c85c6929209a.gif)
    
    ### Questions:
    * Does the licenses files need update? **Yes**
    * Is there breaking changes for older versions? **No**
    * Does this needs documentation? **Yes**. I have create the neo4j.md file in /docs/intepreter folder

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/conker84/zeppelin master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1582.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1582
    
----
commit 4e685ccf2bc23c41f7d48569af584ee535feb474
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T20:07:17Z

    First commit

commit acc4307dd1b7f90dedf76ecb8a4b27e93658399f
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 72f12036047e8fdd518712527380730ac139988d
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit bd1b0f23fd1b5e35e5a3c125fff50abccebc4ba3
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:37:30Z

    Changes:
    
    Move the GraphResult to zeppelin-intepreter package in order to use as
    base api for other graph databases.
    Added neo4.md to the documentation.
    Prevented the nodes overlap.

commit 251fba0a16ded784be33995ba83abe0cb23f388a
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit bf68eb6b6ee28de7e9fa8c67c223130d7b802949
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit c8249b6c45c1b5957957ea3cac13d8fb4c17ef5d
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit d5997778c2edf9b75cef66d36ec95bf5a14fc5bb
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 9aefddfc5a95fb469f21cec1a968cc917020dea5
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 793f72922cd9acbe4a5cbf26986d4c4ceedf9df2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

----


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Thank you for the great contribution. Could you check https://zeppelin.apache.org/docs/0.7.0-SNAPSHOT/development/writingzeppelininterpreter.html#contributing-a-new-interpreter-to-zeppelin-releases
    
    Specifically,
    - add a link to your documentation in the navigation menu (docs/_includes/themes/zeppelin/_navigation.html).
    - licenses of the transitive closure of all dependencies are list in license


Github user Leemoonsoo commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Front-end visualization code has been refactored from https://github.com/apache/zeppelin/pull/1529. I think that's the biggest conflicts that this branch have right now.
    
    Could you merge master branch to this branch and resolve conflict?
    Basically you'll need to move network visualization into `zeppelin-web/src/app/visualization/builtins` like other built-in visualizations.
    Let me know if you need any help on it. I'd like to help.



Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @Leemoonsoo i'll study the code this we. I'll let you know if i need help! Thanks!!!


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Hi @Leemoonsoo i have just published the code refactored as from #1529 
    I will look forward to your feedback!


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    could you rebase this PR and see if CI passes?


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung the CI still fails.
    The `org.apache.zeppelin.interpreter.InterpreterOutputChangeWatcherTest` fails but in my enviroment it passes the test.
    Where am i wrong?


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    hmm, I'm not sure
    ```
    17:29:54,140  INFO org.apache.zeppelin.interpreter.InterpreterOutputChangeWatcher:71 - watch /tmp/ZeppelinLTest_1480267793139
    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.151 sec <<< FAILURE! - in org.apache.zeppelin.interpreter.InterpreterOutputChangeWatcherTest
    test(org.apache.zeppelin.interpreter.InterpreterOutputChangeWatcherTest)  Time elapsed: 2.141 sec  <<< ERROR!
    java.io.IOException: User limit of inotify watches reached
    	at sun.nio.fs.LinuxWatchService$Poller.implRegister(LinuxWatchService.java:261)
    	at sun.nio.fs.AbstractPoller.processRequests(AbstractPoller.java:260)
    	at sun.nio.fs.LinuxWatchService$Poller.run(LinuxWatchService.java:326)
    	at java.lang.Thread.run(Thread.java:745)
    
    ```
    
    Doesn't seem like we are seeing this error recently, @bzz do you know?


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    My devloping evironment is Windows (10) if it can help


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    I reviewed these changes again and didn't see why they would cause that error.
    
    Could you rebase this PR and check our my comment (which should simplify the diff).
    
    These changes would be very good to have in the coming release; let's try this again - if test fails again you could close and reopen this PR to trigger CI runs manually.


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Sure, i'm working on it!
    Thanks!


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung i'm having some issue when i made the rebase. Can you help me?


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    What's the issue and how can I help?
    



Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    I can't get the rebase done good this time.
    Can you suggest some resource on the web to better understand how to rebase the code on Eclipse?
    I google around but i haven't fine anything valuable.


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    I think if you are doing a rebase it might be easier to use a tool. Have you tried SourceTree or GitHub Desktop tool?
    



Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung SourceTree works very well, thanks for the advice!
    Now focusing to the PR, there still are conflicts, so i'll rebase the code again.


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung  after the last rebase i can't get Zeppelin running,
    ```bash
     WARN [2017-01-20 15:24:13,141] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinConfiguration.java[create]:97) - Failed to load configuration, proceeding with a default
     INFO [2017-01-20 15:24:13,292] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinConfiguration.java[create]:109) - Server Host: 0.0.0.0
     INFO [2017-01-20 15:24:13,293] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinConfiguration.java[create]:111) - Server Port: 8080
     INFO [2017-01-20 15:24:13,293] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinConfiguration.java[create]:115) - Context Path: /
     INFO [2017-01-20 15:24:13,360] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinConfiguration.java[create]:116) - Zeppelin Version: 0.8.0-SNAPSHOT
     INFO [2017-01-20 15:24:14,036] ({org.apache.zeppelin.server.ZeppelinServer.main()} Log.java[initialized]:186) - Logging initialized @191590ms
     INFO [2017-01-20 15:24:16,736] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinServer.java[main]:176) - Starting zeppelin server
     INFO [2017-01-20 15:24:16,742] ({org.apache.zeppelin.server.ZeppelinServer.main()} Server.java[doStart]:327) - jetty-9.2.15.v20160210
     INFO [2017-01-20 15:24:17,460] ({org.apache.zeppelin.server.ZeppelinServer.main()} StandardDescriptorProcessor.java[visitServlet]:297) - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
    java.lang.reflect.InvocationTargetException
            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
            at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createSingletonInstance(CXFNonSpringJaxrsServlet.java:382)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createApplicationInstance(CXFNonSpringJaxrsServlet.java:454)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createServerFromApplication(CXFNonSpringJaxrsServlet.java:432)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.init(CXFNonSpringJaxrsServlet.java:93)
            at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:616)
            at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:396)
            at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:871)
            at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:298)
            at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1349)
            at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1342)
            at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:741)
            at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:505)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:163)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.server.Server.start(Server.java:387)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.Server.doStart(Server.java:354)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.apache.zeppelin.server.ZeppelinServer.main(ZeppelinServer.java:178)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
            at java.lang.reflect.Method.invoke(Method.java:497)
            at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)
            at java.lang.Thread.run(Thread.java:745)
    Caused by: java.lang.NoClassDefFoundError: org/apache/http/client/methods/HttpUriRequest
            at com.github.eirslett.maven.plugins.frontend.lib.FrontendPluginFactory.getNPMInstaller(FrontendPluginFactory.java:29)
            at org.apache.zeppelin.helium.HeliumVisualizationFactory.installNodeAndNpm(HeliumVisualizationFactory.java:80)
            at org.apache.zeppelin.helium.HeliumVisualizationFactory.<init>(HeliumVisualizationFactory.java:74)
            at org.apache.zeppelin.helium.HeliumVisualizationFactory.<init>(HeliumVisualizationFactory.java:60)
            at org.apache.zeppelin.server.ZeppelinServer.<init>(ZeppelinServer.java:118)
            ... 35 more
    Caused by: java.lang.ClassNotFoundException: org.apache.http.client.methods.HttpUriRequest
            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
            ... 40 more
     WARN [2017-01-20 15:24:19,688] ({org.apache.zeppelin.server.ZeppelinServer.main()} ContextHandler.java[log]:2062) - unavailable
    javax.servlet.ServletException: Resource class org.apache.zeppelin.server.ZeppelinServer can not be instantiated due to InvocationTargetException
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createSingletonInstance(CXFNonSpringJaxrsServlet.java:396)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createApplicationInstance(CXFNonSpringJaxrsServlet.java:454)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createServerFromApplication(CXFNonSpringJaxrsServlet.java:432)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.init(CXFNonSpringJaxrsServlet.java:93)
            at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:616)
            at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:396)
            at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:871)
            at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:298)
            at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1349)
            at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1342)
            at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:741)
            at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:505)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:163)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.server.Server.start(Server.java:387)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.Server.doStart(Server.java:354)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.apache.zeppelin.server.ZeppelinServer.main(ZeppelinServer.java:178)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
            at java.lang.reflect.Method.invoke(Method.java:497)
            at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)
            at java.lang.Thread.run(Thread.java:745)
    gen 20, 2017 3:24:20 PM com.sun.jersey.api.core.PackagesResourceConfig init
    INFO: Scanning for root resource and provider classes in the packages:
      org.apache.zeppelin.rest
    gen 20, 2017 3:24:21 PM com.sun.jersey.api.core.ScanningResourceConfig logClasses
    INFO: Root resource classes found:
      class org.apache.zeppelin.rest.LoginRestApi
      class org.apache.zeppelin.rest.ConfigurationsRestApi
      class org.apache.zeppelin.rest.CredentialRestApi
      class org.apache.zeppelin.rest.HeliumRestApi
      class org.apache.zeppelin.rest.SecurityRestApi
      class org.apache.zeppelin.rest.ZeppelinRestApi
      class org.apache.zeppelin.rest.InterpreterRestApi
      class org.apache.zeppelin.rest.NotebookRepoRestApi
      class org.apache.zeppelin.rest.NotebookRestApi
    gen 20, 2017 3:24:21 PM com.sun.jersey.api.core.ScanningResourceConfig init
    INFO: No provider classes found.
    gen 20, 2017 3:24:22 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
    INFO: Initiating Jersey application, version 'Jersey: 1.13 06/29/2012 05:14 PM'
    gen 20, 2017 3:24:24 PM com.sun.jersey.spi.inject.Errors processErrorMessages
    WARNING: The following warnings have been detected with resource and/or provider classes:
      WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.zeppelin.rest.CredentialRestApi.getCredentials(java.lang.String) throws java.io.IOException,java.lang.IllegalArgumentException, should not consume any entity.
      WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.zeppelin.rest.InterpreterRestApi.listInterpreter(java.lang.String), should not consume any entity.
      WARNING: A sub-resource method, public javax.ws.rs.core.Response org.apache.zeppelin.rest.NotebookRestApi.getNoteList() throws java.io.IOException, with URI template, "/", is treated as a resource method
      WARNING: A sub-resource method, public javax.ws.rs.core.Response org.apache.zeppelin.rest.NotebookRestApi.createNote(java.lang.String) throws java.io.IOException, with URI template, "/", is treated as a resource method
     WARN [2017-01-20 15:24:24,065] ({org.apache.zeppelin.server.ZeppelinServer.main()} WebAppContext.java[doStart]:514) - Failed startup of context o.e.j.w.WebAppContext@7ae07f10{/,file:/C:/Users/a.santurbano/workspace_zeppelin/zeppelin/zeppelin-web/dist/,STARTING}
    javax.servlet.ServletException: Resource class org.apache.zeppelin.server.ZeppelinServer can not be instantiated due to InvocationTargetException
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createSingletonInstance(CXFNonSpringJaxrsServlet.java:396)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createApplicationInstance(CXFNonSpringJaxrsServlet.java:454)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.createServerFromApplication(CXFNonSpringJaxrsServlet.java:432)
            at org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet.init(CXFNonSpringJaxrsServlet.java:93)
            at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:616)
            at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:396)
            at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:871)
            at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:298)
            at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1349)
            at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1342)
            at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:741)
            at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:505)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:163)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
            at org.eclipse.jetty.server.Server.start(Server.java:387)
            at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
            at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)
            at org.eclipse.jetty.server.Server.doStart(Server.java:354)
            at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
            at org.apache.zeppelin.server.ZeppelinServer.main(ZeppelinServer.java:178)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
            at java.lang.reflect.Method.invoke(Method.java:497)
            at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)
            at java.lang.Thread.run(Thread.java:745)
     INFO [2017-01-20 15:24:24,171] ({org.apache.zeppelin.server.ZeppelinServer.main()} AbstractConnector.java[doStart]:266) - Started ServerConnector@6b629c60{HTTP/1.1}{0.0.0.0:8080}
     INFO [2017-01-20 15:24:24,173] ({org.apache.zeppelin.server.ZeppelinServer.main()} Server.java[doStart]:379) - Started @201728ms
     INFO [2017-01-20 15:24:24,173] ({org.apache.zeppelin.server.ZeppelinServer.main()} ZeppelinServer.java[main]:183) - Done, zeppelin server started
    ```
    I have also builded zeppelin from the apache master branch but i got the same error, can you help me (so the error it's not related to the rebase)?
    Thanks


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    The bug is in:
    `org.apache.zeppelin.helium.HeliumVisualizationFactory.installNodeAndNpm(HeliumVisualizationFactory.java:80)`
    and is not related to the PR


Github user conker84 closed the pull request at:

    https://github.com/apache/zeppelin/pull/1582


GitHub user conker84 reopened a pull request:

    https://github.com/apache/zeppelin/pull/1582

    [ZEPPELIN-1604] Add Neo4j interpreter and Network visualization

    ### What is this PR for?
    This contribution would to introduce Neo4j Cypher intepreter and the new network visualization;
    at the same time would provide base APIs that enable other graph databases (or graph framworks such as GraphX or Giraph).
    
    ### What type of PR is it?
    [Feature]
    
    ### Todos
    * [x] - Create the network visualization
    * [x] - Provide base APIs to manage graph results (under: org.apache.zeppelin.interpreter.graph.*)
    * [x] - Create the Neo4j intepreter
    
    ### What is the Jira issue?
    [[ZEPPELIN-1604]](https://issues.apache.org/jira/browse/ZEPPELIN-1604)
    
    ### How should this be tested?
    Donwload and execute [Neo4j](https://neo4j.com/download/?ref=home) v3.x, you can also pull a [Docker image](https://neo4j.com/developer/docker/).
    
    In order to execute test cases, if you are running Java 7, you need to also provide an environment variable telling the tests where to find Java 8, because Neo4j-the-database needs it to run.
    ```bash
    export NEO4J_JAVA=<path/to/java/home>
    ```
    
    Use this statement to create a dummy dataset
    ```bash
    %neo4j
    UNWIND range(1,100) as id
    CREATE (p:Person {id:id, name: "Name " + id, age: id % 3}) WITH collect(p) as people
    UNWIND people as p1
    UNWIND range(1,10) as friend
    WITH p1, people[(p1.id + friend) % size(people)] as p2
    CREATE (p1)-[:KNOWS {years: abs(p2.id - p2.id)}]->(p2)
    ```
    
    Then you can write some simple queries like:
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p, r, p1
    LIMIT 10;
    ```
    
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p.id AS ID_A, p.name AS NAME_A, r.years AS YEARS, p1.id AS ID_B, p1.name AS NAME_B
    LIMIT 20;
    ```
    ### Screenshots
    ![Simple cypher query network visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-network-result.png)
    
    ![Simple cypher query tabular visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-tabular-result.png)
    
    ### Video
    ![localhost_9000___-google-chrome-01_11_2016-15_44_24](https://cloud.githubusercontent.com/assets/1833335/19947893/6e83ec66-a14a-11e6-978a-c85c6929209a.gif)
    
    ### Questions:
    * Does the licenses files need update? **Yes**
    * Is there breaking changes for older versions? **No**
    * Does this needs documentation? **Yes**. I have create the neo4j.md file in /docs/intepreter folder

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/conker84/zeppelin master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1582.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1582
    
----
commit 4e685ccf2bc23c41f7d48569af584ee535feb474
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T20:07:17Z

    First commit

commit acc4307dd1b7f90dedf76ecb8a4b27e93658399f
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 72f12036047e8fdd518712527380730ac139988d
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit bd1b0f23fd1b5e35e5a3c125fff50abccebc4ba3
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:37:30Z

    Changes:
    
    Move the GraphResult to zeppelin-intepreter package in order to use as
    base api for other graph databases.
    Added neo4.md to the documentation.
    Prevented the nodes overlap.

commit 251fba0a16ded784be33995ba83abe0cb23f388a
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit bf68eb6b6ee28de7e9fa8c67c223130d7b802949
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit c8249b6c45c1b5957957ea3cac13d8fb4c17ef5d
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit d5997778c2edf9b75cef66d36ec95bf5a14fc5bb
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 9aefddfc5a95fb469f21cec1a968cc917020dea5
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 793f72922cd9acbe4a5cbf26986d4c4ceedf9df2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit 96853e1e3070230c24c96ac1c549754a3af63737
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit f68ab8e4ac3b9a09a45ae9d534743035ecd8ff25
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:28:14Z

    updated the zeppelin-site-xml.template file

commit 6e92dbb923e6d11ff85d50bbf2748bc61d37942a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit d57133d39f9bf9d9518cb74e0ed1bb2e32da983a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit 964404b360d70a2337761b7ff716e780140d6648
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T18:03:02Z

    Added tag to sigma.js in bower.json

commit 39d0fa2dc1993ba89f6273602e7289083fb3cc49
Author: conker84 <santand@gmail.com>
Date:   2016-11-04T21:10:41Z

    Updated the code to manage simple graphs.
    Updated the documentation.

commit 956a53735b8e69ed92815e8e8a84587af88997ac
Author: conker84 <santand@gmail.com>
Date:   2016-11-08T19:27:01Z

    Changes:
    
    Updated documentation
    Fixed perfomance issues

commit c5b57f7a83fd1ebccb0c2509e959f906dc0085c6
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:36:26Z

    Rebase 1

commit 96d79a5e93a1dbcab7cace724feabf07ecf082f1
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 4a6e69023b8999d00c38f8987668316df0922366
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit 14fddace5d3b179983efeed4ee0bd7f3489dea1d
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:38:26Z

    Rebase 2

commit 00acf1e3021eb6d93be385ba98fbfa85860b4514
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit 59a85f84cf673323f811ae15609ca93cef0da951
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit 62ed113760b6cdac39d691e6f38a33fd22ce8ee0
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit 144224d806169187531b1a06bbd0a3bfc951d233
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 44c924db0827a6fb9982dd28aee2c4d40896a339
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 3221fa5723f05d6f7423008e25ce33b4280271e2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit a86ed5423b81e5a4d053aede274cb6356f5e1bdf
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit b2aaa1c85c1b49482bda0e9428ad518948b6b9a2
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:39:22Z

    Rebase 3

commit cbd6e64a396f653c2944fbd98c3c76331e6e3d34
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:40:23Z

    Rebase 3

----


Github user conker84 closed the pull request at:

    https://github.com/apache/zeppelin/pull/1582


GitHub user conker84 reopened a pull request:

    https://github.com/apache/zeppelin/pull/1582

    [ZEPPELIN-1604] Add Neo4j interpreter and Network visualization

    ### What is this PR for?
    This contribution would to introduce Neo4j Cypher intepreter and the new network visualization;
    at the same time would provide base APIs that enable other graph databases (or graph framworks such as GraphX or Giraph).
    
    ### What type of PR is it?
    [Feature]
    
    ### Todos
    * [x] - Create the network visualization
    * [x] - Provide base APIs to manage graph results (under: org.apache.zeppelin.interpreter.graph.*)
    * [x] - Create the Neo4j intepreter
    
    ### What is the Jira issue?
    [[ZEPPELIN-1604]](https://issues.apache.org/jira/browse/ZEPPELIN-1604)
    
    ### How should this be tested?
    Donwload and execute [Neo4j](https://neo4j.com/download/?ref=home) v3.x, you can also pull a [Docker image](https://neo4j.com/developer/docker/).
    
    In order to execute test cases, if you are running Java 7, you need to also provide an environment variable telling the tests where to find Java 8, because Neo4j-the-database needs it to run.
    ```bash
    export NEO4J_JAVA=<path/to/java/home>
    ```
    
    Use this statement to create a dummy dataset
    ```bash
    %neo4j
    UNWIND range(1,100) as id
    CREATE (p:Person {id:id, name: "Name " + id, age: id % 3}) WITH collect(p) as people
    UNWIND people as p1
    UNWIND range(1,10) as friend
    WITH p1, people[(p1.id + friend) % size(people)] as p2
    CREATE (p1)-[:KNOWS {years: abs(p2.id - p2.id)}]->(p2)
    ```
    
    Then you can write some simple queries like:
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p, r, p1
    LIMIT 10;
    ```
    
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p.id AS ID_A, p.name AS NAME_A, r.years AS YEARS, p1.id AS ID_B, p1.name AS NAME_B
    LIMIT 20;
    ```
    ### Screenshots
    ![Simple cypher query network visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-network-result.png)
    
    ![Simple cypher query tabular visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-tabular-result.png)
    
    ### Video
    ![localhost_9000___-google-chrome-01_11_2016-15_44_24](https://cloud.githubusercontent.com/assets/1833335/19947893/6e83ec66-a14a-11e6-978a-c85c6929209a.gif)
    
    ### Questions:
    * Does the licenses files need update? **Yes**
    * Is there breaking changes for older versions? **No**
    * Does this needs documentation? **Yes**. I have create the neo4j.md file in /docs/intepreter folder

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/conker84/zeppelin master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1582.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1582
    
----
commit 4e685ccf2bc23c41f7d48569af584ee535feb474
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T20:07:17Z

    First commit

commit acc4307dd1b7f90dedf76ecb8a4b27e93658399f
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 72f12036047e8fdd518712527380730ac139988d
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit bd1b0f23fd1b5e35e5a3c125fff50abccebc4ba3
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:37:30Z

    Changes:
    
    Move the GraphResult to zeppelin-intepreter package in order to use as
    base api for other graph databases.
    Added neo4.md to the documentation.
    Prevented the nodes overlap.

commit 251fba0a16ded784be33995ba83abe0cb23f388a
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit bf68eb6b6ee28de7e9fa8c67c223130d7b802949
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit c8249b6c45c1b5957957ea3cac13d8fb4c17ef5d
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit d5997778c2edf9b75cef66d36ec95bf5a14fc5bb
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 9aefddfc5a95fb469f21cec1a968cc917020dea5
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 793f72922cd9acbe4a5cbf26986d4c4ceedf9df2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit 96853e1e3070230c24c96ac1c549754a3af63737
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit f68ab8e4ac3b9a09a45ae9d534743035ecd8ff25
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:28:14Z

    updated the zeppelin-site-xml.template file

commit 6e92dbb923e6d11ff85d50bbf2748bc61d37942a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit d57133d39f9bf9d9518cb74e0ed1bb2e32da983a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit 964404b360d70a2337761b7ff716e780140d6648
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T18:03:02Z

    Added tag to sigma.js in bower.json

commit 39d0fa2dc1993ba89f6273602e7289083fb3cc49
Author: conker84 <santand@gmail.com>
Date:   2016-11-04T21:10:41Z

    Updated the code to manage simple graphs.
    Updated the documentation.

commit 956a53735b8e69ed92815e8e8a84587af88997ac
Author: conker84 <santand@gmail.com>
Date:   2016-11-08T19:27:01Z

    Changes:
    
    Updated documentation
    Fixed perfomance issues

commit c5b57f7a83fd1ebccb0c2509e959f906dc0085c6
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:36:26Z

    Rebase 1

commit 96d79a5e93a1dbcab7cace724feabf07ecf082f1
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 4a6e69023b8999d00c38f8987668316df0922366
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit 14fddace5d3b179983efeed4ee0bd7f3489dea1d
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:38:26Z

    Rebase 2

commit 00acf1e3021eb6d93be385ba98fbfa85860b4514
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit 59a85f84cf673323f811ae15609ca93cef0da951
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit 62ed113760b6cdac39d691e6f38a33fd22ce8ee0
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit 144224d806169187531b1a06bbd0a3bfc951d233
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 44c924db0827a6fb9982dd28aee2c4d40896a339
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 3221fa5723f05d6f7423008e25ce33b4280271e2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit a86ed5423b81e5a4d053aede274cb6356f5e1bdf
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit b2aaa1c85c1b49482bda0e9428ad518948b6b9a2
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:39:22Z

    Rebase 3

commit cbd6e64a396f653c2944fbd98c3c76331e6e3d34
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:40:23Z

    Rebase 3

----


Github user conker84 closed the pull request at:

    https://github.com/apache/zeppelin/pull/1582


GitHub user conker84 reopened a pull request:

    https://github.com/apache/zeppelin/pull/1582

    [ZEPPELIN-1604] Add Neo4j interpreter and Network visualization

    ### What is this PR for?
    This contribution would to introduce Neo4j Cypher intepreter and the new network visualization;
    at the same time would provide base APIs that enable other graph databases (or graph framworks such as GraphX or Giraph).
    
    ### What type of PR is it?
    [Feature]
    
    ### Todos
    * [x] - Create the network visualization
    * [x] - Provide base APIs to manage graph results (under: org.apache.zeppelin.interpreter.graph.*)
    * [x] - Create the Neo4j intepreter
    
    ### What is the Jira issue?
    [[ZEPPELIN-1604]](https://issues.apache.org/jira/browse/ZEPPELIN-1604)
    
    ### How should this be tested?
    Donwload and execute [Neo4j](https://neo4j.com/download/?ref=home) v3.x, you can also pull a [Docker image](https://neo4j.com/developer/docker/).
    
    In order to execute test cases, if you are running Java 7, you need to also provide an environment variable telling the tests where to find Java 8, because Neo4j-the-database needs it to run.
    ```bash
    export NEO4J_JAVA=<path/to/java/home>
    ```
    
    Use this statement to create a dummy dataset
    ```bash
    %neo4j
    UNWIND range(1,100) as id
    CREATE (p:Person {id:id, name: "Name " + id, age: id % 3}) WITH collect(p) as people
    UNWIND people as p1
    UNWIND range(1,10) as friend
    WITH p1, people[(p1.id + friend) % size(people)] as p2
    CREATE (p1)-[:KNOWS {years: abs(p2.id - p2.id)}]->(p2)
    ```
    
    Then you can write some simple queries like:
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p, r, p1
    LIMIT 10;
    ```
    
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p.id AS ID_A, p.name AS NAME_A, r.years AS YEARS, p1.id AS ID_B, p1.name AS NAME_B
    LIMIT 20;
    ```
    ### Screenshots
    ![Simple cypher query network visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-network-result.png)
    
    ![Simple cypher query tabular visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-tabular-result.png)
    
    ### Video
    ![localhost_9000___-google-chrome-01_11_2016-15_44_24](https://cloud.githubusercontent.com/assets/1833335/19947893/6e83ec66-a14a-11e6-978a-c85c6929209a.gif)
    
    ### Questions:
    * Does the licenses files need update? **Yes**
    * Is there breaking changes for older versions? **No**
    * Does this needs documentation? **Yes**. I have create the neo4j.md file in /docs/intepreter folder

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/conker84/zeppelin master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1582.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1582
    
----
commit 4e685ccf2bc23c41f7d48569af584ee535feb474
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T20:07:17Z

    First commit

commit acc4307dd1b7f90dedf76ecb8a4b27e93658399f
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 72f12036047e8fdd518712527380730ac139988d
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit bd1b0f23fd1b5e35e5a3c125fff50abccebc4ba3
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:37:30Z

    Changes:
    
    Move the GraphResult to zeppelin-intepreter package in order to use as
    base api for other graph databases.
    Added neo4.md to the documentation.
    Prevented the nodes overlap.

commit 251fba0a16ded784be33995ba83abe0cb23f388a
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit bf68eb6b6ee28de7e9fa8c67c223130d7b802949
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit c8249b6c45c1b5957957ea3cac13d8fb4c17ef5d
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit d5997778c2edf9b75cef66d36ec95bf5a14fc5bb
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 9aefddfc5a95fb469f21cec1a968cc917020dea5
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 793f72922cd9acbe4a5cbf26986d4c4ceedf9df2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit 96853e1e3070230c24c96ac1c549754a3af63737
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit f68ab8e4ac3b9a09a45ae9d534743035ecd8ff25
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:28:14Z

    updated the zeppelin-site-xml.template file

commit 6e92dbb923e6d11ff85d50bbf2748bc61d37942a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit d57133d39f9bf9d9518cb74e0ed1bb2e32da983a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit 964404b360d70a2337761b7ff716e780140d6648
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T18:03:02Z

    Added tag to sigma.js in bower.json

commit 39d0fa2dc1993ba89f6273602e7289083fb3cc49
Author: conker84 <santand@gmail.com>
Date:   2016-11-04T21:10:41Z

    Updated the code to manage simple graphs.
    Updated the documentation.

commit 956a53735b8e69ed92815e8e8a84587af88997ac
Author: conker84 <santand@gmail.com>
Date:   2016-11-08T19:27:01Z

    Changes:
    
    Updated documentation
    Fixed perfomance issues

commit c5b57f7a83fd1ebccb0c2509e959f906dc0085c6
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:36:26Z

    Rebase 1

commit 96d79a5e93a1dbcab7cace724feabf07ecf082f1
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 4a6e69023b8999d00c38f8987668316df0922366
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit 14fddace5d3b179983efeed4ee0bd7f3489dea1d
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:38:26Z

    Rebase 2

commit 00acf1e3021eb6d93be385ba98fbfa85860b4514
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit 59a85f84cf673323f811ae15609ca93cef0da951
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit 62ed113760b6cdac39d691e6f38a33fd22ce8ee0
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit 144224d806169187531b1a06bbd0a3bfc951d233
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 44c924db0827a6fb9982dd28aee2c4d40896a339
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 3221fa5723f05d6f7423008e25ce33b4280271e2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit a86ed5423b81e5a4d053aede274cb6356f5e1bdf
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit b2aaa1c85c1b49482bda0e9428ad518948b6b9a2
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:39:22Z

    Rebase 3

commit cbd6e64a396f653c2944fbd98c3c76331e6e3d34
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:40:23Z

    Rebase 3

----


Github user conker84 closed the pull request at:

    https://github.com/apache/zeppelin/pull/1582


GitHub user conker84 reopened a pull request:

    https://github.com/apache/zeppelin/pull/1582

    [ZEPPELIN-1604] Add Neo4j interpreter and Network visualization

    ### What is this PR for?
    This contribution would to introduce Neo4j Cypher intepreter and the new network visualization;
    at the same time would provide base APIs that enable other graph databases (or graph framworks such as GraphX or Giraph).
    
    ### What type of PR is it?
    [Feature]
    
    ### Todos
    * [x] - Create the network visualization
    * [x] - Provide base APIs to manage graph results (under: org.apache.zeppelin.interpreter.graph.*)
    * [x] - Create the Neo4j intepreter
    
    ### What is the Jira issue?
    [[ZEPPELIN-1604]](https://issues.apache.org/jira/browse/ZEPPELIN-1604)
    
    ### How should this be tested?
    Donwload and execute [Neo4j](https://neo4j.com/download/?ref=home) v3.x, you can also pull a [Docker image](https://neo4j.com/developer/docker/).
    
    In order to execute test cases, if you are running Java 7, you need to also provide an environment variable telling the tests where to find Java 8, because Neo4j-the-database needs it to run.
    ```bash
    export NEO4J_JAVA=<path/to/java/home>
    ```
    
    Use this statement to create a dummy dataset
    ```bash
    %neo4j
    UNWIND range(1,100) as id
    CREATE (p:Person {id:id, name: "Name " + id, age: id % 3}) WITH collect(p) as people
    UNWIND people as p1
    UNWIND range(1,10) as friend
    WITH p1, people[(p1.id + friend) % size(people)] as p2
    CREATE (p1)-[:KNOWS {years: abs(p2.id - p2.id)}]->(p2)
    ```
    
    Then you can write some simple queries like:
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p, r, p1
    LIMIT 10;
    ```
    
    ```bash
    %neo4j
    MATCH (p:Person)-[r:KNOWS]-(p1:Person)
    RETURN p.id AS ID_A, p.name AS NAME_A, r.years AS YEARS, p1.id AS ID_B, p1.name AS NAME_B
    LIMIT 20;
    ```
    ### Screenshots
    ![Simple cypher query network visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-network-result.png)
    
    ![Simple cypher query tabular visualization](https://raw.githubusercontent.com/conker84/zeppelin/master/docs/assets/themes/zeppelin/img/docs-img/neo4j-tabular-result.png)
    
    ### Video
    ![localhost_9000___-google-chrome-01_11_2016-15_44_24](https://cloud.githubusercontent.com/assets/1833335/19947893/6e83ec66-a14a-11e6-978a-c85c6929209a.gif)
    
    ### Questions:
    * Does the licenses files need update? **Yes**
    * Is there breaking changes for older versions? **No**
    * Does this needs documentation? **Yes**. I have create the neo4j.md file in /docs/intepreter folder

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/conker84/zeppelin master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/1582.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1582
    
----
commit 4e685ccf2bc23c41f7d48569af584ee535feb474
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T20:07:17Z

    First commit

commit acc4307dd1b7f90dedf76ecb8a4b27e93658399f
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 72f12036047e8fdd518712527380730ac139988d
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit bd1b0f23fd1b5e35e5a3c125fff50abccebc4ba3
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:37:30Z

    Changes:
    
    Move the GraphResult to zeppelin-intepreter package in order to use as
    base api for other graph databases.
    Added neo4.md to the documentation.
    Prevented the nodes overlap.

commit 251fba0a16ded784be33995ba83abe0cb23f388a
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit bf68eb6b6ee28de7e9fa8c67c223130d7b802949
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit c8249b6c45c1b5957957ea3cac13d8fb4c17ef5d
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit d5997778c2edf9b75cef66d36ec95bf5a14fc5bb
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 9aefddfc5a95fb469f21cec1a968cc917020dea5
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 793f72922cd9acbe4a5cbf26986d4c4ceedf9df2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit 96853e1e3070230c24c96ac1c549754a3af63737
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit f68ab8e4ac3b9a09a45ae9d534743035ecd8ff25
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:28:14Z

    updated the zeppelin-site-xml.template file

commit 6e92dbb923e6d11ff85d50bbf2748bc61d37942a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit d57133d39f9bf9d9518cb74e0ed1bb2e32da983a
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:35:03Z

    Update to LICENSE file

commit 964404b360d70a2337761b7ff716e780140d6648
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T18:03:02Z

    Added tag to sigma.js in bower.json

commit 39d0fa2dc1993ba89f6273602e7289083fb3cc49
Author: conker84 <santand@gmail.com>
Date:   2016-11-04T21:10:41Z

    Updated the code to manage simple graphs.
    Updated the documentation.

commit 956a53735b8e69ed92815e8e8a84587af88997ac
Author: conker84 <santand@gmail.com>
Date:   2016-11-08T19:27:01Z

    Changes:
    
    Updated documentation
    Fixed perfomance issues

commit c5b57f7a83fd1ebccb0c2509e959f906dc0085c6
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:36:26Z

    Rebase 1

commit 96d79a5e93a1dbcab7cace724feabf07ecf082f1
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T21:40:47Z

    Added the graph footer to provide detailed data information

commit 4a6e69023b8999d00c38f8987668316df0922366
Author: conker84 <santand@gmail.com>
Date:   2016-10-26T22:15:39Z

    Code clean

commit 14fddace5d3b179983efeed4ee0bd7f3489dea1d
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:38:26Z

    Rebase 2

commit 00acf1e3021eb6d93be385ba98fbfa85860b4514
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:43:02Z

    Added doc images

commit 59a85f84cf673323f811ae15609ca93cef0da951
Author: conker84 <santand@gmail.com>
Date:   2016-10-29T13:45:27Z

    doc fix

commit 62ed113760b6cdac39d691e6f38a33fd22ce8ee0
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T13:43:07Z

    Removed Jackson Dependencies

commit 144224d806169187531b1a06bbd0a3bfc951d233
Author: conker84 <santand@gmail.com>
Date:   2016-11-01T14:04:59Z

    reactivate "goog-webfont-dl" task

commit 44c924db0827a6fb9982dd28aee2c4d40896a339
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T13:47:48Z

    Added tests and changed network icon

commit 3221fa5723f05d6f7423008e25ce33b4280271e2
Author: conker84 <santand@gmail.com>
Date:   2016-11-02T21:07:05Z

    Bugfixes

commit a86ed5423b81e5a4d053aede274cb6356f5e1bdf
Author: conker84 <santand@gmail.com>
Date:   2016-11-03T17:26:51Z

    Updated the navigation menu

commit b2aaa1c85c1b49482bda0e9428ad518948b6b9a2
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:39:22Z

    Rebase 3

commit cbd6e64a396f653c2944fbd98c3c76331e6e3d34
Author: conker84 <santand@gmail.com>
Date:   2016-11-15T18:40:23Z

    Rebase 3

----


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    hi @felixcheung , the PR is ready!


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Hi guys any news on this?
    Thanks
    Andrea


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Sorry about the delay. Will look at shortly - thanks for the ping.
    



Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @Leemoonsoo it looks like CI failed because of the Jenkins looks up script - can you tell @conker84 what needs to be done to fix it please?
    



Github user Leemoonsoo commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @conker84 We're changing Zeppelin CI system from ASF travis account to Individual contributor's travis account (see [ZEPPELIN-2123](https://issues.apache.org/jira/browse/ZEPPELIN-2123)). So you need to setup and [switch on travis-ci](https://travis-ci.org/profile) for your zeppelin fork.
    
    Once you have done, you'll need add a commit in zeppelin fork to trigger your travis-ci for the first time. 
    
    Let me know if you have any questions.


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    The [build](https://travis-ci.org/conker84/zeppelin) fails, can you help me to understand why?
    



Github user Leemoonsoo commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Some build fail looks like oriented from flaky test.
    Recently, a lot of flaky test has been fixed and i think it's better take advantage of those fix by merge master to this branch.
    
    By the way, i'm afraid to say this, but i suggest split this PR to small pieces if you don't mind.
    Because it adds/touches many places and review takes long time, and while reviewing, current code base changes/adds new things and this branch change code to resolve conflicts, that require more reviews and so on and so on.
    
    For example, beginning of this pullrequest didn't have such things like tabledata.js, but during the pullrequest, this branch had to change your code because of tabledata.js and new visualization code. And this branch changed tabledata.js to datasetfactory.js, which i'm about to review we can't change this because tabledata.js is now part of visualization api. By the way, neo4j interpreter is not related with all these stuff at all, but couldn't merged.
    
    I'm feeling like we're going to repeat the same thing again and again. So I'd suggest split this PR into 3 peaces.
    
    a) Neo4j Interpreter
    b) Visualization
    c) Adding display type 
    
    I think a) and b) are modular, so i guess it's not going to be too complicated to split it into 3 PR.
    What do you think?


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    If i can do anything to simplify the review process, for me there is no problem to split this PR into more activities; just one thing, for me the (c) and (b) are one piece becouse the (c) expose the API used by (b) to visualize the network.
    I can make the (a) after we close (c)&(b) becouse it uses the new [GraphResult class](https://github.com/conker84/zeppelin/blob/master/neo4j/src/main/java/org/apache/zeppelin/graph/neo4j/Neo4jCypherInterpreter.java#L270).
    Let me know how do you want proceed.


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Hi guys any news?


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Let's go with (c) & (b) and then (a)?


Github user Leemoonsoo commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Sorry for late response. 
    Sounds like a plan!


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Perfect just to clarify what i have to do:
    
    1. Close this PR
    2. Open a new PR (and the related jira issue) for (c) & (b) (i have to made a new fork?)
    
    I'm right?


Github user Leemoonsoo commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Right!


Github user jexp commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @conker84 wow what a long story. Do you need any help from us (Neo4j) or @felixcheung @Leemoonsoo is there anything we can do?


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @jexp any help i appreciated!


Github user conker84 closed the pull request at:

    https://github.com/apache/zeppelin/pull/1582


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @jexp it would be great if you could review the neo4j parts in this PR.
    @conker84 would you be opening a new PR? please link to this one (type #1582) so I could help review and get this in soon


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung @Leemoonsoo i'm ready to make a new PR but my [travis](https://travis-ci.org/conker84/zeppelin) fails in one [job](https://s3.amazonaws.com/archive.travis-ci.org/jobs/208402587/log.txt)
    Can you help me to understand why?



Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Hi guys any news?


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    ```
    Zeppelin start [60G[[1;32m  OK  [0;39m]
    < HTTP/1.1 200 OK
    [31mException encountered when invoking run on a nested suite - The code passed to eventually never returned normally. Attempted 832 times over 3.002551618033333 minutes. Last failure message: AbstractFunctionalSuite.this.find("welcome")(AbstractFunctionalSuite.this.webDriver).isDefined was false. *** ABORTED ***[0m
    [31m  Exception encountered when invoking run on a nested suite - The code passed to eventually never returned normally. Attempted 832 times over 3.002551618033333 minutes. Last failure message: AbstractFunctionalSuite.this.find("welcome")(AbstractFunctionalSuite.this.webDriver).isDefined was false. (AbstractFunctionalSuite.scala:44)[0m
    [36mRun completed in 3 minutes, 18 seconds.[0m
    [36mTotal number of tests run: 0[0m
    [36mSuites: completed 1, aborted 1[0m
    [36mTests: succeeded 0, failed 0, canceled 0, ignored 0, pending 0[0m
    [31m*** 1 SUITE ABORTED ***[0m
    [ERROR] Failed to execute goal org.scalatest:scalatest-maven-plugin:1.0:test (test) on project zeppelin-server: There are test failures -> [Help 1]
    [ERROR] 
    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
    [ERROR] Re-run Maven using the -X switch to enable full debug logging.
    [ERROR] 
    [ERROR] For more information about the errors and possible solutions, please read the following articles:
    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
    [ERROR] 
    [ERROR] After correcting the problems, you can resume the build with the command
    [ERROR]   mvn <goals> -rf :zeppelin-server
    ```
    
    I think this profile failed due to one of flaky tests. 


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    I can't understand if it is related to something made by me becouse i haven't touched the zeppelin-server


Github user 1ambda commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Then, clicking `restart` button in the failed job would work. 



Github user jexp commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @conker84 @felixcheung I looked at the java-driver Neo4j bits and made some comments.
    
    In general it looks great and I really like the ideas.
    
    If you need anything else from me to make this PR happen, please let me know.


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @jexp thanks for the hints i will integrate them and when i'll be ready i'll ask you another review!


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    @felixcheung @Leemoonsoo see the #2125 


Github user conker84 commented on the issue:

    https://github.com/apache/zeppelin/pull/1582
  
    Hi guys,
    I added the #2478 for the last part of the original PR.


