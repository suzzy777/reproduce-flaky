The testÂ {{CustomNowInSecondsTest.testSelectQuery()}} is flaky, because the {{now}} [calculated here|https://github.com/snazy/cassandra/blob/5242f7d4306f034f32e26834df06ff7fc85a3c16/test/unit/org/apache/cassandra/cql3/CustomNowInSecondsTest.java#L57] but [used here|https://github.com/snazy/cassandra/blob/5242f7d4306f034f32e26834df06ff7fc85a3c16/test/unit/org/apache/cassandra/cql3/CustomNowInSecondsTest.java#L70] can be wrong, if the thread running the test method gets stalled.
The flakiness can be simulated by adding a {{Thread.sleep(1000)}} before the {{executeModify()}}.