The {{get_token(String tokenIdentifier)}} HMS thrift API fails when HMS is deployed in remote mode and when there is no token found with that tokenIndentifier. This could happen when an application calls a renewDelegationToken on an expired/cancelled delegation token. The issue is that get_token tries to return a null result values which cannot be done in Thrift. The API call errors out with {{org.apache.thrift.TApplicationException unknown result}} exception which is uncaught and HS2 thrift server closes the client transport. So no further calls from that connection can be accepted unless client reconnects to HS2 again.