Failover tests that use subscriptions can fail due to connection issues. Specifically, events that a client has subscribed to can be lost if the client hasn't finished connecting to a new server that is hosting the subscription queue.

These tests should be rewritten to ensure lost events are resent. A good way to do this is to use the new test framework which allows multiple clients to run in the same process. This allows multiple clients to coordinate and request resend of missed events.