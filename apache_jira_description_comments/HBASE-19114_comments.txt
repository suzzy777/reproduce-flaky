| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  5s{color} | {color:red} HBASE-19114 does not apply to master. Rebase required? Wrong Branch? See https://yetus.apache.org/documentation/0.4.0/precommit-patchnames for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12894486/HBASE-19114.master.001.patch |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9460/console |
| Powered by | Apache Yetus 0.4.0   http://yetus.apache.org |


This message was automatically generated.



| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 10s{color} | {color:blue} Docker mode activated. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 57 new or modified test files. {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 32s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 38s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  3m 49s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  6m 37s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green} 15m  1s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 51s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 40s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m  8s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m  8s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  4m 11s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  7m 41s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m 11s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:red}-1{color} | {color:red} shadedjars {color} | {color:red}  1m 10s{color} | {color:red} patch has 10 errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 44m 56s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 or 3.0.0-alpha4. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 12s{color} | {color:red} hbase-zookeeper generated 7 new + 0 unchanged - 0 fixed = 7 total (was 0) {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}154m 10s{color} | {color:green} root in the patch passed. {color} |
| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 31s{color} | {color:red} The patch generated 2 ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}263m 34s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12894607/HBASE-19114.master.002.patch |
| Optional Tests |  asflicense  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  |
| uname | Linux 02ed905a9ffd 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 482d6bd3a4 |
| Default Java | 1.8.0_141 |
| javadoc | https://builds.apache.org/job/PreCommit-HBASE-Build/9481/artifact/patchprocess/diff-javadoc-javadoc-hbase-zookeeper.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9481/testReport/ |
| asflicense | https://builds.apache.org/job/PreCommit-HBASE-Build/9481/artifact/patchprocess/patch-asflicense-problems.txt |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9481/console |
| Powered by | Apache Yetus 0.4.0   http://yetus.apache.org |


This message was automatically generated.



| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  2m 42s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 61 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 39s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m 58s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  6m 50s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green} 11m 43s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 19s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 47s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 20s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m 20s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 24s{color} | {color:red} hbase-common: The patch generated 11 new + 4 unchanged - 0 fixed = 15 total (was 4) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 15s{color} | {color:red} hbase-zookeeper: The patch generated 207 new + 0 unchanged - 0 fixed = 207 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 49s{color} | {color:red} root: The patch generated 322 new + 2122 unchanged - 268 fixed = 2444 total (was 2390) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 37s{color} | {color:red} hbase-client: The patch generated 11 new + 640 unchanged - 171 fixed = 651 total (was 811) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 13s{color} | {color:green} hbase-endpoint: The patch generated 0 new + 2 unchanged - 1 fixed = 2 total (was 3) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 13s{color} | {color:green} The patch hbase-examples passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 12s{color} | {color:red} hbase-replication: The patch generated 6 new + 21 unchanged - 2 fixed = 27 total (was 23) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hbase-rsgroup: The patch generated 2 new + 8 unchanged - 0 fixed = 10 total (was 8) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 27s{color} | {color:red} hbase-server: The patch generated 85 new + 1430 unchanged - 94 fixed = 1515 total (was 1524) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m 12s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:red}-1{color} | {color:red} shadedjars {color} | {color:red}  5m 51s{color} | {color:red} patch has 12 errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 56m 57s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  6m 32s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}138m  1s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 20s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}259m 35s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12894878/HBASE-19114.master.003.patch |
| Optional Tests |  asflicense  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  |
| uname | Linux 022754370d51 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 14368c432a |
| Default Java | 1.8.0_141 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-common.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-rsgroup.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/artifact/patchprocess/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9524/console |
| Powered by | Apache Yetus 0.5.0   http://yetus.apache.org |


This message was automatically generated.



Do we really need to do this?

We are trying hard to reduce the dependency on zk. For example, in the async client implementation, the only place where we use zookeeper is ZKAsyncRegistry. It only depends on ZNodePaths, and a simple removeMetaData method in RecoveringZooKeeper. For Admin/AsyncAdmin, now we route all the request to zookeeper to HMaster first so it will not depend on zookeeper directly. And we plan to replace the sync client implementation in 3.0 so most stuffs in hbase-client will not be depended by hbase-client anymore.

So in general, in the future we will only have a small common code in hbase-client or hbase-common, and most zk related code will be in hbase-server. We already have too many modules...

Thanks.

bq. ... most zk related code will be in hbase-server...
That's what we are trying to move away from- everything in hbase-server. It has 60% of our codebase - and that too in a very tangled and bad state.

Since packages don't impose circular dependency violations, everything within a single module can depend on everything else. And that has lead this nasty situation. (https://docs.google.com/document/d/1wZAimGcJzc0jys0-EATRi0CyGMVlcIxTvZtegPF4mfw/edit) Those dashed edges are backward dependency and so many of them is a clear signal that we need to design and place our code more appropriately, like in recent times with separate hbase-backup module, hbase-replication module.

bq. We already have too many modules...
I don't know if 10 is too many, or 20, or 30. 100 definitely seems too many. 2 seems too low. Is there a metrics on which we can judge that?  Because am gunning towards straightening our dependencies graph further by splitting out hbase-io and hbase-wal. Advantages are mentioned in that doc mentioned above.

I guess the high level thing here is, anything thats directly zookeeper dependent and doesn't require our internals can be easily split out and kept separately from our internals.





One of the golden goals would be, no hbase-server module, but separate modules for h-regionserver, h-master modules, h-mob, h-snapshot, etc.
Idk if I can do it, but achieving that would certain mean two things:
- we have our code very well laid: no tangled dependencies, features depend on appropriate sub-systems and are well distinguished.
- any future work/feature will need well thought design to correctly fit in. Right now it's basically, put in hbase-server and you'll have almost everything you need.

Please ignore checkstyle issues in dependency refactoring patches since class moves will result in existing checkstyle errors being reported by yetus, but the effort here is not about checkstyle cleanup.

[~appy] Would breaking out the module help with undoing our zk dependency at all?

I'd be +1 for this change (+1'd it up on rb) because it moves code out of hbase-server and because it part helps disentangle zookeeper references. You totally against [~Apache9]?

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  7s{color} | {color:red} HBASE-19114 does not apply to master. Rebase required? Wrong Branch? See https://yetus.apache.org/documentation/0.5.0/precommit-patchnames for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12895051/HBASE-19114.master.004.patch |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9540/console |
| Powered by | Apache Yetus 0.5.0   http://yetus.apache.org |


This message was automatically generated.



| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 22s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 91 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 29s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 50s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 39s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  7m 19s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 47s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  6m 17s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 58s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m 42s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  9m 42s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 27s{color} | {color:red} hbase-common: The patch generated 10 new + 4 unchanged - 0 fixed = 14 total (was 4) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 13s{color} | {color:red} hbase-zookeeper: The patch generated 204 new + 0 unchanged - 0 fixed = 204 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 42s{color} | {color:red} root: The patch generated 378 new + 2518 unchanged - 286 fixed = 2896 total (was 2804) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 33s{color} | {color:red} hbase-client: The patch generated 15 new + 758 unchanged - 173 fixed = 773 total (was 931) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} hbase-endpoint: The patch generated 0 new + 2 unchanged - 1 fixed = 2 total (was 3) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch hbase-examples passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hbase-replication: The patch generated 12 new + 30 unchanged - 5 fixed = 42 total (was 35) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 12s{color} | {color:red} hbase-rsgroup: The patch generated 4 new + 8 unchanged - 0 fixed = 12 total (was 8) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 26s{color} | {color:red} hbase-server: The patch generated 134 new + 1685 unchanged - 108 fixed = 1819 total (was 1793) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} pylint {color} | {color:green}  0m  2s{color} | {color:green} There were no new pylint issues. {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  9s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  4s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m 12s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  5m 10s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 50m 14s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 55s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  7m 22s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}121m  3s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12895055/HBASE-19114.master.005.patch |
| Optional Tests |  asflicense  pylint  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux 56ace6f96c64 3.13.0-119-generic #166-Ubuntu SMP Wed May 3 12:18:55 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 8237fdbd1b |
| Default Java | 1.8.0_141 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-common.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-rsgroup.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| pylint | v1.6.5 |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/artifact/patchprocess/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9542/console |
| Powered by | Apache Yetus 0.5.0   http://yetus.apache.org |


This message was automatically generated.



I do not think people will like multi modules, for example, we always depend on netty-all instead of the individual netty modules right? The issue will also effect hbase-client so I’m a little nervous. I haven’t stopped the http module separation since it is server only :)

For the long pre commit, I would say that, we have already hit the problems several times, that a hbase-client change breaks hbase-server, or a hbase-server change breaks hbase-spark, so I suggest that yetus should analyze the dependency between modules and run all the UTs for the modules on the dependency tree.

bq. I do not think people will like multi modules, for example, we always depend on netty-all instead of the individual netty modules right? The issue will also effect hbase-client so I’m a little nervous. I haven’t stopped the http module separation since it is server only

Indeed! That is a very valid point [~Apache9]!
Made me think, does netty really build everything as one module!? That would be one crazy codebase to maintain.
Looked for io.netty on central mvn repo (https://mvnrepository.com/artifact/io.netty), found ~40 artifacts associated with it. So probably netty-all is made by merging all of them together for convenience of users. It'd have been nightmare if we had to choose and pick individual jar ourselves, netty-all does makes like much simpler!

Am thinking if we can do similar - publish a hbase-all. That'd prevent breakages in downstream project like the recent ones in pig, hive, crunch, kite, etc when we split out hbase-mapreduce.
Admittedly, it'll be one big jar, but if it makes life of downstream projects easy, won't they really like it?

Then if someone depends netty-all while others depend the individual netty modules, it will be totally a mess. That's one of the reasons why we want to shade netty to prevent breaks downstream users, and also prevent us being broken by hadoop.

Can we delay this for a while? Is it necessary for 2.0 release? As I said above, in the future hbase-client will only depend a small set of zk related code, so it make no sense to have a module that only have one class right? But if in 2.0 you make hbase-client depend on an external hbase-zookeeper module, then it is not a good idea to remove the dependency in 3.0. It is very easy for a user to have a 3.0 hbase-client on the classpath and also a 2.0 hbase-zookeeper on the classpath. It is annoying.

For me, I would like this:
1. Move ZNodePaths to hbase-common, and also a very very small ZKUtil which only have a very very small set of helper methods, such as removing the prefix. hbase-common will not depend on zk.
2. hbase-client will implement the zk logic by its own with curator, no external dependency.
3. Introduce a hbase-zookeeper module which implements all the zk related logic for hbase-server, and make hbase-server depend on it to make hbase-server less complex.

Thanks.

I don't completely understand it, but your last comment suggests that this change can hurt your future effort, so let me do as you say - not have zk stuff required by hbase-client in this new module. Is that correct sir?


But i'd still like to understand what was I missing!

bq. ...future hbase-client will only depend a small set of zk related code, so it make no sense to have a module that only have one class right
It has all zk stuff, from both client and server. So even if client's stuff is gone, server's requirements will remain there.


bq. But if in 2.0 you make hbase-client depend on an external hbase-zookeeper module, then it is not a good idea to remove the dependency in 3.0. It is very easy for a user to have a 3.0 hbase-client on the classpath and also a 2.0 hbase-zookeeper on the classpath.
Why won't it be easy to remove the dep? How's that worse than having hbase-client 3.0 and hbase-common 2.0? 

{quote}
It has all zk stuff, from both client and server. So even if client's stuff is gone, server's requirements will remain there.
{quote}
In general I would like hbase-client only depends on the stuffs which are only used by client, not server, so we may have two zk modules and after the purging, the module for client will only have one or two classes.

For hbase-common conflict, it is easier to address as user can just declare a 3.0 dependency in the pom to force a 3.0 hbase-common on classpath. But for hbase-zk, you need to find out who introduce it and exclude it there, and maybe there are lots of them... Anyway, there are lots of maven magics so the problem can be addressed, no doubt. But I think we'd better not add more magics.

The zk stuffs in hbase-client is mainly used by sync client, the old plan is to replace the sync client implementation with async client in 3.0. Now if you really want the zk split in 2.0, then I think we could purge the zk stuff first for sync client in 2.0.

Thanks.

Hmmmm.  I like this patch (Not sure about hbase-common depending on thirdparty...). Moving stuff out of hbase-server is an important project. It seems like new zk module would have 7 files as I count it (one of which would be the pom).

[~Apache9] would like to avoid hbase-client having to depend on hbase-zookeeper in 2.0.0. I like the plan above for disentangling hbase-client. Move this out to hbase3 [~appy]? (There is good stuff in this patch that could go in apart from the making of the hbase-zookeeper module... do in separate JIRA?)



Coming back here after our discussion on HBASE-19200.
hbase-client doesn't depend on hbase-zookeeper anymore, it's vice versa.
Uploaded new patch on a new review board.  https://reviews.apache.org/r/63820/ (link label above: Review Board (master))

[~stack] [~Apache9] what do you think?

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 12s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  5s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 78 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 13s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m  9s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m 11s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  6m 54s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  5m  1s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 31s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 11s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m  2s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 55s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m 55s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 29s{color} | {color:green} hbase-client: The patch generated 0 new + 0 unchanged - 200 fixed = 0 total (was 200) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 15s{color} | {color:red} hbase-zookeeper: The patch generated 241 new + 0 unchanged - 0 fixed = 241 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 46s{color} | {color:red} root: The patch generated 275 new + 1529 unchanged - 284 fixed = 1804 total (was 1813) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 18s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hbase-replication: The patch generated 4 new + 30 unchanged - 5 fixed = 34 total (was 35) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} The patch hbase-rsgroup passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 31s{color} | {color:red} hbase-server: The patch generated 30 new + 1465 unchanged - 79 fixed = 1495 total (was 1544) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  7s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  3s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  1s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  8s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  5m 30s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 55m 16s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 2.7.4 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 48s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  9m  4s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}124m 11s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12897643/HBASE-19114.master.006.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux 5e62e20498de 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / f9b19c6e33 |
| maven | version: Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z) |
| Default Java | 1.8.0_151 |
| shellcheck | v0.4.4 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/artifact/patchprocess/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9807/console |
| Powered by | Apache Yetus 0.6.0   http://yetus.apache.org |


This message was automatically generated.



Is release note needed for this change?

My only concern before is we should not add more dependencies for hbase-client. After HBASE-19200 we do not need to make hbase-client depend on the new hbase-zookeeper module so I'm OK with this change.

Thanks.

[~psomogyi], you're right, should have one. Added a TODO in placeholder, will fill it once the change is final and committed.
Thanks!

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  2m 23s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  7s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 78 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 13s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 42s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 53s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  6m 16s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 41s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 54s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 41s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 26s{color} | {color:green} hbase-client: The patch generated 0 new + 0 unchanged - 200 fixed = 0 total (was 200) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 16s{color} | {color:red} hbase-zookeeper: The patch generated 241 new + 0 unchanged - 0 fixed = 241 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 41s{color} | {color:red} root: The patch generated 275 new + 1527 unchanged - 284 fixed = 1802 total (was 1811) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hbase-replication: The patch generated 4 new + 30 unchanged - 5 fixed = 34 total (was 35) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} The patch hbase-rsgroup passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 23s{color} | {color:red} hbase-server: The patch generated 30 new + 1463 unchanged - 79 fixed = 1493 total (was 1542) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  6s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  4s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  8s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  5m  0s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 52m 17s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 2.7.4 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 49s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}178m 50s{color} | {color:green} root in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 25s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}288m 30s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12897832/HBASE-19114.master.007.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux edd59ab14e0a 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / d89682ea98 |
| maven | version: Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z) |
| Default Java | 1.8.0_151 |
| shellcheck | v0.4.4 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9829/console |
| Powered by | Apache Yetus 0.6.0   http://yetus.apache.org |


This message was automatically generated.



Tests passed.
checkstyles are mostly because of moving classes from one package to another. Can't fix them all. Took a look at many import errors though.


| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 11s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  6s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 78 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 26s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m  1s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 48s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  5m  9s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m  3s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 28s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m  9s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 22s{color} | {color:green} hbase-client: The patch generated 0 new + 0 unchanged - 200 fixed = 0 total (was 200) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 12s{color} | {color:red} hbase-zookeeper: The patch generated 239 new + 0 unchanged - 0 fixed = 239 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 17s{color} | {color:red} root: The patch generated 256 new + 1513 unchanged - 291 fixed = 1769 total (was 1804) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  7s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  8s{color} | {color:red} hbase-replication: The patch generated 1 new + 23 unchanged - 10 fixed = 24 total (was 33) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} The patch hbase-rsgroup passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 15s{color} | {color:red} hbase-server: The patch generated 16 new + 1456 unchanged - 81 fixed = 1472 total (was 1537) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  5s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  3s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  0s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  7s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 22s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 46m  5s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 2.7.4 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 31s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red}111m 14s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}205m 27s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12897886/HBASE-19114.master.008.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux 30f709a2a721 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 600fdee844 |
| maven | version: Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z) |
| Default Java | 1.8.0_151 |
| shellcheck | v0.4.4 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/artifact/patchprocess/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9842/console |
| Powered by | Apache Yetus 0.6.0   http://yetus.apache.org |


This message was automatically generated.



Go for it I'd say [~appy] commit after doing check of the root test failure...

Thanks [~stack].
Looking at test failures. Second last QA gave +1unit and only changed imports, so it's probably just flakies/infra issue in last QA.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 14s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  6s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 78 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 57s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 46s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  6m 27s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 55s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 26s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  7s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 55s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 43s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m 43s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 30s{color} | {color:green} hbase-client: The patch generated 0 new + 0 unchanged - 199 fixed = 0 total (was 199) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 18s{color} | {color:red} hbase-zookeeper: The patch generated 240 new + 0 unchanged - 0 fixed = 240 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 15s{color} | {color:red} root: The patch generated 261 new + 1498 unchanged - 296 fixed = 1759 total (was 1794) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  7s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m  9s{color} | {color:red} hbase-replication: The patch generated 3 new + 24 unchanged - 11 fixed = 27 total (was 35) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} The patch hbase-rsgroup passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m  3s{color} | {color:red} hbase-server: The patch generated 18 new + 1442 unchanged - 86 fixed = 1460 total (was 1528) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  6s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  2s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  1s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  6s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 21s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 46m 31s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 2.7.4 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 22s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 87m 15s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 17s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}189m 14s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12897886/HBASE-19114.master.008.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux 29e36747054a 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 5b13b624bb |
| maven | version: Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z) |
| Default Java | 1.8.0_151 |
| shellcheck | v0.4.4 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/artifact/patchprocess/patch-unit-root.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9878/console |
| Powered by | Apache Yetus 0.6.0   http://yetus.apache.org |


This message was automatically generated.



Pretty sure all the failures are flukes - different tests failing, and passing when run locally. :-/
Let's wait for next precommit.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  9s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} shelldocs {color} | {color:blue}  0m  6s{color} | {color:blue} Shelldocs was not available. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green}  0m  0s{color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 78 new or modified test files. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 10s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 26s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  7m 26s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  6m 14s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  4m 55s{color} | {color:green} branch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 15s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 12s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 44s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 12s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m 12s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 29s{color} | {color:green} hbase-client: The patch generated 0 new + 0 unchanged - 199 fixed = 0 total (was 199) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 15s{color} | {color:red} hbase-zookeeper: The patch generated 240 new + 0 unchanged - 0 fixed = 240 total (was 0) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hbase-replication: The patch generated 3 new + 24 unchanged - 11 fixed = 27 total (was 35) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  1m 26s{color} | {color:red} hbase-server: The patch generated 18 new + 1442 unchanged - 86 fixed = 1460 total (was 1528) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch hbase-mapreduce passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hbase-rsgroup passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shell passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} The patch hbase-it passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-assembly passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-client-project passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hbase-shaded-client-project passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  2m 45s{color} | {color:red} root: The patch generated 261 new + 1498 unchanged - 296 fixed = 1759 total (was 1794) {color} |
| {color:green}+1{color} | {color:green} rubocop {color} | {color:green}  0m  7s{color} | {color:green} There were no new rubocop issues. {color} |
| {color:green}+1{color} | {color:green} ruby-lint {color} | {color:green}  0m  3s{color} | {color:green} There were no new ruby-lint issues. {color} |
| {color:green}+1{color} | {color:green} shellcheck {color} | {color:green}  0m  1s{color} | {color:green} There were no new shellcheck issues. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  7s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} shadedjars {color} | {color:green}  5m  3s{color} | {color:green} patch has no errors when building our shaded downstream artifacts. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 59m 23s{color} | {color:green} Patch does not cause any errors with Hadoop 2.6.1 2.6.2 2.6.3 2.6.4 2.6.5 2.7.1 2.7.2 2.7.3 2.7.4 or 3.0.0-alpha4. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  6m  9s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}153m 56s{color} | {color:green} root in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 23s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}270m  9s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hbase:eee3b01 |
| JIRA Issue | HBASE-19114 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12897886/HBASE-19114.master.008.patch |
| Optional Tests |  asflicense  shellcheck  shelldocs  javac  javadoc  unit  shadedjars  hadoopcheck  xml  compile  findbugs  hbaseanti  checkstyle  rubocop  ruby_lint  |
| uname | Linux 34790154779a 3.13.0-129-generic #178-Ubuntu SMP Fri Aug 11 12:48:20 UTC 2017 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / e8ae6d4b73 |
| maven | version: Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z) |
| Default Java | 1.8.0_151 |
| shellcheck | v0.4.4 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/artifact/patchprocess/diff-checkstyle-hbase-zookeeper.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/artifact/patchprocess/diff-checkstyle-hbase-replication.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/artifact/patchprocess/diff-checkstyle-root.txt |
| rubocop | v0.51.0 |
| ruby-lint | v2.3.1 |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/testReport/ |
| modules | C: . U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/9893/console |
| Powered by | Apache Yetus 0.6.0   http://yetus.apache.org |


This message was automatically generated.



+1 unit. Pushed to branch-2 and mastter.
Like mentioned earlier, checkstyle errors are already existing ones and getting flagged because of moving the files.


FAILURE: Integrated in Jenkins build HBase-Trunk_matrix #4070 (See [https://builds.apache.org/job/HBase-Trunk_matrix/4070/])
HBASE-19114 Split out o.a.h.h.zookeeper from hbase-server and (appy: rev 330b0d05b99981b4bdc92c81b22ebb5be5ece155)
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZkAclReset.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/cleaner/ReplicationZKNodeCleaner.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestHFileLinkCleaner.java
* (edit) hbase-shell/src/main/ruby/hbase/admin.rb
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithRemove.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKLeaderManager.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/ZKPermissionWatcher.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHeapMemoryManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java
* (add) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKNodeTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestRecoverableZooKeeper.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/util/MockServer.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperMainServer.java
* (edit) hbase-assembly/src/main/assembly/hadoop-two-compat.xml
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestTableStateManager.java
* (add) hbase-zookeeper/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKWatcher.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/master/ReplicationHFileCleaner.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationTableBase.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestMultiSlaveReplication.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKSplitLog.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/token/AuthenticationTokenSecretManager.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelsCache.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/DeletionListener.java
* (add) hbase-server/src/main/java/org/apache/hadoop/hbase/master/SplitOrMergeTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/coordination/ZkSplitLogWorkerCoordination.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/InstancePending.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java
* (edit) hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestMetaReplicas.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/flush/RegionServerFlushTableProcedureManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationBase.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestSplitLogManager.java
* (add) hbase-zookeeper/pom.xml
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKMetricsListener.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateHBaseImpl.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestWALLockup.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/backup/example/TestZooKeeperTableArchiveClient.java
* (edit) hbase-replication/pom.xml
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKLeaderManager.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockNoopMasterServices.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressTracker.java
* (delete) hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServerWrapperImpl.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterStatusServlet.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureCoordinator.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/ZNodeClearer.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/master/TableCFsUpdater.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithAbort.java
* (delete) hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestMetricsZooKeeper.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKListener.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/util/hbck/ReplicationChecker.java
* (add) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMainServer.java
* (add) hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionServerTracker.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/MetaTableLocator.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/PendingWatcher.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/EmptyWatcher.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/DeletionListener.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/ZKNamespaceManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationTrackerZKImpl.java
* (edit) hbase-server/pom.xml
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedureControllers.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKSplitLog.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKMetrics.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ClusterStatusTracker.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/LoadBalancerTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/backup/example/TableHFileArchiveTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/SimpleRSProcedureManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactionInDeadRegionServer.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAclReset.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestReplicationHFileCleaner.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/TestMetaTableLocator.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/HBaseReplicationEndpoint.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestRegionServerNoMaster.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/TestMetaTableAccessorNoCluster.java
* (delete) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperMainServer.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationQueuesClientArguments.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestLogsCleaner.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestRegionServerHostname.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationQueuesClientZKImpl.java
* (add) hbase-zookeeper/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMetrics.java
* (add) hbase-zookeeper/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/MasterMaintenanceModeTracker.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/Server.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperMetricsListener.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureMemberRpcs.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
* (delete) hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestInstancePending.java
* (edit) hbase-archetypes/hbase-client-project/src/main/resources/log4j.properties
* (delete) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperNodeTracker.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java
* (edit) hbase-mapreduce/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestReplicationZKNodeCleaner.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/token/TestZKSecretWatcherRefreshKeys.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/coordination/ZKSplitLogManagerCoordination.java
* (edit) bin/hbase.cmd
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationTrackerZKImpl.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/token/TestZKSecretWatcher.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/token/TokenUtil.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/MetricsMasterWrapperImpl.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/LoadBalancerTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java
* (delete) hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKClusterId.java
* (edit) pom.xml
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/HQuorumPeer.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/MetaTableLocator.java
* (edit) conf/log4j.properties
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKClusterId.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/util/ZKDataMigrator.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MasterMaintenanceModeTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestSerialReplication.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentListener.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/backup/example/HFileArchiveManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/token/TestTokenAuthentication.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestPerTableCFReplication.java
* (edit) hbase-archetypes/hbase-shaded-client-project/src/main/resources/log4j.properties
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationFactory.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/TableBasedReplicationQueuesImpl.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestMetaWithReplicas.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/util/RegionMover.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java
* (add) hbase-zookeeper/src/test/java/org/apache/hadoop/hbase/zookeeper/TestInstancePending.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKNodeTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/DefaultVisibilityLabelServiceImpl.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationQueuesArguments.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/DumpReplicationQueues.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/replication/ReplicationManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperACL.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ClusterStatusTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedure.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSyncUp.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/backup/example/ZKTableArchiveClient.java
* (edit) hbase-assembly/pom.xml
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestZKPermissionWatcher.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKWatcher.java
* (edit) hbase-mapreduce/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestMasterReplication.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController2.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterMetaBootstrap.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/MetricsZooKeeper.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/InstancePending.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/DrainingServerTracker.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/ZKVisibilityLabelWatcher.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/replication/master/ReplicationLogCleaner.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/PendingWatcher.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/security/token/ZKSecretWatcher.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitLogWorker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSStatusServlet.java
* (edit) hbase-rsgroup/src/test/java/org/apache/hadoop/hbase/rsgroup/VerifyingRSGroupAdminClient.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsReplication.java
* (edit) hbase-it/src/test/java/org/apache/hadoop/hbase/test/IntegrationTestZKAndFSPermissions.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestGlobalThrottler.java
* (edit) bin/hbase
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKLeaderManager.java
* (edit) hbase-rsgroup/src/main/java/org/apache/hadoop/hbase/rsgroup/RSGroupInfoManagerImpl.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureUtil.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot/RegionServerSnapshotManager.java
* (edit) hbase-replication/src/main/java/org/apache/hadoop/hbase/replication/ReplicationQueuesZKImpl.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelReplicationWithExpAsString.java
* (add) hbase-server/src/main/java/org/apache/hadoop/hbase/master/DrainingServerTracker.java
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.java
* (edit) hbase-server/src/main/resources/hbase-webapps/master/zk.jsp
* (delete) hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/EmptyWatcher.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/replication/master/TestTableCFsUpdater.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKMainServer.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/coordination/ZkCoordinatedStateManager.java
* (delete) hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/SplitOrMergeTracker.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java
* (add) hbase-zookeeper/src/main/java/org/apache/hadoop/hbase/zookeeper/HQuorumPeer.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsckOneRS.java
* (edit) hbase-server/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java
* (edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestHFileCleaner.java


Ruby scripts also used ZooKeeperWatcher - needs an addendum! [^HBASE-19114_addendum.patch] applies to master branch

Sorry on my part for missing out those ones.

Thanks for the followup [~cskrabak]. Let me commit this to master and all the way back to branch-2.

FAILURE: Integrated in Jenkins build HBase-Trunk_matrix #4684 (See [https://builds.apache.org/job/HBase-Trunk_matrix/4684/])
HBASE-19114 addendum. Split out o.a.h.h.zookeeper from hbase-server and (appy: rev ff550edabff1ba78b392f6e0eeb805aa3170b335)
* (edit) bin/get-active-master.rb
* (edit) bin/draining_servers.rb


Results for branch master, done in 4 hr 28 min and counting
	[build #249 on builds.a.o|https://builds.apache.org/job/HBase%20Nightly/job/master/249/]:
----
details (if available):

(x) *{color:red}-1 overall{color}*
    Committer, please check your recent inclusion of a patch for this issue.









(/) {color:green}+1 source release artifact{color}
-- See build output for details.


[~appy], thanks for committing.

