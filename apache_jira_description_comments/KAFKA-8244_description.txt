[https://builds.apache.org/blue/organizations/jenkins/kafka-2.1-jdk8/detail/kafka-2.1-jdk8/162/tests]
{quote}org.apache.kafka.common.errors.TimeoutException: Timeout expired while initializing transactional state in 3000ms.{quote}
STDOUT:
{quote}[2019-04-16 23:05:48,957] ERROR [Consumer clientId=consumer-1106, groupId=my-group] Offset commit failed on partition topic-0 at offset 5: Not authorized to access topics: [Topic authorization failed.] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:812)
[2019-04-16 23:05:48,957] ERROR [Consumer clientId=consumer-1106, groupId=my-group] Not authorized to commit to topics [topic] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:850)
[2019-04-16 23:06:24,650] ERROR [KafkaApi-0] Error when handling request: clientId=broker-0-txn-marker-sender, correlationId=0, api=WRITE_TXN_MARKERS, body=\{transaction_markers=[{producer_id=0,producer_epoch=0,transaction_result=false,topics=[{topic=topic,partitions=[0]}],coordinator_epoch=0}]} (kafka.server.KafkaApis:76)
org.apache.kafka.common.errors.ClusterAuthorizationException: Request Request(processor=0, connectionId=127.0.0.1:43243-127.0.0.1:55848-1, session=Session(Group:testGroup,/127.0.0.1), listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, buffer=null) is not authorized.
[2019-04-16 23:06:24,651] ERROR [TransactionCoordinator id=0] Uncaught error in request completion: (org.apache.kafka.clients.NetworkClient:559)
java.lang.IllegalStateException: Unexpected error org.apache.kafka.common.errors.ClusterAuthorizationException while sending txn marker for transactional.id
at kafka.coordinator.transaction.TransactionMarkerRequestCompletionHandler.$anonfun$onComplete$14(TransactionMarkerRequestCompletionHandler.scala:175)
at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:788)
at scala.collection.Iterator.foreach(Iterator.scala:937)
at scala.collection.Iterator.foreach$(Iterator.scala:937)
at scala.collection.AbstractIterator.foreach(Iterator.scala:1425)
at scala.collection.IterableLike.foreach(IterableLike.scala:70)
at scala.collection.IterableLike.foreach$(IterableLike.scala:69)
at scala.collection.AbstractIterable.foreach(Iterable.scala:54)
at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:787)
at kafka.coordinator.transaction.TransactionMarkerRequestCompletionHandler.$anonfun$onComplete$12(TransactionMarkerRequestCompletionHandler.scala:133)
at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
at kafka.utils.CoreUtils$.inLock(CoreUtils.scala:251)
at kafka.coordinator.transaction.TransactionMetadata.inLock(TransactionMetadata.scala:172)
at kafka.coordinator.transaction.TransactionMarkerRequestCompletionHandler.$anonfun$onComplete$8(TransactionMarkerRequestCompletionHandler.scala:133)
at kafka.coordinator.transaction.TransactionMarkerRequestCompletionHandler.$anonfun$onComplete$8$adapted(TransactionMarkerRequestCompletionHandler.scala:92)
at scala.collection.Iterator.foreach(Iterator.scala:937)
at scala.collection.Iterator.foreach$(Iterator.scala:937)
at scala.collection.AbstractIterator.foreach(Iterator.scala:1425)
at scala.collection.IterableLike.foreach(IterableLike.scala:70)
at scala.collection.IterableLike.foreach$(IterableLike.scala:69)
at scala.collection.AbstractIterable.foreach(Iterable.scala:54)
at kafka.coordinator.transaction.TransactionMarkerRequestCompletionHandler.onComplete(TransactionMarkerRequestCompletionHandler.scala:92)
at org.apache.kafka.clients.ClientResponse.onComplete(ClientResponse.java:109)
at org.apache.kafka.clients.NetworkClient.completeResponses(NetworkClient.java:557)
at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:549)
at kafka.common.InterBrokerSendThread.doWork(InterBrokerSendThread.scala:66)
at kafka.utils.ShutdownableThread.run(ShutdownableThread.scala:82)
[2019-04-16 23:06:33,460] ERROR [Consumer clientId=consumer-1111, groupId=my-group] Offset commit failed on partition topic-0 at offset 0: Not authorized to access group: Group authorization failed. (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:812)
Error: Consumer group 'my-group' does not exist.
[2019-04-16 23:07:43,178] WARN fsync-ing the write ahead log in SyncThread:0 took 1603ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:07:52,994] WARN fsync-ing the write ahead log in SyncThread:0 took 1651ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:06,090] WARN fsync-ing the write ahead log in SyncThread:0 took 1436ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:09,604] WARN fsync-ing the write ahead log in SyncThread:0 took 1823ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:10,915] ERROR [Producer clientId=producer-284] Aborting producer batches due to fatal error (org.apache.kafka.clients.producer.internals.Sender:457)
org.apache.kafka.common.errors.ClusterAuthorizationException: The producer is not authorized to do idempotent sends
[2019-04-16 23:08:16,914] WARN fsync-ing the write ahead log in SyncThread:0 took 1400ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:19,868] WARN fsync-ing the write ahead log in SyncThread:0 took 1031ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:21,848] WARN fsync-ing the write ahead log in SyncThread:0 took 1117ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:29,897] WARN fsync-ing the write ahead log in SyncThread:0 took 1761ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:31,925] WARN fsync-ing the write ahead log in SyncThread:0 took 1316ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:34,838] WARN fsync-ing the write ahead log in SyncThread:0 took 1642ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:36,984] WARN fsync-ing the write ahead log in SyncThread:0 took 1381ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:43,932] WARN fsync-ing the write ahead log in SyncThread:0 took 1214ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:45,168] WARN fsync-ing the write ahead log in SyncThread:0 took 1234ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:53,189] WARN fsync-ing the write ahead log in SyncThread:0 took 1331ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:08:55,284] WARN fsync-ing the write ahead log in SyncThread:0 took 1781ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:09:09,352] ERROR [Consumer clientId=consumer-1121, groupId=my-group] Offset commit failed on partition topic-0 at offset 5: Not authorized to access topics: [Topic authorization failed.] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:812)
[2019-04-16 23:09:09,353] ERROR [Consumer clientId=consumer-1121, groupId=my-group] Not authorized to commit to topics [topic] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:850)
[2019-04-16 23:09:35,253] ERROR [Consumer clientId=consumer-1125, groupId=other group] Offset commit failed on partition topic-0 at offset 1: Not authorized to access group: Group authorization failed. (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:812)
[2019-04-16 23:10:30,304] WARN Unable to read additional data from client sessionid 0x10386a669e30002, likely client has closed socket (org.apache.zookeeper.server.NIOServerCnxn:376)
[2019-04-16 23:10:53,998] ERROR [Consumer clientId=consumer-1135, groupId=my-group] Offset commit failed on partition topic-0 at offset 5: Not authorized to access topics: [Topic authorization failed.] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:812)
[2019-04-16 23:10:53,998] ERROR [Consumer clientId=consumer-1135, groupId=my-group] Not authorized to commit to topics [topic] (org.apache.kafka.clients.consumer.internals.ConsumerCoordinator:850)
[2019-04-16 23:10:57,192] ERROR [KafkaApi-0] Error when handling request: clientId=client-id, correlationId=36, api=CONTROLLED_SHUTDOWN, body=\{broker_id=0} (kafka.server.KafkaApis:76)
org.apache.kafka.common.errors.ClusterAuthorizationException: Request Request(processor=0, connectionId=127.0.0.1:35952-127.0.0.1:51946-12, session=Session(Group:testGroup,/127.0.0.1), listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, buffer=null) is not authorized.
[2019-04-16 23:11:02,608] ERROR [KafkaApi-0] Error when handling request: clientId=client-id, correlationId=53, api=CREATE_ACLS, body=\{creations=[{resource_type=2,resource_name=mytopic,resource_pattten_type=3,principal=Group:testGroup,host=*,operation=4,permission_type=2}]} (kafka.server.KafkaApis:76)
org.apache.kafka.common.errors.ClusterAuthorizationException: Request Request(processor=2, connectionId=127.0.0.1:35952-127.0.0.1:52008-17, session=Session(Group:testGroup,/127.0.0.1), listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, buffer=null) is not authorized.
[2019-04-16 23:11:02,675] ERROR [KafkaApi-0] Error when handling request: clientId=client-id, correlationId=55, api=DELETE_ACLS, body=\{filters=[{resource_type=2,resource_name=null,resource_pattern_type_filter=3,principal=Group:testGroup,host=*,operation=1,permission_type=2}]} (kafka.server.KafkaApis:76)
org.apache.kafka.common.errors.ClusterAuthorizationException: Request Request(processor=1, connectionId=127.0.0.1:35952-127.0.0.1:52014-18, session=Session(Group:testGroup,/127.0.0.1), listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, buffer=null) is not authorized.
[2019-04-16 23:11:02,708] ERROR [KafkaApi-0] Error when handling request: clientId=client-id, correlationId=57, api=DESCRIBE_ACLS, body=\{resource_type=1,resource_name=null,resource_pattern_type_filter=1,principal=null,host=null,operation=1,permission_type=1} (kafka.server.KafkaApis:76)
org.apache.kafka.common.errors.ClusterAuthorizationException: Request Request(processor=0, connectionId=127.0.0.1:35952-127.0.0.1:52018-19, session=Session(Group:testGroup,/127.0.0.1), listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, buffer=null) is not authorized.
[2019-04-16 23:11:06,724] WARN fsync-ing the write ahead log in SyncThread:0 took 2097ms which will adversely effect operation latency. See the ZooKeeper troubleshooting guide (org.apache.zookeeper.server.persistence.FileTxnLog:338)
[2019-04-16 23:11:34,998] ERROR [Producer clientId=producer-306] Aborting producer batches due to fatal error (org.apache.kafka.clients.producer.internals.Sender:457)
org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.
[2019-04-16 23:11:34,999] ERROR [Producer clientId=producer-306] Aborting producer batches due to fatal error (org.apache.kafka.clients.producer.internals.Sender:457)
org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.{quote}