org.scalatest.exceptions.TestFailedException: expected exception when writing to closed plain socket
 at org.scalatest.Assertions.newAssertionFailedException(Assertions.scala:530)
 at org.scalatest.Assertions.newAssertionFailedException$(Assertions.scala:529)
 at org.scalatest.Assertions$.newAssertionFailedException(Assertions.scala:1389)
 at org.scalatest.Assertions.fail(Assertions.scala:1091)
 at org.scalatest.Assertions.fail$(Assertions.scala:1087)
 at org.scalatest.Assertions$.fail(Assertions.scala:1389)
 at kafka.network.SocketServerTest.verifyRemoteConnectionClosed(SocketServerTest.scala:922)
 at kafka.network.SocketServerTest.testConnectionRatePerIp(SocketServerTest.scala:884)
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
 at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)