BPServiceActor provides test utility such as triggerBlockReportForTests, triggerHeartbeatForTests and triggerDeletionReportForTests. These methods triggers heartbeat/blockreport and is possible to return before the process is finished. Some unit tests intermittently fails due to this. Utilities to wait for finishing the process of hearteat/blockreport should be added in order to avoid flaky tests.