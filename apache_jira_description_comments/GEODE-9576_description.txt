 *InternalFunctionInvocationTargetException: Multiple target nodes found for single hop operation* occurs on native client when executing function in a single hop manner for all buckets during the period when client bucket metadata doesn't contain all buckets locations.

Java client in this case executes functions in non single hop manner until it receives locations of all buckets on servers. The solution in native client would be to implement the same handling as in java client.