GitHub user doanduyhai opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/746

    [ZEPPELIN-699] Return Paragraph execution result for the REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    z.getInterpreterContext().getParagraphId()
    println("Current time = "+new java.util.Date().toString)
    ```
    
    * Retrieve the current note id in the URL
    * Execute the paragraph once to retrieve the paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "message": "res6: String = 20160224-210856_166847643\nCurrent time = Wed Feb 24 21:17:43 CET 2016\n"
    }
    ```
    
    ### Screenshots (if appropriate)
    ![paragraphexecutionrestapi](https://cloud.githubusercontent.com/assets/1532977/13299992/2735a6e2-db3e-11e5-831e-33e927fc4c55.gif)
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **No**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 28f20848c4c3f8ba84069d20b937af349f24b37e
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-02-24T20:16:03Z

    [ZEPPELIN-699] Return Paragraph execution result for the REST API

----


Github user vgromakowski commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188683473
  
    I would prefer to not return OK in case of failure


Github user doanduyhai commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188791929
  
    Fixed


Github user Leemoonsoo commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188816674
  
    This PR change behavior of REST api `job/{notebookId}/{paragraphId}` from asynchronous to synchronous.
    
    To me it's better we keep asynchronous behavior for backward compatibility. Some user might depends on asynchronous behavior.
    
    Synchronous behavior can be implemented in a different rest api.


Github user doanduyhai commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188828325
  
    @Leemoonsoo so you're suggesting to create another API for pagraph execution ? Fine for me, what's about `http://<ip>:<port>/api/notebook/synchronous_job/<note_id>/<paragraph_id>` ?


Github user Leemoonsoo commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188842837
  
    @doanduyhai Right. 
    
    for asynchronous behavior, multiple API is required to control the job, like submitting job (POST), canceling job (DELETE), get status of job (GET) to `/api/notebook/job/<note_id>/<paragraph_id>`.
    
    but for synchronous behavior, a single API will go through all the lifecycle of the job, from submitting to get result. So how about just say
    
    `/api/notebook/run/<note_id>/<paragraph_id>` ?
    



Github user vgromakowski commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188844963
  
    I would suggest to use the same method as for the spark job server, asynchronous is the default, synchronous is obtain with an additional parameter.
    
    De : Lee moon soo [mailto:notifications@github.com]
    Envoyé : jeudi 25 février 2016 15:48
    À : apache/incubator-zeppelin
    Cc : GROMAKOWSKI Vincent IST/ISAD
    Objet : Re: [incubator-zeppelin] [ZEPPELIN-699] Return Paragraph execution result for the REST API (#746)
    
    
    This PR change behavior of REST api job/{notebookId}/{paragraphId} from asynchronous to synchronous.
    
    To me it's better we keep asynchronous behavior for backward compatibility. Some user might depends on asynchronous behavior.
    
    Synchronous behavior can be implemented in a different rest api.
    
    —
    Reply to this email directly or view it on GitHub<https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188816674>.
    
    _________________________________________________________________________________________________________________________
    
    Ce message et ses pieces jointes peuvent contenir des informations confidentielles ou privilegiees et ne doivent donc
    pas etre diffuses, exploites ou copies sans autorisation. Si vous avez recu ce message par erreur, veuillez le signaler
    a l'expediteur et le detruire ainsi que les pieces jointes. Les messages electroniques etant susceptibles d'alteration,
    Orange decline toute responsabilite si ce message a ete altere, deforme ou falsifie. Merci.
    
    This message and its attachments may contain confidential or privileged information that may be protected by law;
    they should not be distributed, used or copied without authorisation.
    If you have received this email in error, please notify the sender and delete this message and its attachments.
    As emails may be altered, Orange is not liable for messages that have been modified, changed or falsified.
    Thank you.
    



Github user doanduyhai commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188977035
  
    @vgromakowski 
    
    Something like `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>?sync=true` ?


Github user Leemoonsoo commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188989671
  
    I don't have strong opinion here for adding parameter vs new api.
    But i want to mention that adding parameter make the api return two different things.
    
    When sync is false, return success or fail for the job submission. 
    When sync is true,  return success or fail for the job execution, with result data.
    
    That makes the api difficult to understand. And later, there could be some additional parameter introduced for only for async api or only for sync api. in that case, combination of different parameters need to be explained for users.
    
    So i'm little bit biased to new api for this reasons. what do you guys think?


Github user doanduyhai commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-188999787
  
    Humm, your remark about future extension of the existing API with new parameter makes sense. We need to design API carefully to make evolution easier.
    
    This plays in favor for a separate API
    
    By the way, for the existing **asynchronous** API, I don't think returning OK in all cases is correct. But then, since the execution of the paragraph is asynchronous and we don't wait for it to return the result to the client, how can we know if the execution has been successful or not ? How can we decide if we should return **OK** or **INTERNAL_SERVER_ERROR** ?


Github user felixcheung commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-189009246
  
    that we would need a job run status API...


Github user asfgit closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/713


Github user felixcheung commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-196036497
  
    hello - where are we on this?


Github user doanduyhai commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-196040202
  
    @felixcheung I'm still waiting for someone to reply me on my question:
    
    > By the way, for the existing asynchronous API, I don't think returning OK in all cases is correct. Since the execution of the paragraph is asynchronous and we don't wait for it to return the result to the client, how can we know if the execution has been successful or not ? How can we decide if we should return OK or INTERNAL_SERVER_ERROR ?
    
    Or do you think we can just let it as it is and create the new API ?


Github user fireboy1919 commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-196497526
  
    I have a similar REST endpoint based upon the use of resource pools (i.e., starting from this pull request):
    https://github.com/apache/incubator-zeppelin/pull/763#issuecomment-196085361
    
    I made mine use this form:
    http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>/message
    
    This is a bit more flexible than pulling straight from the paragraph and does not have synchronous API problem.
    
    Once that new pull request has been approved, I'll format and post my pull request.


Github user felixcheung commented on the pull request:

    https://github.com/apache/incubator-zeppelin/pull/746#issuecomment-196526150
  
    @doanduyhai typically async pattern in REST, it seems, is either:
    1. server callback
    2. list status
    So IMO if we submit a request o run paragraph asynchronously, and that request is accepted, then we would get back a 202 (preferred) or 200, and through some other ways we would check how the request is going.



GitHub user fireboy1919 opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/782

    Persist pool

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be fully serializable so that the object that they contain can be passed around using thrift.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add serialization for rest endpoint
      [] - Create a REST endpoint
      [] - Create a pluggable API that accepts different kinds of resource pools.
      [] - Create a type of resource pool that persists.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/781
    
    Before that change is made, this will not compile.
    
    ### How should this be tested?
    There is a test class "org.apache.zeppelin.ResourceSerializerTest", but with no front-end, there isn't an easy manual way to test this.
    
    However, these steps will work:
    
    1. Start Zeppelin
    2. Run a paragraph.
    3.  Inspect "org.apache.zeppelin.resource.ResourcePoolUtils.getAllResources()".  You will see that this paragraph's results are included in this resource pool.
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin persist_pool

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/782.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #782
    
----
commit cbdb22d309948eaa2d7562c66c3b8780a6581647
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit ffd092b6e7df495ecd1f4e753e3e88678bae2ead
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit 84cabe2d02a7cf49a82f56d8ae8cbbecb6699aaf
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

----


GitHub user fireboy1919 opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/816

    Pluggable resource pools

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be saved to disk so that they can be reloaded.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to use different kinds of resource pools, and show a second type.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/782
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin pool_pluggable

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/816.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #816
    
----
commit cbdb22d309948eaa2d7562c66c3b8780a6581647
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit ffd092b6e7df495ecd1f4e753e3e88678bae2ead
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit 84cabe2d02a7cf49a82f56d8ae8cbbecb6699aaf
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

commit ffce0d9cfdd81fb7e27928f621c3cd58a02cb5d9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-17T18:45:55Z

    Fixed merge conflict.

commit 187e45e9c26462b53cdd942316f09c614421b7ca
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-17T18:46:22Z

    Merge remote-tracking branch 'apache/master' into persist_pool

commit f1f0d91dbce47a50d5f9737b052ee1f73cc04590
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T16:14:36Z

    Changed resource pool utils so that it will work anywhere.

commit a19c48e124cf45b6287656133bd4dca26dcce002
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T17:42:00Z

    Removed unnecessary serialization.

commit 8fa84a832200351465793f83aafe8d1c0c3c3573
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T21:02:18Z

    Added explicit save to the serializer.

commit 1f2d2ec3306fa0b6dd2ffe907b7e5566cd0fc391
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-21T19:46:03Z

    Added vfs resource pool.

commit 5ab296206c79136a06267b90e5d0758de3eacb95
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-05T20:37:40Z

    Added pluggable resource pool.

----


GitHub user fireboy1919 opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/822

    Resource pools api

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be downloaded from results using a REST API
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to download resources via an API endpoint
    
    ### What is the Jira issue?
    Finishes:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is based upon these:  
    https://github.com/apache/incubator-zeppelin/pull/782
    https://github.com/apache/incubator-zeppelin/pull/816
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    Then go to 
    `/api/notebook/results`
    to see the rest endpoint that lists all of the results.
    
    View it with
    `/api/notebook/[noteid]/paragraph/[paragraph id]/results`
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin resource_pools_api

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/822.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #822
    
----
commit cbdb22d309948eaa2d7562c66c3b8780a6581647
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit ffd092b6e7df495ecd1f4e753e3e88678bae2ead
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit 84cabe2d02a7cf49a82f56d8ae8cbbecb6699aaf
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

commit ffce0d9cfdd81fb7e27928f621c3cd58a02cb5d9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-17T18:45:55Z

    Fixed merge conflict.

commit 187e45e9c26462b53cdd942316f09c614421b7ca
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-17T18:46:22Z

    Merge remote-tracking branch 'apache/master' into persist_pool

commit f1f0d91dbce47a50d5f9737b052ee1f73cc04590
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T16:14:36Z

    Changed resource pool utils so that it will work anywhere.

commit a19c48e124cf45b6287656133bd4dca26dcce002
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T17:42:00Z

    Removed unnecessary serialization.

commit 8fa84a832200351465793f83aafe8d1c0c3c3573
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T21:02:18Z

    Added explicit save to the serializer.

commit 1f2d2ec3306fa0b6dd2ffe907b7e5566cd0fc391
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-21T19:46:03Z

    Added vfs resource pool.

commit 5ab296206c79136a06267b90e5d0758de3eacb95
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-05T20:37:40Z

    Added pluggable resource pool.

commit 47e0ee5978d897234173711cf54b119eb32d0140
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T13:00:53Z

    Added missing rename.

commit 3c0e0c2736bf91a2f99b38a3c343046e676e0e75
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T14:44:43Z

    Added an API to access resource pools.

----


Github user fireboy1919 closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/816


GitHub user fireboy1919 opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/842

    Pool pluggable rebase

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be saved to disk so that they can be reloaded.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to use different kinds of resource pools, and show a second type.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/782
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin pool_pluggable_rebase

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/842.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #842
    
----
commit 43fa7b9f277c81eeb55843b6ceea25788073fddc
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit 5de57565fac57465618995dc656a1d0b8802b002
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit e633c444cee7cb3938dc591f03d0250063cc6b73
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

commit 067da3703af14d614b835f5117bb04fbbe9bde7c
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-21T19:46:03Z

    Added vfs resource pool.

commit 71609fae4d3476c19d23596ccd044c826fa3c7a9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T16:14:36Z

    Changed resource pool utils so that it will work anywhere.

commit 6a22e3bbf819a9102292f2bd7630e468cd9b2ab9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T17:42:00Z

    Removed unnecessary serialization.

commit 17fed3d52f1cf74a56913ff661b3884e1d30296b
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T21:02:18Z

    Added explicit save to the serializer.

commit 0cfeb33364d1f8779f616373eaf780d3ac62f6af
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-05T20:37:40Z

    Added pluggable resource pool.

commit 52cf1be713c1462d768f8df2ad804e5a551d9298
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T13:00:53Z

    Added missing rename.

commit a1b0bbda1105453656bdaf1977761272aba0c59e
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T15:11:49Z

    Added a constructor to DistributedResourcePools to fix tests.

commit f24127299ee9890b303268cca10c07fdfd60caf9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T16:09:08Z

    Switched to java 7 method for java.util.properties.

commit 3ed89b083f2aa6f1183c65c8618695bba01e248d
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T17:47:02Z

    Removed the need for resource pools during tests.

commit 0fa4b3288ba95b8ab8f8d69d0239a72c8b707429
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T18:37:12Z

    Adding missing license file.

commit 69d11d30f7b7f110cbe81a5b66d24dd5a30eb8b7
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-11T15:03:14Z

    Set mock interpreter to register properly.

commit df46376213a3f9c9d766f0f108fdac72125cdc93
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-15T17:38:21Z

    Switched interpreter to use default configuration.

----


Github user fireboy1919 closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/842


GitHub user fireboy1919 opened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/843

    Pool pluggable rebase

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be saved to disk so that they can be reloaded.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to use different kinds of resource pools, and show a second type.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/782
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin pool_pluggable_rebase

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/843.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #843
    
----
commit 43fa7b9f277c81eeb55843b6ceea25788073fddc
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit 5de57565fac57465618995dc656a1d0b8802b002
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit e633c444cee7cb3938dc591f03d0250063cc6b73
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

commit 067da3703af14d614b835f5117bb04fbbe9bde7c
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-21T19:46:03Z

    Added vfs resource pool.

commit 71609fae4d3476c19d23596ccd044c826fa3c7a9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T16:14:36Z

    Changed resource pool utils so that it will work anywhere.

commit 6a22e3bbf819a9102292f2bd7630e468cd9b2ab9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T17:42:00Z

    Removed unnecessary serialization.

commit 17fed3d52f1cf74a56913ff661b3884e1d30296b
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T21:02:18Z

    Added explicit save to the serializer.

commit 0cfeb33364d1f8779f616373eaf780d3ac62f6af
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-05T20:37:40Z

    Added pluggable resource pool.

commit 52cf1be713c1462d768f8df2ad804e5a551d9298
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T13:00:53Z

    Added missing rename.

commit a1b0bbda1105453656bdaf1977761272aba0c59e
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T15:11:49Z

    Added a constructor to DistributedResourcePools to fix tests.

commit f24127299ee9890b303268cca10c07fdfd60caf9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T16:09:08Z

    Switched to java 7 method for java.util.properties.

commit 3ed89b083f2aa6f1183c65c8618695bba01e248d
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T17:47:02Z

    Removed the need for resource pools during tests.

commit 0fa4b3288ba95b8ab8f8d69d0239a72c8b707429
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T18:37:12Z

    Adding missing license file.

commit 69d11d30f7b7f110cbe81a5b66d24dd5a30eb8b7
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-11T15:03:14Z

    Set mock interpreter to register properly.

commit df46376213a3f9c9d766f0f108fdac72125cdc93
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-15T17:38:21Z

    Switched interpreter to use default configuration.

----


Github user fireboy1919 closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/843


GitHub user fireboy1919 reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/843

    Pool pluggable rebase

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be saved to disk so that they can be reloaded.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to use different kinds of resource pools, and show a second type.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/782
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin pool_pluggable_rebase

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/843.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #843
    
----

----


Github user fireboy1919 closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/843


GitHub user fireboy1919 reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/843

    Pool pluggable rebase

    ### What is this PR for?
    This is a step towards creating a REST endpoint from resource pools  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    It allows resources to be saved to disk so that they can be reloaded.
    
    ### What type of PR is it?
    Improvement
    
    ### Todos
    * [X] - Add ability to use different kinds of resource pools, and show a second type.
    
    ### What is the Jira issue?
    Partially implements this:  https://issues.apache.org/jira/browse/ZEPPELIN-699
    
    Note, that this pull request is dependent upon this one:  
    https://github.com/apache/incubator-zeppelin/pull/782
    
    ### How should this be tested?
    1.  Edit an interpreter
    2.  Add a new property to the interpreter - the "ResourcePoolClass" - and assign it to "org.apache.zeppelin.resource.VFSResourcePool" 
    3.  Run the interpreter
    
    You should see new resource files created in notebook/zeppelin_resources
    
    ### Screenshots (if appropriate)
    
    ### Questions:
    * Does the licenses files need update? No
    * Is there breaking changes for older versions? No
    * Does this needs documentation?  No.


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fireboy1919/incubator-zeppelin pool_pluggable_rebase

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/843.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #843
    
----
commit 43fa7b9f277c81eeb55843b6ceea25788073fddc
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:11:20Z

    Added serialization to resourcepoolutils.

commit 5de57565fac57465618995dc656a1d0b8802b002
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-15T23:06:35Z

    Added pool persistance.

commit e633c444cee7cb3938dc591f03d0250063cc6b73
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-16T14:59:29Z

    Added test.

commit 067da3703af14d614b835f5117bb04fbbe9bde7c
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-21T19:46:03Z

    Added vfs resource pool.

commit 71609fae4d3476c19d23596ccd044c826fa3c7a9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T16:14:36Z

    Changed resource pool utils so that it will work anywhere.

commit 6a22e3bbf819a9102292f2bd7630e468cd9b2ab9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T17:42:00Z

    Removed unnecessary serialization.

commit 17fed3d52f1cf74a56913ff661b3884e1d30296b
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-03-28T21:02:18Z

    Added explicit save to the serializer.

commit 0cfeb33364d1f8779f616373eaf780d3ac62f6af
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-05T20:37:40Z

    Added pluggable resource pool.

commit 52cf1be713c1462d768f8df2ad804e5a551d9298
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T13:00:53Z

    Added missing rename.

commit a1b0bbda1105453656bdaf1977761272aba0c59e
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T15:11:49Z

    Added a constructor to DistributedResourcePools to fix tests.

commit f24127299ee9890b303268cca10c07fdfd60caf9
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T16:09:08Z

    Switched to java 7 method for java.util.properties.

commit 3ed89b083f2aa6f1183c65c8618695bba01e248d
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T17:47:02Z

    Removed the need for resource pools during tests.

commit 0fa4b3288ba95b8ab8f8d69d0239a72c8b707429
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-06T18:37:12Z

    Adding missing license file.

commit 69d11d30f7b7f110cbe81a5b66d24dd5a30eb8b7
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-11T15:03:14Z

    Set mock interpreter to register properly.

commit df46376213a3f9c9d766f0f108fdac72125cdc93
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-15T17:38:21Z

    Switched interpreter to use default configuration.

commit 1c29288d300d95f2bacf4e2a6ada41479716f315
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-18T15:23:55Z

    Merge remote-tracking branch 'apache/master' into pool_pluggable_rebase

commit bbeacaca610fde806c90156b1dcfa73554903c29
Author: Rusty Phillips <rusty@cloudspace.com>
Date:   2016-04-18T15:45:40Z

    Fixed missing comma.

----


Github user doanduyhai commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    @felixcheung I've updated the PR to create a new API as suggested by @Leemoonsoo : `/run/{noteId}/{paragraphId}`.
    
    All my apologies for the long delay, I was lately busy with Cassandra


Github user doanduyhai commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    @felixcheung Done, I've added 2 new screen captures of the API documentation update


Github user doanduyhai closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit c8825f7ff639f554862a6933c4a259cd14389f51
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit 695c13e762bad5a31bf47131ccae196062aa5889
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 46a2f3662aab87edf522e92bfa7700170230263b
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    Hello @bzz, I've rebased from the latest master and my PR always fail with this issue:
    
    ```
    12:28:28,504  INFO org.apache.zeppelin.AbstractZeppelinIT:59 - Finished.
    Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 83.01 sec - in org.apache.zeppelin.integration.ParagraphActionsIT
    
    Results :
    
    Tests in error: 
      ZeppelinIT.testSparkInterpreterDependencyLoading:243 Â» NoSuchElement Unable to...
    ```
    
    You have committed recently a fix for `ZeppelinIT`, do you know what can trigger this issue ?
    
    I have the exact same error on my other PR for Cassandra interpreter update: https://github.com/apache/incubator-zeppelin/pull/950



Github user doanduyhai closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit c8825f7ff639f554862a6933c4a259cd14389f51
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit 695c13e762bad5a31bf47131ccae196062aa5889
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 46a2f3662aab87edf522e92bfa7700170230263b
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit c8825f7ff639f554862a6933c4a259cd14389f51
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit 695c13e762bad5a31bf47131ccae196062aa5889
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 46a2f3662aab87edf522e92bfa7700170230263b
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/incubator-zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/incubator-zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit dfdf2709e2e0b6f8f2a676e73ecf98e4b0321223
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit b4e181630e9a2ec5df6a01a61100cd83e1db2224
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 39853d30e808b1596dd69657ec40dc89ade3c976
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user bzz commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    @doanduyhai I think it was due to flaky-test that is tracked under [ZEPPELIN-878](https://issues.apache.org/jira/browse/ZEPPELIN-878).
    
    Now it's fixed in master and reading this branch helped, CI is green!


Github user doanduyhai commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    @felixcheung CI green, you can resume code review


Github user felixcheung commented on the issue:

    https://github.com/apache/incubator-zeppelin/pull/746
  
    finished my pass on this.
    +1 on other's comment.



Github user doanduyhai commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    Rebased from master


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 090d9de360b2130d2fee135949ef31a35642934f
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit faf9542feee910cb4d584b4b49927136a3f839f7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 0106cf5735912467ee36aaf37edefd617548863e
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 090d9de360b2130d2fee135949ef31a35642934f
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit faf9542feee910cb4d584b4b49927136a3f839f7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 0106cf5735912467ee36aaf37edefd617548863e
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 090d9de360b2130d2fee135949ef31a35642934f
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit faf9542feee910cb4d584b4b49927136a3f839f7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

commit 0106cf5735912467ee36aaf37edefd617548863e
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-03T08:20:17Z

    [ZEPPELIN-699] Fix doc after code review

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


GitHub user doanduyhai reopened a pull request:

    https://github.com/apache/zeppelin/pull/746

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

    ### What is this PR for?
    Right now, when calling the REST API `http://<ip>:<port>/api/notebook/job/<note_id>/<paragraph_id>` Zeppelin always returns **OK** as shown by this source code: https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java#L477
    
    This ticket will update the behavior so that Zeppelin also return the result of the paragraph execution
    
    ### What type of PR is it?
    [Improvement]
    
    ### Todos
    * [ ] - Code Review
    * [ ] - Simple Test
    
    ### Is there a relevant Jira issue?
    **[ZEPPELIN-699]**
    
    ### How should this be tested?
    * `git fetch origin pull/746/head:ParagraphExecutionRESTAPI`
    * `git checkout ParagraphExecutionRESTAPI`
    * `mvn clean package -DskipTests`
    * `bin/zeppelin-daemon.sh restart`
    * Create a new note
    * In the first paragraph, put the following code
    
    ```scala
    %sh
    
    echo "Current time = "`date +"%T"
    ```
    
    * Retrieve the current note id in the URL
    * Retrieve the current paragraph id
    * Use a REST Client like **[POSTman]** to create a HTTP POST query `http://<ip>:<port>/api/notebook/run/<note_id>/<paragraph_id>` 
    * You should receive something similar as follow for answer
    
    ```
    {
        "status": "OK",
        "body": {
            "code": "SUCCESS",
            "type": "TEXT",
            "msg": "Current time = 16:14:18\n"
        }
    }
    ```
    
    ### Screenshots (if appropriate)
    ![zeppelin_synchronous_rest_api](https://cloud.githubusercontent.com/assets/1532977/15748069/b4a26a46-28dd-11e6-8f51-aa13ddba3f1c.gif)
    
    API Documentation update
    
    **Existing asynchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773274/5b508cae-2976-11e6-9e52-14d8b7e7828e.png)
    
    **New synchronous API**
    ![image](https://cloud.githubusercontent.com/assets/1532977/15773309/84965a94-2976-11e6-9719-81d8b555c3c4.png)
    
    
    ### Questions:
    * Does the licenses files need update? --> **No**
    * Is there breaking changes for older versions? --> **No**
    * Does this needs documentation? --> **Yes**
    
    [ZEPPELIN-699]: https://issues.apache.org/jira/browse/ZEPPELIN-699
    [POSTman]: https://www.getpostman.com/

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/doanduyhai/incubator-zeppelin ZEPPELIN-699

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zeppelin/pull/746.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #746
    
----
commit 8367acfc0526965a884f58eea8f8ddda70d011d7
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:15:46Z

    [ZEPPELIN-699] Add new synchronous paragraph run REST API

commit fb0570ce70c47d3648ce4b9cc8265ebe51f6bdc8
Author: DuyHai DOAN <doanduyhai@gmail.com>
Date:   2016-06-02T14:24:38Z

    [ZEPPELIN-699] Update Notebook REST API documentation

----


Github user doanduyhai commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    Ok, there are 3 unrelated errors:
    
    1) https://s3.amazonaws.com/archive.travis-ci.org/jobs/155941982/log.txt
    
    ```
    [32mAngularElem[0m
    [31m- should provide onclick method *** FAILED ***[0m
    [31m  The code passed to eventually never returned normally. Attempted 1 times over 208.64569899999998 milliseconds. Last failure message: 0 was not equal to 1. (AbstractAngularElemTest.scala:72)[0m
    ```
    
    The test timeoud because the default implicit for Scala `eventually {a should be(1)}` is only 150ms. Timeout is a recurrent issue when running in containers in Travis
    
    2) https://s3.amazonaws.com/archive.travis-ci.org/jobs/155941985/log.txt
    
    Some flaky remote interpreter test. When running locally the test with `mvn test -Dtest=org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcessTest` it is successful:
    
    ```
    -------------------------------------------------------
     T E S T S
    -------------------------------------------------------
    Running org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcessTest
    16:48:19,231  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess:116 - Run interpreter process [../bin/interpreter.sh, -d, nonexists, -p, 64503, -l, fakeRepo]
    16:48:20,317  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess:127 - shutdown interpreter process
    16:48:22,579  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess:137 - Exception in RemoteInterpreterProcess while synchronized dereference, can safely ignore exception while client.shutdown() may terminates remote process
    16:48:22,580  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess:154 - Interpreter process exited 0
    16:48:23,103  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterServer:89 - Starting remote interpreter server on port 3678
    16:48:23,471  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess:116 - Run interpreter process [../bin/interpreter.sh, -d, nonexists, -p, 64509, -l, fakeRepo]
    16:48:23,979  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess:116 - Run interpreter process [../bin/interpreter.sh, -d, nonexists, -p, 64512, -l, fakeRepo]
    16:48:24,485  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess:127 - shutdown interpreter process
    16:48:26,630  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcess:137 - Exception in RemoteInterpreterProcess while synchronized dereference, can safely ignore exception while client.shutdown() may terminates remote process
    16:48:26,632  INFO org.apache.zeppelin.interpreter.remote.RemoteInterpreterManagedProcess:154 - Interpreter process exited 0
    Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.076 sec - in org.apache.zeppelin.interpreter.remote.RemoteInterpreterProcessTest
    
    Results :
    
    Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
    ```
    
    3) https://s3.amazonaws.com/archive.travis-ci.org/jobs/155942015/log.txt
    
    Just a classical NPM download failure:
    
    ```
    [INFO] --- frontend-maven-plugin:0.0.25:npm (npm install) @ zeppelin-web ---
    [INFO] Running 'npm install --color=false' in /home/travis/build/apache/zeppelin/zeppelin-web
    [ERROR] npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
    [ERROR] npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
    [ERROR] npm WARN deprecated graceful-fs@2.0.3: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.
    [ERROR] npm WARN deprecated minimatch@0.3.0: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
    [ERROR] npm WARN deprecated lodash@1.0.2: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.
    [ERROR] npm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.
    [ERROR] npm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130
    [ERROR] npm WARN deprecated CSSselect@0.7.0: the module is now available as 'css-select'
    [ERROR] npm WARN deprecated CSSwhat@0.4.7: the module is now available as 'css-what'
    [ERROR] npm WARN optional dep failed, continuing fsevents@1.0.14
    [ERROR] npm ERR! Linux 3.13.0-40-generic
    [ERROR] npm ERR! argv "/home/travis/build/apache/zeppelin/zeppelin-web/node/node" "/home/travis/build/apache/zeppelin/zeppelin-web/node/node_modules/npm/bin/npm-cli.js" "install" "--color=false"
    [ERROR] npm ERR! node v0.12.13
    [ERROR] npm ERR! npm  v2.15.0
    [ERROR] npm ERR! code ECONNRESET
    [ERROR] npm ERR! errno ECONNRESET
    [ERROR] npm ERR! syscall read
    [ERROR] 
    [ERROR] npm ERR! network read ECONNRESET
    [ERROR] npm ERR! network This is most likely not a problem with npm itself
    [ERROR] npm ERR! network and is related to network connectivity.
    [ERROR] npm ERR! network In most cases you are behind a proxy or have bad network settings.
    [ERROR] npm ERR! network 
    [ERROR] npm ERR! network If you are behind a proxy, please make sure that the
    [ERROR] npm ERR! network 'proxy' config is set properly.  See: 'npm help config'
    [INFO] 
    [INFO] > ws@0.4.32 install /home/travis/build/apache/zeppelin/zeppelin-web/node_modules/karma/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws
    [INFO] > (node-gyp rebuild 2> builderror.log) || (exit 0)
    ```
    
    @felixcheung @jongyoul Can we merge this and move on ? This PR has been there for a while and I have re-based it many times against master


Github user doanduyhai commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    Ping @Leemoonsoo , can we merge this long-standing PR ? CI failures are irrelevant as mentioned above


Github user jongyoul commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    I've glanced at this PR. I think this PR never break current behaviour and codes looks good. If it doesn't have more issues, it's enough to merge this PR.


Github user felixcheung commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    Done!


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/746


Github user doanduyhai commented on the issue:

    https://github.com/apache/zeppelin/pull/746
  
    Thank you @felixcheung. Finally merged !


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/822


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/843


Github user asfgit closed the pull request at:

    https://github.com/apache/zeppelin/pull/782


