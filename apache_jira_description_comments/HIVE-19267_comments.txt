GitHub user maheshk114 opened a pull request:

    https://github.com/apache/hive/pull/335

    HIVE-19267 : Create/Replicate ACID Write event

    Replicate ACID write Events
    Create new EVENT_WRITE event with related message format to log the write operations with in a txn along with data associated.
    Log this event when perform any writes (insert into, insert overwrite, load table, delete, update, merge, truncate) on table/partition.
    If a single MERGE/UPDATE/INSERT/DELETE statement operates on multiple partitions, then need to log one event per partition.
    DbNotificationListener should log this type of event to special metastore table named "MTxnWriteNotificationLog".
    This table should maintain a map of txn ID against list of tables/partitions written by given txn.
    The entry for a given txn should be removed by the cleaner thread that removes the expired events from EventNotificationTable.
    Replicate Commit Txn operation (with writes)
    Add new EVENT_COMMIT_TXN to log the metadata/data of all tables/partitions modified within the txn.
    
    Source warehouse:
    
    This event should read the EVENT_WRITEs from "MTxnWriteNotificationLog" metastore table to consolidate the list of tables/partitions modified within this txn scope.
    Based on the list of tables/partitions modified and table Write ID, need to compute the list of delta files added by this txn.
    Repl dump should read this message and dump the metadata and delta files list.
    Target warehouse:
    
    Ensure snapshot isolation at target for on-going read txns which shouldn't view the data replicated from committed txn. (Ensured with open and allocate write ID events).

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/maheshk114/hive BUG-92690

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hive/pull/335.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #335
    
----
commit 4cf06e4cd921028cd02d71ba022385986e0227ee
Author: Mahesh Kumar Behera <mbehera@...>
Date:   2018-04-18T06:07:38Z

    HIVE-19267 : Create/Replicate ACID Write event

----


| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 39s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 40s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 23s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 11s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 51s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 19s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 21s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 36s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 22s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m 22s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 12s{color} | {color:red} hcatalog/server-extensions: The patch generated 5 new + 5 unchanged - 3 fixed = 10 total (was 8) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 17s{color} | {color:red} itests/hive-unit: The patch generated 83 new + 6 unchanged - 0 fixed = 89 total (was 6) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 48s{color} | {color:red} ql: The patch generated 18 new + 583 unchanged - 4 fixed = 601 total (was 587) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 41s{color} | {color:red} standalone-metastore: The patch generated 73 new + 2264 unchanged - 5 fixed = 2337 total (was 2269) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 80 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 49s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 15s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 29m 59s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-10419/dev-support/hive-personality.sh |
| git revision | master / a1524f7 |
| Default Java | 1.8.0_111 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/diff-checkstyle-hcatalog_server-extensions.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus/whitespace-eol.txt |
| modules | C: hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-10419/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12920205/HIVE-19267.01.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 35 failed/errored test(s), 14281 tests executed
*Failed tests:*
{noformat}
TestMinimrCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=93)
	[infer_bucket_sort_num_buckets.q,infer_bucket_sort_reducers_power_two.q,parallel_orderby.q,bucket_num_reducers_acid.q,infer_bucket_sort_map_operators.q,infer_bucket_sort_merge.q,root_dir_external_table.q,infer_bucket_sort_dyn_part.q,udf_using.q,bucket_num_reducers_acid2.q]
TestNonCatCallsWithCatalog - did not produce a TEST-*.xml file (likely timed out) (batchId=217)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=231)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_vectorization_0] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[repl_2_exim_basic] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[repl_3_exim_metadata] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[results_cache_invalidation2] (batchId=39)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[check_constraint] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[default_constraint] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_smb] (batchId=176)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[results_cache_invalidation2] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_1] (batchId=171)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[bucketizedhiveinputformat] (batchId=183)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=184)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=105)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[mapreduce_stack_trace] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[mapreduce_stack_trace_turnoff] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[spark_union_merge] (batchId=130)
org.apache.hadoop.hive.ql.TestAcidOnTez.testAcidInsertWithRemoveUnion (batchId=228)
org.apache.hadoop.hive.ql.TestAcidOnTez.testCtasTezUnion (batchId=228)
org.apache.hadoop.hive.ql.TestAcidOnTez.testNonStandardConversion01 (batchId=228)
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1 (batchId=232)
org.apache.hadoop.hive.ql.parse.TestExportImport.dataImportAfterMetadataOnlyImport (batchId=231)
org.apache.hadoop.hive.ql.parse.TestExportImport.databaseTheTableIsImportedIntoShouldBeParsedFromCommandLine (batchId=231)
org.apache.hadoop.hive.ql.parse.TestExportImport.shouldExportImportATemporaryTable (batchId=231)
org.apache.hadoop.hive.ql.parse.TestReplicationScenarios.testSkipTables (batchId=231)
org.apache.hive.beeline.TestBeeLineWithArgs.testQueryProgress (batchId=235)
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testBasicReplEximCommands (batchId=193)
org.apache.hive.jdbc.TestTriggersMoveWorkloadManager.testTriggerMoveAndKill (batchId=242)
org.apache.hive.jdbc.TestTriggersMoveWorkloadManager.testTriggerMoveConflictKill (batchId=242)
org.apache.hive.minikdc.TestJdbcWithMiniKdcCookie.testCookieNegative (batchId=254)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/10419/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/10419/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-10419/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 35 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12920205 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 36s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  8m  1s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 26s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 15s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 57s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 10s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 20s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 19s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 36s{color} | {color:red} ql in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 20s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  0m 20s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 5 unchanged - 3 fixed = 5 total (was 8) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 23s{color} | {color:red} itests/hive-unit: The patch generated 53 new + 530 unchanged - 5 fixed = 583 total (was 535) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 48s{color} | {color:red} ql: The patch generated 6 new + 714 unchanged - 2 fixed = 720 total (was 716) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 39s{color} | {color:red} standalone-metastore: The patch generated 9 new + 2150 unchanged - 8 fixed = 2159 total (was 2158) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 46 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  3m  4s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 15s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 31m  6s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-10507/dev-support/hive-personality.sh |
| git revision | master / 23d20e6 |
| Default Java | 1.8.0_111 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/patch-mvninstall-ql.txt |
| compile | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/patch-compile-hcatalog_server-extensions.txt |
| javac | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/patch-compile-hcatalog_server-extensions.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus/whitespace-eol.txt |
| modules | C: hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-10507/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12920797/HIVE-19267.04.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 52 failed/errored test(s), 14288 tests executed
*Failed tests:*
{noformat}
TestMinimrCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=93)
	[infer_bucket_sort_num_buckets.q,infer_bucket_sort_reducers_power_two.q,parallel_orderby.q,bucket_num_reducers_acid.q,infer_bucket_sort_map_operators.q,infer_bucket_sort_merge.q,root_dir_external_table.q,infer_bucket_sort_dyn_part.q,udf_using.q,bucket_num_reducers_acid2.q]
TestNonCatCallsWithCatalog - did not produce a TEST-*.xml file (likely timed out) (batchId=217)
TestTxnExIm - did not produce a TEST-*.xml file (likely timed out) (batchId=286)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_nullscan] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_table_stats] (batchId=54)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_4] (batchId=13)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_comparison] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_vectorization_0] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[row__id] (batchId=80)
org.apache.hadoop.hive.cli.TestMiniDruidKafkaCliDriver.testCliDriver[druidkafkamini_basic] (batchId=253)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[acid_vectorization_original] (batchId=173)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[default_constraint] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynpart_sort_optimization_acid] (batchId=165)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[enforce_constraint_notnull] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=169)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_smb] (batchId=176)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[materialized_view_create_rewrite_4] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[materialized_view_create_rewrite_5] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_stats] (batchId=168)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=168)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[bucketizedhiveinputformat] (batchId=183)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=184)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[acid_vectorization_original_tez] (batchId=106)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=105)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[mapreduce_stack_trace] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[mapreduce_stack_trace_turnoff] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[spark_union_merge] (batchId=130)
org.apache.hadoop.hive.ql.TestAcidOnTez.testAcidInsertWithRemoveUnion (batchId=228)
org.apache.hadoop.hive.ql.TestAcidOnTez.testCtasTezUnion (batchId=228)
org.apache.hadoop.hive.ql.TestAcidOnTez.testNonStandardConversion01 (batchId=228)
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1 (batchId=232)
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.testWriteSetTracking3 (batchId=300)
org.apache.hadoop.hive.ql.parse.TestCopyUtils.testPrivilegedDistCpWithSameUserAsCurrentDoesNotTryToImpersonate (batchId=231)
org.apache.hadoop.hive.ql.parse.TestReplicationOnHDFSEncryptedZones.targetAndSourceHaveDifferentEncryptionZoneKeys (batchId=231)
org.apache.hive.beeline.TestBeeLineWithArgs.testQueryProgress (batchId=235)
org.apache.hive.beeline.TestBeeLineWithArgs.testQueryProgressParallel (batchId=235)
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp (batchId=239)
org.apache.hive.minikdc.TestJdbcWithDBTokenStore.testTokenAuth (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testCancelRenewTokenFlow (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testConnection (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testIsValid (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testIsValidNeg (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testNegativeProxyAuth (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testNegativeTokenAuth (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testProxyAuth (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testRenewDelegationToken (batchId=254)
org.apache.hive.minikdc.TestJdbcWithDBTokenStoreNoDoAs.testTokenAuth (batchId=254)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/10507/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/10507/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-10507/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 52 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12920797 - PreCommit-HIVE-Build

Pushing this out of 3.0.0 and deferring it to next release.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 27s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 25s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 11s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 11s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 25s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 54s{color} | {color:blue} ql in master has 2320 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 49s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 51s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  7s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 31s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m  6s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m  6s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 11s{color} | {color:red} hcatalog/server-extensions: The patch generated 1 new + 4 unchanged - 3 fixed = 5 total (was 7) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 21s{color} | {color:red} itests/hive-unit: The patch generated 57 new + 577 unchanged - 5 fixed = 634 total (was 582) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 45s{color} | {color:red} ql: The patch generated 7 new + 889 unchanged - 3 fixed = 896 total (was 892) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 35s{color} | {color:red} standalone-metastore: The patch generated 9 new + 2164 unchanged - 6 fixed = 2173 total (was 2170) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 47 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 37s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 34s{color} | {color:red} hcatalog/server-extensions generated 2 new + 2 unchanged - 2 fixed = 4 total (was 4) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 39s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  5s{color} | {color:red} ql generated 4 new + 2319 unchanged - 1 fixed = 2323 total (was 2320) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 57s{color} | {color:green} standalone-metastore generated 0 new + 215 unchanged - 1 fixed = 215 total (was 216) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  3m  2s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 13s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 45m 48s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.getNextNLId(ResultSet, Statement, SQLGenerator, String) may fail to clean up java.sql.ResultSet  Obligation to clean up resource created at DbNotificationListener.java:fail to clean up java.sql.ResultSet  Obligation to clean up resource created at DbNotificationListener.java:[line 704] is not discharged |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 773] |
| FindBugs | module:ql |
|  |  Dead store to group in org.apache.hadoop.hive.ql.metadata.Hive$6.call()  At Hive.java:org.apache.hadoop.hive.ql.metadata.Hive$6.call()  At Hive.java:[line 3708] |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 51] |
|  |  Null pointer dereference of fileListArray in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.createDumpFile(EventHandler$Context, Table, List, List)  Dereferenced at CommitTxnHandler.java:in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.createDumpFile(EventHandler$Context, Table, List, List)  Dereferenced at CommitTxnHandler.java:[line 65] |
|  |  Load of known null value in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.createDumpFile(EventHandler$Context, Table, List, List)  At CommitTxnHandler.java:in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.createDumpFile(EventHandler$Context, Table, List, List)  At CommitTxnHandler.java:[line 65] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11080/dev-support/hive-personality.sh |
| git revision | master / c7bc1e2 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/diff-checkstyle-hcatalog_server-extensions.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11080/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12924257/HIVE-19267.05.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 110 failed/errored test(s), 14380 tests executed
*Failed tests:*
{noformat}
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=232)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=246)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_7] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_9] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join2] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucketizedhiveinputformat_auto] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constprog2] (batchId=13)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[innerjoin] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_orig_table] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[leftsemijoin] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge4] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge_incompat2] (batchId=86)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parallel] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parallel_colstats] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parallel_join1] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_boolean] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_timestamp] (batchId=58)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_vectorization_0] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample5] (batchId=58)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_onesideskew] (batchId=73)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_union_remove_1] (batchId=89)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_union_remove_2] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[smb_mapjoin9] (batchId=42)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[temp_table_gb1] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_6_subq] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_groupby4] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_groupby6] (batchId=90)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_17] (batchId=90)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_bulk] (batchId=105)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=102)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=185)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_explainuser_1] (batchId=184)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[scriptfile1] (batchId=95)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[delete_non_acid_table] (batchId=98)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[update_non_acid_table] (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[runtime_skewjoin_mapjoin_spark] (batchId=133)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[skewjoin] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[spark_union_merge] (batchId=131)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestAMReporter.testMultipleAM (batchId=310)
org.apache.hadoop.hive.ql.TestAcidOnTez.testAcidInsertWithRemoveUnion (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testBucketedAcidInsertWithRemoveUnion (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testGetSplitsLocks (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testInsertWithRemoveUnion (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testMapJoinOnMR (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testMapJoinOnTez (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testMergeJoinOnMR (batchId=229)
org.apache.hadoop.hive.ql.TestAcidOnTez.testMergeJoinOnTez (batchId=229)
org.apache.hadoop.hive.ql.TestTxnCommands.testDeleteIn (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeCase (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeDeleteUpdate (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeType2SCD01 (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeType2SCD02 (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeUpdateDelete (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testMergeUpdateDeleteNoCardCheck (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testQuotedIdentifier (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands.testQuotedIdentifier2 (batchId=302)
org.apache.hadoop.hive.ql.TestTxnCommands2.testDeleteIn (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testDynamicPartitionsMerge (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testDynamicPartitionsMerge2 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testInsertOverwriteWithSelfJoin (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMerge (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMerge2 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMerge3 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMergeWithPredicate (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMultiInsert (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2.testMultiInsertStatement (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDeleteIn (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge2 (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testInsertOverwriteWithSelfJoin (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMerge (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMerge2 (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMerge3 (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMergeWithPredicate (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMultiInsert (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testMultiInsertStatement (batchId=298)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testDeleteIn (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeCase (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeDeleteUpdate (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeType2SCD01 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeType2SCD02 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeUpdateDelete (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testMergeUpdateDeleteNoCardCheck (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testQuotedIdentifier (batchId=287)
org.apache.hadoop.hive.ql.TestTxnCommandsWithSplitUpdateAndVectorization.testQuotedIdentifier2 (batchId=287)
org.apache.hadoop.hive.ql.TestTxnLoadData.testValidations (batchId=265)
org.apache.hadoop.hive.ql.TestTxnNoBuckets.testInsertFromUnion (batchId=287)
org.apache.hadoop.hive.ql.TestTxnNoBuckets.testToAcidConversionMultiBucket (batchId=287)
org.apache.hadoop.hive.ql.TestTxnNoBucketsVectorized.testInsertFromUnion (batchId=287)
org.apache.hadoop.hive.ql.TestTxnNoBucketsVectorized.testToAcidConversionMultiBucket (batchId=287)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningDelete[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningDelete[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningInsert[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningInsert[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningUpdate[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningUpdate[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.mmTableBucketed[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.mmTableBucketed[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningInsert[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningInsert[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl[1] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testTableProperties[0] (batchId=231)
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testTableProperties[1] (batchId=231)
org.apache.hive.service.server.TestInformationSchemaWithPrivilege.test (batchId=239)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11080/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11080/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11080/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 110 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12924257 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m  0s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 11s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 12s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 25s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 44s{color} | {color:blue} ql in master has 2320 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 53s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 50s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 30s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 59s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m 59s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 21s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 577 unchanged - 5 fixed = 611 total (was 582) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 45s{color} | {color:red} ql: The patch generated 4 new + 888 unchanged - 4 fixed = 892 total (was 892) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 35s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2164 unchanged - 6 fixed = 2171 total (was 2170) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 39s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 32s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 41s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 57s{color} | {color:red} ql generated 1 new + 2319 unchanged - 1 fixed = 2320 total (was 2320) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  3m  2s{color} | {color:green} standalone-metastore generated 0 new + 215 unchanged - 1 fixed = 215 total (was 216) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 57s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 45m 40s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 777] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 51] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11084/dev-support/hive-personality.sh |
| git revision | master / c7bc1e2 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11084/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12924269/HIVE-19267.06.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 14380 tests executed
*Failed tests:*
{noformat}
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=232)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=69)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[insert_overwrite_directory2] (batchId=185)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[spark_union_merge] (batchId=131)
org.apache.hadoop.hive.ql.TestTxnLoadData.testValidations (batchId=265)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11084/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11084/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11084/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12924269 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12925293/HIVE-19267.07.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11315/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11315/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11315/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14072: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14073: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14260: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15455: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15456: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ [[ maven == \m\a\v\e\n ]]
+ rm -rf /data/hiveptest/working/maven/org/apache/hive
+ mvn -B clean install -DskipTests -T 4 -q -Dmaven.repo.local=/data/hiveptest/working/maven
protoc-jar: executing: [/tmp/protoc4911310962498835671.exe, --version]
libprotoc 2.5.0
protoc-jar: executing: [/tmp/protoc4911310962498835671.exe, -I/data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore, --java_out=/data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources, /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore/metastore.proto]
ANTLR Parser Generator  Version 3.5.2
Output file /data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources/org/apache/hadoop/hive/metastore/parser/FilterParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/parser/Filter.g
org/apache/hadoop/hive/metastore/parser/Filter.g
log4j:WARN No appenders could be found for logger (DataNucleus.Persistence).
log4j:WARN Please initialize the log4j system properly.
DataNucleus Enhancer (version 4.1.17) for API "JDO"
DataNucleus Enhancer completed with success for 41 classes.
ANTLR Parser Generator  Version 3.5.2
Output file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HiveLexer.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g
org/apache/hadoop/hive/ql/parse/HiveLexer.g
Output file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HiveParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g
org/apache/hadoop/hive/ql/parse/HiveParser.g
warning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: 
Decision can match input such as "KW_CHECK {KW_EXISTS, KW_TINYINT}" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: 
Decision can match input such as "KW_CHECK KW_DATETIME" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: 
Decision can match input such as "KW_CHECK KW_DATE {LPAREN, StringLiteral}" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: 
Decision can match input such as "KW_CHECK KW_STRUCT LESSTHAN" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): org/apache/hadoop/hive/ql/parse/HiveParser.g:2392:5: 
Decision can match input such as "KW_CHECK KW_UNIONTYPE LESSTHAN" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
Output file /data/hiveptest/working/apache-github-source-source/ql/target/generated-sources/antlr3/org/apache/hadoop/hive/ql/parse/HintParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/parse/HintParser.g
org/apache/hadoop/hive/ql/parse/HintParser.g
Generating vector expression code
Generating vector expression test code
Processing annotations
Annotations processed
Processing annotations
No elements to process
[ERROR] COMPILATION ERROR : 
[ERROR] /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java:[641,29] cannot find symbol
  symbol:   class CommitTxnRequest
  location: class org.apache.hadoop.hive.ql.lockmgr.DbTxnManager
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project hive-exec: Compilation failure
[ERROR] /data/hiveptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java:[641,29] cannot find symbol
[ERROR] symbol:   class CommitTxnRequest
[ERROR] location: class org.apache.hadoop.hive.ql.lockmgr.DbTxnManager
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-exec
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12925293 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12925548/HIVE-19267.08.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11385/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11385/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11385/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
HEAD is now at 77ffe96 Revert "HIVE-19340: Disable timeout of transactions opened by replication task at target cluster (Mahesh Kumar Behera, reviewed by Sankar Hariappan)"
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
+ git reset --hard origin/master
HEAD is now at 77ffe96 Revert "HIVE-19340: Disable timeout of transactions opened by replication task at target cluster (Mahesh Kumar Behera, reviewed by Sankar Hariappan)"
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-05-31 14:01:44.479
+ rm -rf ../yetus_PreCommit-HIVE-Build-11385
+ mkdir ../yetus_PreCommit-HIVE-Build-11385
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-11385
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-11385/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:120
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' cleanly.
error: patch failed: standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql:282
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql:349
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql:319
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql:335
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql:357
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql' with conflicts.
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14249: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14250: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14437: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15632: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15633: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:120
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' cleanly.
error: patch failed: standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql:282
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql:349
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql:319
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql:335
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql:357
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql' with conflicts.
U standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql
U standalone-metastore/src/main/sql/mssql/upgrade-2.3.0-to-3.0.0.mssql.sql
U standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql
U standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql
U standalone-metastore/src/main/sql/postgres/upgrade-2.3.0-to-3.0.0.postgres.sql
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-11385
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12925548 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 33s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 14s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 54s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m  7s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 28s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 23s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 31s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 34s{color} | {color:blue} ql in master has 2278 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 37s{color} | {color:blue} standalone-metastore in master has 214 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 31s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  7s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 28s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 59s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m 59s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 20s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 583 unchanged - 5 fixed = 617 total (was 588) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 46s{color} | {color:red} ql: The patch generated 8 new + 1301 unchanged - 32 fixed = 1309 total (was 1333) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 34s{color} | {color:red} standalone-metastore: The patch generated 9 new + 2163 unchanged - 6 fixed = 2172 total (was 2169) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 36s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 31s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 41s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 42s{color} | {color:red} ql generated 1 new + 2277 unchanged - 1 fixed = 2278 total (was 2278) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 49s{color} | {color:green} standalone-metastore generated 0 new + 213 unchanged - 1 fixed = 213 total (was 214) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 35s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 43m  0s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11469/dev-support/hive-personality.sh |
| git revision | master / 3bccc4e |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11469/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12925950/HIVE-19267.09.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 14437 tests executed
*Failed tests:*
{noformat}
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=106)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=106)
org.apache.hadoop.hive.ql.TestTxnLoadData.testValidations (batchId=266)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11469/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11469/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11469/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12925950 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12926275/HIVE-19267.10.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11543/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11543/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11543/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
HEAD is now at 0992d82 HIVE-19773 : CBO exception while running queries with tables that are not present in materialized views (Jesus Camacho Rodriguez via Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-06-06 05:25:10.012
+ rm -rf ../yetus_PreCommit-HIVE-Build-11543
+ mkdir ../yetus_PreCommit-HIVE-Build-11543
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-11543
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-11543/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-4.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java:63
Falling back to three-way merge...
Applied patch to 'ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java' with conflicts.
error: patch failed: standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp:2107
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp' with conflicts.
error: patch failed: standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp:16561
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java:59
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java:73
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java' with conflicts.
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14278: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14279: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14466: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15661: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15662: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java:63
Falling back to three-way merge...
Applied patch to 'ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java' with conflicts.
error: patch failed: standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp:2107
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp' with conflicts.
error: patch failed: standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp:16561
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java:59
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java:73
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java' with conflicts.
U ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java
U standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp
U standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp
U standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java
U standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-11543
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12926275 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12926683/HIVE-19267.11.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11609/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11609/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11609/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-4.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
error: patch failed: itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java:86
Falling back to three-way merge...
Applied patch to 'itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java' cleanly.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:80
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java' cleanly.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java:1639
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:115
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql:24
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql:27
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql' with conflicts.
error: patch failed: standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java:84
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java' with conflicts.
error: patch failed: standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java:1172
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java' with conflicts.
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14279: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14280: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14467: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15662: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15663: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
error: patch failed: itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java:86
Falling back to three-way merge...
Applied patch to 'itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java' cleanly.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:80
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java' cleanly.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java:1639
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:115
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql:24
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql:25
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql' with conflicts.
error: patch failed: standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql:27
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql' with conflicts.
error: patch failed: standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java:84
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java' with conflicts.
error: patch failed: standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java:1172
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java' with conflicts.
U standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java
U standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java
U standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql
U standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql
U standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql
U standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql
U standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql
U standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java
U standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-11609
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12926683 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 28s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 17s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 51s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m  2s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 27s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 21s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 33s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 25s{color} | {color:blue} ql in master has 2286 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 35s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 23s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  6s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 30s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 46s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m 46s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 17s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 583 unchanged - 5 fixed = 617 total (was 588) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 44s{color} | {color:red} ql: The patch generated 7 new + 1324 unchanged - 32 fixed = 1331 total (was 1356) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 33s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2166 unchanged - 6 fixed = 2173 total (was 2172) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 32s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 29s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 40s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 37s{color} | {color:red} ql generated 1 new + 2285 unchanged - 1 fixed = 2286 total (was 2286) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 41s{color} | {color:green} standalone-metastore generated 0 new + 215 unchanged - 1 fixed = 215 total (was 216) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 25s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 41m 19s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11687/dev-support/hive-personality.sh |
| git revision | master / 2a55f99 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11687/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12927191/HIVE-19267.13.patch

{color:green}SUCCESS:{color} +1 due to 5 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 14507 tests executed
*Failed tests:*
{noformat}
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.ql.stats.TestStatsUpdaterThread.testQueueingWithThreads (batchId=276)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11687/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11687/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11687/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12927191 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12927191/HIVE-19267.13.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11691/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11691/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11691/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Tests exited with: Exception: Patch URL https://issues.apache.org/jira/secure/attachment/12927191/HIVE-19267.13.patch was found in seen patch url's cache and a test was probably run already on it. Aborting...
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12927191 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 26s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m  4s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 49s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m  4s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 27s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 22s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 27s{color} | {color:blue} ql in master has 2279 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 30s{color} | {color:blue} standalone-metastore in master has 216 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 27s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  7s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 14s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 29s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  2m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 18s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 587 unchanged - 5 fixed = 621 total (was 592) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 44s{color} | {color:red} ql: The patch generated 4 new + 1324 unchanged - 32 fixed = 1328 total (was 1356) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 32s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2166 unchanged - 6 fixed = 2173 total (was 2172) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 34s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 30s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 40s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  3m 39s{color} | {color:red} ql generated 1 new + 2278 unchanged - 1 fixed = 2279 total (was 2279) {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 43s{color} | {color:green} standalone-metastore generated 0 new + 215 unchanged - 1 fixed = 215 total (was 216) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 25s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 11s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 41m 27s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11705/dev-support/hive-personality.sh |
| git revision | master / a4c5b41 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11705/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12927239/HIVE-19267.14.patch

{color:green}SUCCESS:{color} +1 due to 5 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 14511 tests executed
*Failed tests:*
{noformat}
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_llap] (batchId=165)
org.apache.hadoop.hive.ql.stats.TestStatsUpdaterThread.testQueueingWithThreads (batchId=276)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11705/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11705/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11705/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12927239 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12927765/HIVE-19267.15.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11811/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11811/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11811/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
+ [[ ! -d apache-github-source-source ]]
+ date '+%Y-%m-%d %T.%3N'
2018-06-15 23:17:51.991
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   bceb3dd..73ee8a1  master     -> origin/master
+ git reset --hard HEAD
HEAD is now at 56fd278 HIVE-19861: Fix temp table path generation for acid table export (Jason Dere, reviewed by Eugene Koifman)
+ git clean -f -d
+ git checkout master
Switched to branch 'master'
Your branch is behind 'origin/master' by 3 commits, and can be fast-forwarded.
  (use "git pull" to update your local branch)
+ git reset --hard origin/master
HEAD is now at 73ee8a1 HIVE-19837: Setting to have different default location for external tables (Jason Dere, reviewed by Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-06-15 23:17:53.665
+ rm -rf ../yetus_PreCommit-HIVE-Build-11811
+ mkdir ../yetus_PreCommit-HIVE-Build-11811
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-11811
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-11811/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-4.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
error: patch failed: itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java:30
Falling back to three-way merge...
Applied patch to 'itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java' with conflicts.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java:141
Falling back to three-way merge...
Applied patch to 'ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:988
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' cleanly.
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14279: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14280: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14467: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15662: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15663: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
error: patch failed: itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java:30
Falling back to three-way merge...
Applied patch to 'itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java' with conflicts.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java:141
Falling back to three-way merge...
Applied patch to 'ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java' with conflicts.
error: patch failed: standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java:988
Falling back to three-way merge...
Applied patch to 'standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java' cleanly.
U itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java
U ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-11811
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12927765 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12928070/HIVE-19267.16.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11880/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11880/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11880/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'MAVEN_OPTS=-Xmx1g '
+ MAVEN_OPTS='-Xmx1g '
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-11880/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date '+%Y-%m-%d %T.%3N'
2018-06-18 06:54:32.348
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at ebd2c5f HIVE-19898: Disable TransactionalValidationListener when the table is not in the Hive catalog (Jason Dere, reviewed by Eugene Koifman)
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
+ git reset --hard origin/master
HEAD is now at ebd2c5f HIVE-19898: Disable TransactionalValidationListener when the table is not in the Hive catalog (Jason Dere, reviewed by Eugene Koifman)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-06-18 06:54:33.405
+ rm -rf ../yetus_PreCommit-HIVE-Build-11880
+ mkdir ../yetus_PreCommit-HIVE-Build-11880
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-11880
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-11880/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-4.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
error: patch failed: ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java:378
Falling back to three-way merge...
Applied patch to 'ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java' with conflicts.
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:14265: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14266: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14453: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15648: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:15649: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
error: patch failed: ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java:378
Falling back to three-way merge...
Applied patch to 'ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java' with conflicts.
U ql/src/test/org/apache/hadoop/hive/ql/TestTxnLoadData.java
warning: squelched 45 whitespace errors
warning: 50 lines add whitespace errors.
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-11880
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12928070 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 30s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 17s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 18s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 31s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 33s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 26s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 37s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 46s{color} | {color:blue} ql in master has 2280 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m  8s{color} | {color:blue} standalone-metastore in master has 227 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 47s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 18s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 30s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 10s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m 10s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 21s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 650 unchanged - 5 fixed = 684 total (was 655) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 50s{color} | {color:red} ql: The patch generated 4 new + 1301 unchanged - 31 fixed = 1305 total (was 1332) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 41s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 34s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  9s{color} | {color:red} ql generated 1 new + 2279 unchanged - 1 fixed = 2280 total (was 2280) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 46s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 48m 11s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11914/dev-support/hive-personality.sh |
| git revision | master / d5cb88d |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11914/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12928164/HIVE-19267.17.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 14520 tests executed
*Failed tests:*
{noformat}
TestAlterTableMetadata - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestClearDanglingScratchDir - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestSemanticAnalyzerHookLoading - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestStorageBasedMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11914/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11914/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11914/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12928164 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 40s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 56s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 21s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 36s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 32s{color} | {color:blue} common in master has 62 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 27s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 37s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 59s{color} | {color:blue} ql in master has 2280 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 12s{color} | {color:blue} standalone-metastore in master has 227 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 49s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 34s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 23s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m 23s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 25s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 650 unchanged - 5 fixed = 684 total (was 655) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 51s{color} | {color:red} ql: The patch generated 4 new + 1301 unchanged - 31 fixed = 1305 total (was 1332) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 41s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 43 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 33s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m 14s{color} | {color:red} ql generated 1 new + 2279 unchanged - 1 fixed = 2280 total (was 2280) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 55s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 13s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 49m 17s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-11959/dev-support/hive-personality.sh |
| git revision | master / aea5908 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/patch-mvninstall-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/new-findbugs-hcatalog_server-extensions.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus/new-findbugs-ql.html |
| modules | C: common hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11959/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12928367/HIVE-19267.17.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 14524 tests executed
*Failed tests:*
{noformat}
TestAlterTableMetadata - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestClearDanglingScratchDir - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestSemanticAnalyzerHookLoading - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestStorageBasedMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11959/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11959/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11959/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12928367 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m 11s{color} | {color:red} /data/hiveptest/logs/PreCommit-HIVE-Build-11990/patches/PreCommit-HIVE-Build-11990.patch does not apply to master. Rebase required? Wrong Branch? See http://cwiki.apache.org/confluence/display/Hive/HowToContribute for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-11990/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12928596/HIVE-19267.01-branch-3.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 18 failed/errored test(s), 14342 tests executed
*Failed tests:*
{noformat}
TestAlterTableMetadata - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestBeeLineDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=256)
TestClearDanglingScratchDir - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=256)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=256)
TestMiniDruidKafkaCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=256)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSemanticAnalyzerHookLoading - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestStorageBasedMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestTezPerfCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=256)
org.apache.hadoop.hive.ql.TestWarehouseExternalDir.testManagedPaths (batchId=233)
org.apache.hive.minikdc.TestJdbcWithMiniKdc.testTokenAuth (batchId=257)
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation (batchId=242)
org.apache.hive.spark.client.rpc.TestRpc.testServerPort (batchId=308)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/11990/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/11990/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-11990/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12928596 - PreCommit-HIVE-Build



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929002/HIVE-19267.18.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12093/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12093/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12093/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
+ date '+%Y-%m-%d %T.%3N'
2018-06-25 09:03:51.184
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 2277661 HIVE-19922: TestMiniDruidKafkaCliDriver[druidkafkamini_basic] is flaky (Peter Vary, reviewed by Jason Dere)
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
+ git reset --hard origin/master
HEAD is now at 2277661 HIVE-19922: TestMiniDruidKafkaCliDriver[druidkafkamini_basic] is flaky (Peter Vary, reviewed by Jason Dere)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-06-25 09:03:51.752
+ rm -rf ../yetus_PreCommit-HIVE-Build-12093
+ mkdir ../yetus_PreCommit-HIVE-Build-12093
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-12093
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-12093/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/hcatalog/server-extensions/src/main/java/org/apache/hive/hcatalog/listener/DbNotificationListener.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/DummyRawStoreFailEvent.java: does not exist in index
error: a/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/listener/TestDbNotificationListener.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenarios.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcidTables.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/TestReplicationScenariosAcrossInstances.java: does not exist in index
error: a/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/parse/WarehouseInstance.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/metastore/SynchronizedMetaStoreClient.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplCopyTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/ReplTxnTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplDumpTask.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DbTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DummyTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveTxnManager.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/ReplicationSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/UpdateDeleteSemanticAnalyzer.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/CopyUtils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/Utils.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/EventHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/dump/events/InsertHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/UpdatedMetaDataTracker.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AbortTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AllocWriteIdHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CommitTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/MessageHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/OpenTxnHandler.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/plan/ReplTxnWork.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClearFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ClientCapabilities.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CommitTxnRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CompactionRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/CreationMetadata.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FindSchemasByColsResp.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FireEventRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetAllFunctionsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataByExprResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetFileMetadataResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetTablesResult.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InsertEventRequestData.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Materialization.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NotificationEventResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PutFileMetadataRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SchemaVersion.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableValidWriteIds.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMFullResourcePlan.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetAllResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMGetTriggersForResourePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/WMValidateResourcePlanResponse.java: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-php/metastore/Types.php: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb: does not exist in index
error: a/standalone-metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/MetaStoreListenerNotifier.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ObjectStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/RawStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/ReplChangeManager.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/cache/CachedStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/CommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/EventMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/MessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONCommitTxnMessage.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageDeserializer.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/messaging/json/JSONMessageFactory.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/tools/SQLGenerator.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnDbUtil.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnStore.java: does not exist in index
error: a/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/utils/FileUtils.java: does not exist in index
error: a/standalone-metastore/src/main/resources/package.jdo: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/hive-schema-4.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-2.3.0-to-3.0.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/derby/upgrade-3.0.0-to-3.1.0.derby.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mssql/upgrade-3.0.0-to-3.1.0.mssql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-2.3.0-to-3.0.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/mysql/upgrade-3.0.0-to-3.1.0.mysql.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-2.3.0-to-3.0.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/oracle/upgrade-3.0.0-to-3.1.0.oracle.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/sql/postgres/upgrade-3.0.0-to-3.1.0.postgres.sql: does not exist in index
error: a/standalone-metastore/src/main/thrift/hive_metastore.thrift: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java: does not exist in index
error: a/standalone-metastore/src/test/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClientPreCatalog.java: does not exist in index
Going to apply patch with: git apply -p1
/data/hiveptest/working/scratch/build.patch:1615: trailing whitespace.
      
/data/hiveptest/working/scratch/build.patch:14227: trailing whitespace.
    tmpMap.put(_Fields.WRITE_EVENT_INFOS, new org.apache.thrift.meta_data.FieldMetaData("writeEventInfos", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
/data/hiveptest/working/scratch/build.patch:14228: trailing whitespace.
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
/data/hiveptest/working/scratch/build.patch:14415: trailing whitespace.
            } else { 
/data/hiveptest/working/scratch/build.patch:15610: trailing whitespace.
    tmpMap.put(_Fields.SUB_DIRECTORY_LIST, new org.apache.thrift.meta_data.FieldMetaData("subDirectoryList", org.apache.thrift.TFieldRequirementType.OPTIONAL, 
warning: squelched 46 whitespace errors
warning: 51 lines add whitespace errors.
+ [[ maven == \m\a\v\e\n ]]
+ rm -rf /data/hiveptest/working/maven/org/apache/hive
+ mvn -B clean install -DskipTests -T 4 -q -Dmaven.repo.local=/data/hiveptest/working/maven
protoc-jar: executing: [/tmp/protoc339248067089189918.exe, --version]
libprotoc 2.5.0
protoc-jar: executing: [/tmp/protoc339248067089189918.exe, -I/data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore, --java_out=/data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources, /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore/metastore.proto]
ANTLR Parser Generator  Version 3.5.2
Output file /data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources/org/apache/hadoop/hive/metastore/parser/FilterParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/parser/Filter.g
org/apache/hadoop/hive/metastore/parser/Filter.g
[ERROR] COMPILATION ERROR : 
[ERROR] /data/hiveptest/working/apache-github-source-source/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java:[46,8] class TestTimestampWritableV2 is public, should be declared in a file named TestTimestampWritableV2.java
[ERROR] /data/hiveptest/working/apache-github-source-source/serde/src/test/org/apache/hadoop/hive/serde2/io/TestDateWritable.java:[48,8] class TestDateWritableV2 is public, should be declared in a file named TestDateWritableV2.java
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:testCompile (default-testCompile) on project hive-serde: Compilation failure: Compilation failure:
[ERROR] /data/hiveptest/working/apache-github-source-source/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java:[46,8] class TestTimestampWritableV2 is public, should be declared in a file named TestTimestampWritableV2.java
[ERROR] /data/hiveptest/working/apache-github-source-source/serde/src/test/org/apache/hadoop/hive/serde2/io/TestDateWritable.java:[48,8] class TestDateWritableV2 is public, should be declared in a file named TestDateWritableV2.java
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-serde
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-12093
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929002 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 21s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  3m 13s{color} | {color:red} root in master failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 15s{color} | {color:red} serde in master failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red}  0m 31s{color} | {color:red} ql in master failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 31s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 31s{color} | {color:blue} common in master has 64 extant Findbugs warnings. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 11s{color} | {color:red} serde in master failed. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 26s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 34s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 24s{color} | {color:red} ql in master failed. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 59s{color} | {color:blue} standalone-metastore in master has 228 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 48s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  8s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} server-extensions in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} hcatalog-unit in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 30s{color} | {color:red} ql in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 22s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 14s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 17s{color} | {color:green} serde generated 0 new + 0 unchanged - 4 fixed = 0 total (was 4) {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 17s{color} | {color:green} server-extensions in the patch passed. {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 18s{color} | {color:green} hcatalog-unit in the patch passed. {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 36s{color} | {color:green} hive-unit in the patch passed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red}  1m  0s{color} | {color:red} ql generated 3 new + 2 unchanged - 200 fixed = 5 total (was 202) {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 40s{color} | {color:green} standalone-metastore in the patch passed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} The patch serde passed checkstyle {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 21s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 650 unchanged - 5 fixed = 684 total (was 655) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 51s{color} | {color:red} ql: The patch generated 4 new + 1304 unchanged - 19 fixed = 1308 total (was 1323) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 39s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2186 unchanged - 6 fixed = 2193 total (was 2192) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 44 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 32s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 51s{color} | {color:red} ql generated 100 new + 0 unchanged - 100 fixed = 100 total (was 100) {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 40m 39s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12095/dev-support/hive-personality.sh |
| git revision | master / 2277661 |
| Default Java | 1.8.0_111 |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/branch-mvninstall-root.txt |
| compile | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/branch-compile-serde.txt |
| compile | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/branch-compile-ql.txt |
| findbugs | v3.0.0 |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/branch-findbugs-serde.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/branch-findbugs-ql.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/patch-mvninstall-hcatalog_server-extensions.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/patch-mvninstall-itests_hcatalog-unit.txt |
| mvninstall | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/patch-mvninstall-ql.txt |
| javac | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/diff-compile-javac-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/diff-checkstyle-itests_hive-unit.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/diff-checkstyle-standalone-metastore.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/new-findbugs-hcatalog_server-extensions.html |
| javadoc | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus/diff-javadoc-javadoc-ql.txt |
| modules | C: common serde hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit ql standalone-metastore U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12095/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929010/HIVE-19267.19.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 26 failed/errored test(s), 14574 tests executed
*Failed tests:*
{noformat}
TestAlterTableMetadata - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestBeeLineDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=258)
TestClearDanglingScratchDir - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=258)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestMinimrCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=258)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestSemanticAnalyzerHookLoading - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestStorageBasedMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge12] (batchId=65)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge5] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge6] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge_incompat1] (batchId=70)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge_incompat2] (batchId=87)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge5] (batchId=169)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge6] (batchId=163)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge7] (batchId=176)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge5] (batchId=185)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge6] (batchId=185)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge7] (batchId=187)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge9] (batchId=184)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge_incompat1] (batchId=186)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge_incompat2] (batchId=187)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[orc_merge12] (batchId=105)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12095/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12095/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12095/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 26 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929010 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 55s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 54s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 13s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 30s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 30s{color} | {color:blue} common in master has 64 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m  3s{color} | {color:blue} standalone-metastore in master has 228 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 52s{color} | {color:blue} ql in master has 2287 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 25s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 36s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 48s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 23s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 44s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 41s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 50s{color} | {color:red} ql: The patch generated 6 new + 1252 unchanged - 19 fixed = 1258 total (was 1271) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 24s{color} | {color:red} itests/hive-unit: The patch generated 34 new + 654 unchanged - 5 fixed = 688 total (was 659) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 44 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  6s{color} | {color:red} ql generated 1 new + 2286 unchanged - 1 fixed = 2287 total (was 2287) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 33s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 49s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 49m  1s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12300/dev-support/hive-personality.sh |
| git revision | master / 1c33fea |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/diff-checkstyle-standalone-metastore.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/diff-checkstyle-itests_hive-unit.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/new-findbugs-ql.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus/new-findbugs-hcatalog_server-extensions.html |
| modules | C: common standalone-metastore ql hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12300/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929867/HIVE-19267.20.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 14623 tests executed
*Failed tests:*
{noformat}
TestAlterTableMetadata - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestClearDanglingScratchDir - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestReplicationScenariosAcidTables - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestSemanticAnalyzerHookLoading - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestStorageBasedMetastoreAuthorizationProvider - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
org.apache.hadoop.hive.ql.TestTxnCommands2WithSplitUpdateAndVectorization.testDynamicPartitionsMerge (batchId=306)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12300/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12300/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12300/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929867 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 32s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 14s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 21s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 34s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 29s{color} | {color:blue} common in master has 64 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m  8s{color} | {color:blue} standalone-metastore in master has 228 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  4m  2s{color} | {color:blue} ql in master has 2287 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 26s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 41s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 48s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 17s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m 17s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 16s{color} | {color:green} The patch common passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 45s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 52s{color} | {color:red} ql: The patch generated 6 new + 1252 unchanged - 19 fixed = 1258 total (was 1271) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 23s{color} | {color:red} itests/hive-unit: The patch generated 3 new + 654 unchanged - 5 fixed = 657 total (was 659) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 44 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m 12s{color} | {color:red} ql generated 1 new + 2286 unchanged - 1 fixed = 2287 total (was 2287) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 36s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 50s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 50m 18s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12302/dev-support/hive-personality.sh |
| git revision | master / 08eba3e |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/diff-checkstyle-standalone-metastore.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/diff-checkstyle-itests_hive-unit.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/new-findbugs-ql.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus/new-findbugs-hcatalog_server-extensions.html |
| modules | C: common standalone-metastore ql hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12302/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929881/HIVE-19267.21.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 14633 tests executed
*Failed tests:*
{noformat}
TestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=190)
	[druidmini_dynamic_partition.q,druidmini_expressions.q,druidmini_test_alter.q,druidmini_test1.q,druidmini_test_insert.q]
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12302/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12302/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12302/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929881 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 31s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m  9s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  2m 55s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 11s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m  1s{color} | {color:blue} standalone-metastore in master has 228 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 55s{color} | {color:blue} ql in master has 2287 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 25s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 37s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 34s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 26s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 33s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m  1s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m  1s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 41s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 52s{color} | {color:red} ql: The patch generated 6 new + 1246 unchanged - 19 fixed = 1252 total (was 1265) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 23s{color} | {color:red} itests/hive-unit: The patch generated 38 new + 654 unchanged - 5 fixed = 692 total (was 659) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 44 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m  4s{color} | {color:red} ql generated 1 new + 2286 unchanged - 1 fixed = 2287 total (was 2287) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 34s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 34s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 46m 19s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12328/dev-support/hive-personality.sh |
| git revision | master / 88da0e8 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/diff-checkstyle-standalone-metastore.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/diff-checkstyle-itests_hive-unit.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/new-findbugs-ql.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus/new-findbugs-hcatalog_server-extensions.html |
| modules | C: standalone-metastore ql hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12328/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929943/HIVE-19267.22.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 14644 tests executed
*Failed tests:*
{noformat}
TestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=190)
	[druidmini_dynamic_partition.q,druidmini_expressions.q,druidmini_test_alter.q,druidmini_test1.q,druidmini_test_insert.q]
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12328/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12328/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12328/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929943 - PreCommit-HIVE-Build

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 26s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m 13s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  2m 11s{color} | {color:green} master passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  2m 58s{color} | {color:blue} standalone-metastore in master has 228 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m 59s{color} | {color:blue} ql in master has 2286 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 25s{color} | {color:blue} hcatalog/server-extensions in master has 4 extant Findbugs warnings. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 35s{color} | {color:blue} itests/hive-unit in master has 2 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 48s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 34s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  3m  5s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  3m  5s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 36s{color} | {color:red} standalone-metastore: The patch generated 7 new + 2187 unchanged - 6 fixed = 2194 total (was 2193) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 51s{color} | {color:red} ql: The patch generated 6 new + 1246 unchanged - 19 fixed = 1252 total (was 1265) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} hcatalog/server-extensions: The patch generated 0 new + 4 unchanged - 3 fixed = 4 total (was 7) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} The patch hcatalog-unit passed checkstyle {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 23s{color} | {color:red} itests/hive-unit: The patch generated 38 new + 654 unchanged - 5 fixed = 692 total (was 659) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  0s{color} | {color:red} The patch has 44 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  4m 28s{color} | {color:red} ql generated 1 new + 2285 unchanged - 1 fixed = 2286 total (was 2286) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 37s{color} | {color:red} hcatalog/server-extensions generated 1 new + 2 unchanged - 2 fixed = 3 total (was 4) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  2m 52s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 47m 31s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:ql |
|  |  Found reliance on default encoding in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path):in org.apache.hadoop.hive.ql.parse.repl.dump.events.CommitTxnHandler.writer(EventHandler$Context, Path): new java.io.OutputStreamWriter(OutputStream)  At CommitTxnHandler.java:[line 52] |
| FindBugs | module:hcatalog/server-extensions |
|  |  org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement  At DbNotificationListener.java:[line 779] |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12337/dev-support/hive-personality.sh |
| git revision | master / 1fc1221 |
| Default Java | 1.8.0_111 |
| findbugs | v3.0.0 |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/diff-checkstyle-standalone-metastore.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/diff-checkstyle-ql.txt |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/diff-checkstyle-itests_hive-unit.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/whitespace-eol.txt |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/new-findbugs-ql.html |
| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus/new-findbugs-hcatalog_server-extensions.html |
| modules | C: standalone-metastore ql hcatalog/server-extensions itests/hcatalog-unit itests/hive-unit U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12337/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929970/HIVE-19267.22.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:green}SUCCESS:{color} +1 due to 14652 tests passed

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12337/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12337/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12337/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929970 - PreCommit-HIVE-Build

+1

The below findbug issue related to SQL injection need more investigation as similar issues seen in other methods in TxnHandler.java. Please raise another bug to track this.
|FindBugs|module:hcatalog/server-extensions|
| |org.apache.hive.hcatalog.listener.DbNotificationListener.addWriteNotificationLog(NotificationEvent, AcidWriteEvent, Connection, SQLGenerator, AcidWriteMessage) passes a nonconstant String to an execute or addBatch method on an SQL statement At DbNotificationListener.java:passes a nonconstant String to an execute or addBatch method on an SQL statement At DbNotificationListener.java:[line 779]|

22.patch is committed to master.

Thanks [~maheshk114] for the contribution!



Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929970/HIVE-19267.22.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12359/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12359/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12359/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Tests exited with: Exception: Patch URL https://issues.apache.org/jira/secure/attachment/12929970/HIVE-19267.22.patch was found in seen patch url's cache and a test was probably run already on it. Aborting...
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929970 - PreCommit-HIVE-Build

This breaks mysql script:
{noformat}
Error: (conn=4) Specified key was too long; max key length is 767 bytes (state=42000,code=1071)
Aborting command set because "force" is false and command failed: "CREATE TABLE TXN_WRITE_NOTIFICATION_LOG ( 
WNL_ID bigint NOT NULL, 
WNL_TXNID bigint NOT NULL, 
WNL_WRITEID bigint NOT NULL, 
WNL_DATABASE varchar(128) NOT NULL, 
WNL_TABLE varchar(128) NOT NULL, 
WNL_PARTITION varchar(1024) NOT NULL, 
WNL_TABLE_OBJ longtext NOT NULL, 
WNL_PARTITION_OBJ longtext, 
WNL_FILES longtext, 
WNL_EVENT_TIME INT(11) NOT NULL, 
PRIMARY KEY (WNL_TXNID, WNL_DATABASE, WNL_TABLE, WNL_PARTITION) 
) ENGINE=InnoDB DEFAULT CHARSET=latin1;"
{noformat}

Also it's committed but not resolved. 
cc [~thejas] [~hagleitn] [~sankarh] this needs to be fixed or reverted

[~sershe]

The issue is there for mysql 5.6 and below. Thanks for pointing out. I will upload a updated patch soon.

The commit pushed to master changes wrong upgrade files (upgrade-2.3.0-to-3.0.0.derby.sql and upgrade-3.0.0-to-3.1.0.derby.sql). Hive 3.0.0 is already released and 3.1 branch has been cut off. If this isn't targeted for branch-3 (3.2) then changes should go in upgrade-3.1.0-to-4.0.0.derby.sql (same for all databases) and hive-schema-3.1 etc shouldn't be touched.

Also please run metastore upgrade/installation tests (you can find more on it at standalone-metastore/DEV-README). This should tell you if your changes are breaking up-gradation on installation.

BTW is this targeted for 3.2? If so then there are whole new set of files which need to created and modified.

[~vgarg]

The 2.3.0-to-3.0.0. are modified as there were problems in it and were not following the standards (-- These lines need to be last.  Insert any changes above.) . Upgrade/installation tests was done for mysql but for 5.7 version. The above mentioned issue is coming only for 5.6 and below.

The patch will be committed to branch-3 also

[~maheshk114],

I think, [~vgarg]'s point is, if this patch is targeted to branch-3 (3.2.0), then need to create upgrade-3.1.0-to-3.2.0.xxxx.sql scripts for each RDBMS and move all the changes relevant to this patch from upgrade-3.0.0-to-3.1.0.xxxx.sql. Also, as 3.1.0 is already cut-off, we need to keep these changes in hive-schema-3.2.0.xxxx.sql scripts and remove from hive-schema-3.1.0.xxxx.sql.

[~sankarh] [~vgarg]

then what about the files upgrade-3.1.0-to-4.0.0.mysql.sql ? what should go in those files ?

[~maheshk114],

I think, upgrade path for 3.1.0 to 4.0.0 would be via 3.2.0. So, there won't be any upgrade-3.1.0-to-4.0.0.xxxx.sql files. Instead, need upgrade-3.1.0-to-3.2.0.xxxx.sql, hive-schema-3.2.0.xxxx.sql and  hive-schema-4.0.0.xxxx.sql files. In future, after 3.2.0 is released or if any patch doesn't land in branch-3 but only master, then we can create upgrade-3.2.0-to-4.0.0.xxxx.sql files.

[~vgarg], please share your opinion.

cc [~thejas]

[~sankarh] [~vgarg]

 

Attached the patch with
 # mysql 5.6 fix as reported by Sergey
 # added sql scripts for 3.2.0 to 4.0.0 upgrade
 # metastore init tool fix to init schema to 4.0.0 by default (currently it was initializing to 3.1.0)

 

[https://github.com/apache/hive/pull/394]

GitHub user maheshk114 opened a pull request:

    https://github.com/apache/hive/pull/394

    HIVE-19267 : Replicate ACID/MM tables write operations : fix issue related to sql 5.6 key length limitation

    …

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/maheshk114/hive HIVE-19267

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hive/pull/394.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #394
    
----
commit cdc44822cb7803a9a42e28a4767ece37365b2978
Author: Mahesh Kumar Behera <mbehera@...>
Date:   2018-07-07T09:54:32Z

    HIVE-19267 : Replicate ACID/MM tables write operations : fix issue related to sql 5.6 key length limitation

----


https://github.com/apache/hive/pull/394

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 49s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 20s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m 20s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  7m 13s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 23s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  6m  9s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  6m  9s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch has 6 line(s) that end in whitespace. Use git apply --whitespace=fix <<patch_file>>. Refer https://git-scm.com/docs/git-apply {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red}  0m  1s{color} | {color:red} The patch 59 line(s) with tabs. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green}  0m  1s{color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  7m  5s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 13s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 43m 13s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  xml  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12474/dev-support/hive-personality.sh |
| git revision | master / 406cde9 |
| Default Java | 1.8.0_111 |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12474/yetus/whitespace-eol.txt |
| whitespace | http://104.198.109.242/logs//PreCommit-HIVE-Build-12474/yetus/whitespace-tabs.txt |
| modules | C: standalone-metastore metastore . U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12474/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12930761/HIVE-19267.23.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 14629 tests executed
*Failed tests:*
{noformat}
TestAutoPurgeTables - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestLocationQueries - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
TestSparkStatistics - did not produce a TEST-*.xml file (likely timed out) (batchId=240)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12474/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12474/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12474/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12930761 - PreCommit-HIVE-Build

[~maheshk114]

Could you please create another Jira to fix the scripts issue?

 

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m 13s{color} | {color:red} /data/hiveptest/logs/PreCommit-HIVE-Build-12774/patches/PreCommit-HIVE-Build-12774.patch does not apply to master. Rebase required? Wrong Branch? See http://cwiki.apache.org/confluence/display/Hive/HowToContribute for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12774/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.





Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12932563/HIVE-19267.02-branch-3.patch

{color:green}SUCCESS:{color} +1 due to 4 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 96 failed/errored test(s), 14406 tests executed
*Failed tests:*
{noformat}
TestAddPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestAddPartitionsFromPartSpec - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestAdminUser - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestAggregateStatsCache - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestAlterPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestAppendPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestBeeLineDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)
TestCachedStore - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestCatalogCaching - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestCatalogNonDefaultClient - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestCatalogNonDefaultSvr - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestCatalogOldClient - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestCatalogs - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestCheckConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestDataSourceProviderFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestDatabases - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestDeadline - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestDefaultConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestDropPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=271)
TestEmbeddedHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=229)
TestExchangePartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestFMSketchSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestFilterHooks - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestForeignKey - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestFunctions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestGetPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestGetTableMeta - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestHLLNoBias - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHLLSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHdfsUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestHiveAlterHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestHiveMetaStoreGetMetaConf - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestHiveMetaStorePartitionSpecs - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestHiveMetaStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestHiveMetaStoreTimeout - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHiveMetaStoreTxns - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHiveMetaStoreWithEnvironmentContext - did not produce a TEST-*.xml file (likely timed out) (batchId=231)
TestHiveMetastoreCli - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestHyperLogLog - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHyperLogLogDense - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHyperLogLogMerge - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHyperLogLogSparse - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestJSONMessageDeserializer - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestListPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestLockRequestBuilder - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestMarkPartition - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMarkPartitionRemote - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreConnectionUrlHook - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestMetaStoreEndFunctionListener - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestMetaStoreEventListener - did not produce a TEST-*.xml file (likely timed out) (batchId=232)
TestMetaStoreEventListenerOnlyOnCommit - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreEventListenerWithOldConf - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreInitListener - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreListenersError - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreSchemaFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreSchemaInfo - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetastoreConf - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestMetastoreSchemaTool - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetrics - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)
TestMiniDruidKafkaCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)
TestNotNullConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestObjectStore - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestObjectStoreInitRetry - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestObjectStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestOldSchema - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestPartitionNameWhitelistValidation - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestPrimaryKey - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestRawStoreProxy - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestRemoteHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestRemoteHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=224)
TestRemoteUGIHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
TestRetriesInRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestRuntimeStats - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestSchemaToolForMetastore - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestSetUGIOnBothClientServer - did not produce a TEST-*.xml file (likely timed out) (batchId=227)
TestSetUGIOnOnlyClient - did not produce a TEST-*.xml file (likely timed out) (batchId=225)
TestSetUGIOnOnlyServer - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparseEncodeHash - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestStats - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestStatsSetupConst - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestTableIterable - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestTablesCreateDropAlterTruncate - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestTablesGetExists - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestTablesList - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestTezPerfCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)
TestTxnHandlerNegative - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestTxnUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestUniqueConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[results_cache_with_masking] (batchId=174)
org.apache.hadoop.hive.ql.TestWarehouseExternalDir.testManagedPaths (batchId=248)
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation (batchId=256)
org.apache.hive.spark.client.rpc.TestRpc.testServerPort (batchId=323)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12774/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12774/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12774/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 96 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12932563 - PreCommit-HIVE-Build

[~maheshk114],

02-branch-3.patch have additional changes compared to 22.patch.
 # TOPNKEY in thrift generated files which is added by branch-3 patch.
 # - List<Path> newFiles = Collections.synchronizedList(new ArrayList<Path>());
+ List<Path> newFiles = null;

Please take a look at this.

[~sankarh]
in the last commit the auto gen file was chnaged instead of .thrift file. I have fixed it by adding it to the .thrift file, so these chnages are shown in this patch.

As per the latest code change, newFiles should be set to null. Will check if its required in master branch also.

[~maheshk114], thanks for the explanation!

Test failures are seen in other builds too and irrelevant.

02-branch-3.patch is committed to branch-3.

