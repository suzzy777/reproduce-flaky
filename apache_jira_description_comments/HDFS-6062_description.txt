After adding retry cache metrics check, TestRetryCacheWithHA#testConcat can fail (https://builds.apache.org/job/PreCommit-HDFS-Build/6313//testReport/).

The reason is that the test uses "dfs.exists(targetPath)" to check whether concat has been done in the original active NN. However, since we create the target file in the beginning, the check always returns true. Thus it is possible that the concat is processed in the new active NN for the first time. And in this case the retry cache will not be hit.