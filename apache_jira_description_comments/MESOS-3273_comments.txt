cc [~anandmazumdar] [~bmahler]

In success test cases log, could see the log like this:
{code}
I0817 10:11:16.072263 19122 process.cpp:3043] Handling HTTP event for process 'master' with path: '/master/api/v1/scheduler'
I0817 10:11:16.072767 19122 master.cpp:1782] Received subscription request for HTTP framework 'Event Call Scheduler using libprocess (C++)'
I0817 10:11:16.072880 19122 master.cpp:1563] Authorizing framework principal 'test-principal' to receive offers for role '*'
I0817 10:11:16.073186 19122 master.cpp:1874] Subscribing framework 'Event Call Scheduler using libprocess (C++)' with checkpointing disabled and capabilities [  ]
I0817 10:11:16.073827 19124 hierarchical.hpp:391] Added framework 20150817-101116-162297291-55446-19097-0000
I0817 10:11:16.073846 19118 master.hpp:1308] Sending heartbeat to 20150817-101116-162297291-55446-19097-0000
I0817 10:11:16.073945 19124 hierarchical.hpp:1008] No resources available to allocate!
I0817 10:11:16.073982 19124 hierarchical.hpp:908] Performed allocation for 0 slaves in 122200ns

Received a SUBSCRIBED event
Subscribed with ID '20150817-101116-162297291-55446-19097-0000
{code}

But in this error log, could not find log like this.

While trying to repro this, observed another issue where the test hangs during termination.

{code}
I0817 19:34:33.166100 60834 master.cpp:3998] Received update of slave 20150817-193432-1828659978-51071-60794-S2 at slave(1)@10.35.255.108:51071 (smfd-atr-11-sr1.devel.twitter.com) with total oversubscribed resources 
I0817 19:34:33.166316 60834 hierarchical.hpp:600] Slave 20150817-193432-1828659978-51071-60794-S2 (smfd-atr-11-sr1.devel.twitter.com) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000], allocated: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000])

Received an UPDATE event
Task 4 is in state TASK_FINISHED
I0817 19:34:33.167793 60816 master.cpp:860] Master terminating
I0817 19:34:33.168092 60836 hierarchical.hpp:571] Removed slave 20150817-193432-1828659978-51071-60794-S2
I0817 19:34:33.168654 60816 master.cpp:5673] Removing executor 'default' with resources  of framework 20150817-193432-1828659978-51071-60794-0000 on slave 20150817-193432-1828659978-51071-60794-S1 at slave(2)@10.35.255.108:51071 (smfd-atr-11-sr1.devel.twitter.com)
I0817 19:34:33.168725 60819 hierarchical.hpp:571] Removed slave 20150817-193432-1828659978-51071-60794-S1
I0817 19:34:33.169075 60816 master.cpp:5644] Removing task 4 with resources cpus(*):1; mem(*):128 of framework 20150817-193432-1828659978-51071-60794-0000 on slave 20150817-193432-1828659978-51071-60794-S0 at slave(3)@10.35.255.108:51071 (smfd-atr-11-sr1.devel.twitter.com)
I0817 19:34:33.169153 60818 hierarchical.hpp:571] Removed slave 20150817-193432-1828659978-51071-60794-S0
I0817 19:34:33.169255 60816 master.cpp:5673] Removing executor 'default' with resources  of framework 20150817-193432-1828659978-51071-60794-0000 on slave 20150817-193432-1828659978-51071-60794-S0 at slave(3)@10.35.255.108:51071 (smfd-atr-11-sr1.devel.twitter.com)
I0817 19:34:33.170186 60818 hierarchical.hpp:428] Removed framework 20150817-193432-1828659978-51071-60794-0000
I0817 19:34:33.170919 60827 slave.cpp:3143] master@10.35.255.108:51071 exited
I0817 19:34:33.170903 60817 slave.cpp:3143] master@10.35.255.108:51071 exited
W0817 19:34:33.170959 60827 slave.cpp:3146] Master disconnected! Waiting for a new master to be elected
W0817 19:34:33.170976 60817 slave.cpp:3146] Master disconnected! Waiting for a new master to be elected
I0817 19:34:33.171083 60821 slave.cpp:3143] master@10.35.255.108:51071 exited
W0817 19:34:33.171169 60821 slave.cpp:3146] Master disconnected! Waiting for a new master to be elected
I0817 19:34:33.172170 60817 slave.cpp:564] Slave terminating
I0817 19:34:33.174253 60794 slave.cpp:564] Slave terminating
I0817 19:34:33.174424 60794 slave.cpp:1959] Asked to shut down framework 20150817-193432-1828659978-51071-60794-0000 by @0.0.0.0:0
I0817 19:34:33.174473 60794 slave.cpp:1984] Shutting down framework 20150817-193432-1828659978-51071-60794-0000
I0817 19:34:33.174665 60794 slave.cpp:3710] Shutting down executor 'default' of framework 20150817-193432-1828659978-51071-60794-0000
I0817 19:34:33.175500 60926 exec.cpp:380] Executor asked to shutdown
I0817 19:34:33.176652 60794 slave.cpp:564] Slave terminating
I0817 19:34:33.176762 60794 slave.cpp:1959] Asked to shut down framework 20150817-193432-1828659978-51071-60794-0000 by @0.0.0.0:0
I0817 19:34:33.176909 60794 slave.cpp:1984] Shutting down framework 20150817-193432-1828659978-51071-60794-0000
I0817 19:34:33.176954 60794 slave.cpp:3710] Shutting down executor 'default' of framework 20150817-193432-1828659978-51071-60794-0000
I0817 19:34:33.177781 60879 exec.cpp:380] Executor asked to shutdown
I0817 19:34:33.178567 60822 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 13.870729ms
I0817 19:34:33.178649 60822 replica.cpp:679] Persisted action at 8
I0817 19:34:33.179919 60815 replica.cpp:658] Replica received learned notice for position 8
I0817 19:34:33.195266 60815 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 15.299248ms
I0817 19:34:33.195405 60815 leveldb.cpp:401] Deleting ~2 keys from leveldb took 29964ns
I0817 19:34:33.195428 60815 replica.cpp:679] Persisted action at 8
I0817 19:34:33.195456 60815 replica.cpp:664] Replica learned TRUNCATE action at position 8
{code} 

gdb stack trace points to what looks like a deadlock
{code}
#0  0x00007fd5df472019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fd5e332293c in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007fd5e248f3cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007fd5e3191d35 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007fd5e3181e95 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007fd5e3185fc3 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007fd5e313cea2 in await () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007fd5e279b8d2 in await () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007fd5e28786d5 in ~MesosProcess () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007fd5e28787de in ~MesosProcess () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#10 0x00007fd5e2876dd7 in ~Mesos () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#11 0x000000000043662a in ~EventCallScheduler ()
#12 0x00000000004366b6 in ~EventCallScheduler ()
#13 0x000000000042e466 in main ()
{code}

This a trace from a different test iteration that exhibits the original behavior described in the ticket description (i.e., scheduler doesn't send a SUBSCRIBE).

{code}
[----------] Global test environment set-up.
[----------] 1 test from ExamplesTest
[ RUN      ] ExamplesTest.EventCallFramework
Using temporary directory '/tmp/ExamplesTest_EventCallFramework_gBzJlY'
I0817 20:02:48.125079 47640 scheduler.cpp:157] Version: 0.24.0
I0817 20:02:48.293411 47640 leveldb.cpp:176] Opened db in 161.409796ms
I0817 20:02:48.309515 47640 leveldb.cpp:183] Compacted db in 16.0622ms
I0817 20:02:48.309605 47640 leveldb.cpp:198] Created db iterator in 42741ns
I0817 20:02:48.309634 47640 leveldb.cpp:204] Seeked to beginning of db in 2868ns
I0817 20:02:48.309650 47640 leveldb.cpp:273] Iterated through 0 keys in the db in 260ns
I0817 20:02:48.309815 47640 replica.cpp:744] Replica recovered with log positions 0 -> 0 with 1 holes and 0 unlearned
I0817 20:02:48.311734 47640 local.cpp:241] Using 'local' authorizer
I0817 20:02:48.311909 47663 recover.cpp:449] Starting replica recovery
I0817 20:02:48.312535 47663 recover.cpp:475] Replica is in EMPTY status
I0817 20:02:48.313920 47679 master.cpp:378] Master 20150817-200248-1828659978-42709-47640 (smfd-atr-11-sr1.devel.twitter.com) started on 10.35.255.108:42709
I0817 20:02:48.313949 47679 master.cpp:380] Flags at startup: --acls="permissive: false
register_frameworks {
  principals {
    type: SOME
    values: "test-principal"
  }
  roles {
    type: SOME
    values: "*"
  }
}
run_tasks {
  principals {
    type: SOME
    values: "test-principal"
  }
  users {
    type: SOME
    values: "root"
  }
}
" --allocation_interval="1secs" --allocator="HierarchicalDRF" --authenticate="false" --authenticate_slaves="false" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/ExamplesTest_EventCallFramework_gBzJlY/credentials" --framework_sorter="drf" --help="false" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_slave_ping_timeouts="5" --quiet="false" --recovery_slave_removal_limit="100%" --registry="replicated_log" --registry_fetch_timeout="1mins" --registry_store_timeout="5secs" --registry_strict="false" --root_submissions="true" --slave_ping_timeout="15secs" --slave_reregister_timeout="10mins" --user_sorter="drf" --version="false" --webui_dir="/home/vinod/mesos/src/webui" --work_dir="/tmp/mesos-j47645" --zk_session_timeout="10secs"
I0817 20:02:48.314568 47679 master.cpp:427] Master allowing unauthenticated frameworks to register
I0817 20:02:48.314579 47679 master.cpp:432] Master allowing unauthenticated slaves to register
I0817 20:02:48.314589 47679 credentials.hpp:37] Loading credentials for authentication from '/tmp/ExamplesTest_EventCallFramework_gBzJlY/credentials'
W0817 20:02:48.314798 47679 credentials.hpp:52] Permissions on credentials file '/tmp/ExamplesTest_EventCallFramework_gBzJlY/credentials' are too open. It is recommended that your credentials file is NOT accessible by others.
I0817 20:02:48.314983 47679 master.cpp:469] Using default 'crammd5' authenticator
I0817 20:02:48.315184 47679 authenticator.cpp:512] Initializing server SASL
I0817 20:02:48.315634 47675 replica.cpp:641] Replica in EMPTY status received a broadcasted recover request
I0817 20:02:48.316375 47666 recover.cpp:195] Received a recover response from a replica in EMPTY status
I0817 20:02:48.317276 47670 recover.cpp:566] Updating replica status to STARTING
I0817 20:02:48.318356 47640 containerizer.cpp:143] Using isolation: posix/cpu,posix/mem,filesystem/posix
I0817 20:02:48.318434 47679 master.cpp:506] Authorization enabled
I0817 20:02:48.323303 47676 slave.cpp:190] Slave started on 1)@10.35.255.108:42709
I0817 20:02:48.323328 47676 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher_dir="/home/vinod/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-j47645/0"
I0817 20:02:48.324440 47640 containerizer.cpp:143] Using isolation: posix/cpu,posix/mem,filesystem/posix
I0817 20:02:48.324724 47676 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:48.325157 47660 master.cpp:1525] The newly elected leader is master@10.35.255.108:42709 with id 20150817-200248-1828659978-42709-47640
I0817 20:02:48.325199 47660 master.cpp:1538] Elected as the leading master!
I0817 20:02:48.325233 47660 master.cpp:1308] Recovering from registrar
I0817 20:02:48.325237 47676 slave.cpp:384] Slave hostname: smfd-atr-11-sr1.devel.twitter.com
I0817 20:02:48.325253 47676 slave.cpp:389] Slave checkpoint: true
I0817 20:02:48.325675 47672 registrar.cpp:311] Recovering registrar
I0817 20:02:48.327256 47666 state.cpp:54] Recovering state from '/tmp/mesos-j47645/0/meta'
I0817 20:02:48.327527 47678 slave.cpp:190] Slave started on 2)@10.35.255.108:42709
I0817 20:02:48.327947 47675 status_update_manager.cpp:202] Recovering status update manager
I0817 20:02:48.327563 47678 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher_dir="/home/vinod/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-j47645/1"
I0817 20:02:48.328207 47665 containerizer.cpp:379] Recovering containerizer
I0817 20:02:48.329272 47640 containerizer.cpp:143] Using isolation: posix/cpu,posix/mem,filesystem/posix
I0817 20:02:48.329290 47678 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:48.330018 47678 slave.cpp:384] Slave hostname: smfd-atr-11-sr1.devel.twitter.com
I0817 20:02:48.330111 47678 slave.cpp:389] Slave checkpoint: true
I0817 20:02:48.330608 47679 slave.cpp:4069] Finished recovery
I0817 20:02:48.330890 47663 state.cpp:54] Recovering state from '/tmp/mesos-j47645/1/meta'
I0817 20:02:48.331096 47679 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:02:48.331662 47681 status_update_manager.cpp:202] Recovering status update manager
I0817 20:02:48.332301 47661 status_update_manager.cpp:176] Pausing sending status updates
I0817 20:02:48.332352 47679 slave.cpp:684] New master detected at master@10.35.255.108:42709
I0817 20:02:48.332490 47661 containerizer.cpp:379] Recovering containerizer
I0817 20:02:48.332494 47679 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0817 20:02:48.332664 47679 slave.cpp:720] Detecting new master
I0817 20:02:48.332753 47679 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:02:48.333678 47667 slave.cpp:4069] Finished recovery
I0817 20:02:48.333927 47675 slave.cpp:190] Slave started on 3)@10.35.255.108:42709
I0817 20:02:48.334120 47667 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:02:48.333952 47675 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher_dir="/home/vinod/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-j47645/2"
I0817 20:02:48.334230 47674 status_update_manager.cpp:176] Pausing sending status updates
I0817 20:02:48.334245 47667 slave.cpp:684] New master detected at master@10.35.255.108:42709
I0817 20:02:48.334306 47667 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0817 20:02:48.334341 47667 slave.cpp:720] Detecting new master
I0817 20:02:48.334477 47667 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:02:48.335167 47675 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:48.335438 47675 slave.cpp:384] Slave hostname: smfd-atr-11-sr1.devel.twitter.com
I0817 20:02:48.335465 47675 slave.cpp:389] Slave checkpoint: true
I0817 20:02:48.336022 47683 state.cpp:54] Recovering state from '/tmp/mesos-j47645/2/meta'
I0817 20:02:48.336626 47664 status_update_manager.cpp:202] Recovering status update manager
I0817 20:02:48.336841 47675 containerizer.cpp:379] Recovering containerizer
I0817 20:02:48.339213 47683 slave.cpp:4069] Finished recovery
I0817 20:02:48.339499 47683 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:02:48.339637 47683 slave.cpp:684] New master detected at master@10.35.255.108:42709
I0817 20:02:48.339679 47668 status_update_manager.cpp:176] Pausing sending status updates
I0817 20:02:48.339895 47683 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0817 20:02:48.339956 47683 slave.cpp:720] Detecting new master
I0817 20:02:48.340039 47683 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:02:48.360288 47669 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 42.533881ms
I0817 20:02:48.360333 47669 replica.cpp:323] Persisted replica status to STARTING
I0817 20:02:48.360765 47681 recover.cpp:475] Replica is in STARTING status
I0817 20:02:48.361826 47662 replica.cpp:641] Replica in STARTING status received a broadcasted recover request
I0817 20:02:48.362196 47663 recover.cpp:195] Received a recover response from a replica in STARTING status
I0817 20:02:48.363127 47669 recover.cpp:566] Updating replica status to VOTING
I0817 20:02:48.383821 47671 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 20.318768ms
I0817 20:02:48.383874 47671 replica.cpp:323] Persisted replica status to VOTING
I0817 20:02:48.384012 47678 recover.cpp:580] Successfully joined the Paxos group
I0817 20:02:48.384207 47678 recover.cpp:464] Recover process terminated
I0817 20:02:48.385124 47660 log.cpp:661] Attempting to start the writer
I0817 20:02:48.388417 47680 replica.cpp:477] Replica received implicit promise request with proposal 1
I0817 20:02:48.400475 47680 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 11.851747ms
I0817 20:02:48.400529 47680 replica.cpp:345] Persisted promised to 1
I0817 20:02:48.402153 47679 coordinator.cpp:231] Coordinator attemping to fill missing position
I0817 20:02:48.404059 47682 replica.cpp:378] Replica received explicit promise request for position 0 with proposal 2
I0817 20:02:48.417143 47682 leveldb.cpp:343] Persisting action (8 bytes) to leveldb took 12.966672ms
I0817 20:02:48.417201 47682 replica.cpp:679] Persisted action at 0
I0817 20:02:48.419968 47660 replica.cpp:511] Replica received write request for position 0
I0817 20:02:48.420074 47660 leveldb.cpp:438] Reading position from leveldb took 45361ns
I0817 20:02:48.433841 47660 leveldb.cpp:343] Persisting action (14 bytes) to leveldb took 13.683629ms
I0817 20:02:48.433897 47660 replica.cpp:679] Persisted action at 0
I0817 20:02:48.434636 47673 replica.cpp:658] Replica received learned notice for position 0
I0817 20:02:48.450491 47673 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 15.764663ms
I0817 20:02:48.450546 47673 replica.cpp:679] Persisted action at 0
I0817 20:02:48.450582 47673 replica.cpp:664] Replica learned NOP action at position 0
I0817 20:02:48.451218 47671 log.cpp:677] Writer started with ending position 0
I0817 20:02:48.453227 47673 leveldb.cpp:438] Reading position from leveldb took 24061ns
I0817 20:02:48.456646 47672 registrar.cpp:344] Successfully fetched the registry (0B) in 130.881024ms
I0817 20:02:48.456894 47672 registrar.cpp:443] Applied 1 operations in 63990ns; attempting to update the 'registry'
I0817 20:02:48.459537 47671 log.cpp:685] Attempting to append 222 bytes to the log
I0817 20:02:48.459833 47670 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 1
I0817 20:02:48.460832 47668 replica.cpp:511] Replica received write request for position 1
I0817 20:02:48.467144 47668 leveldb.cpp:343] Persisting action (241 bytes) to leveldb took 6.256469ms
I0817 20:02:48.467197 47668 replica.cpp:679] Persisted action at 1
I0817 20:02:48.467941 47675 replica.cpp:658] Replica received learned notice for position 1
I0817 20:02:48.483801 47675 leveldb.cpp:343] Persisting action (243 bytes) to leveldb took 15.803693ms
I0817 20:02:48.483855 47675 replica.cpp:679] Persisted action at 1
I0817 20:02:48.483889 47675 replica.cpp:664] Replica learned APPEND action at position 1
I0817 20:02:48.485134 47673 registrar.cpp:488] Successfully updated the 'registry' in 28.034816ms
I0817 20:02:48.485250 47673 registrar.cpp:374] Successfully recovered registrar
I0817 20:02:48.485545 47670 log.cpp:704] Attempting to truncate the log to 1
I0817 20:02:48.485623 47672 master.cpp:1335] Recovered 0 slaves from the Registry (183B) ; allowing 10mins for slaves to re-register
I0817 20:02:48.485821 47668 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 2
I0817 20:02:48.487413 47665 replica.cpp:511] Replica received write request for position 2
I0817 20:02:48.500469 47665 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 13.01462ms
I0817 20:02:48.500524 47665 replica.cpp:679] Persisted action at 2
I0817 20:02:48.501330 47671 replica.cpp:658] Replica received learned notice for position 2
I0817 20:02:48.517112 47671 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 15.740951ms
I0817 20:02:48.517194 47671 leveldb.cpp:401] Deleting ~1 keys from leveldb took 30019ns
I0817 20:02:48.517230 47671 replica.cpp:679] Persisted action at 2
I0817 20:02:48.517256 47671 replica.cpp:664] Replica learned TRUNCATE action at position 2
I0817 20:02:49.173807 47678 master.cpp:3636] Registering slave at slave(1)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with id 20150817-200248-1828659978-42709-47640-S0
I0817 20:02:49.174512 47680 registrar.cpp:443] Applied 1 operations in 125454ns; attempting to update the 'registry'
I0817 20:02:49.176681 47661 log.cpp:685] Attempting to append 414 bytes to the log
I0817 20:02:49.176913 47683 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 3
I0817 20:02:49.177523 47671 replica.cpp:511] Replica received write request for position 3
I0817 20:02:49.191833 47671 leveldb.cpp:343] Persisting action (433 bytes) to leveldb took 14.254809ms
I0817 20:02:49.191963 47671 replica.cpp:679] Persisted action at 3
I0817 20:02:49.192550 47662 replica.cpp:658] Replica received learned notice for position 3
I0817 20:02:49.246731 47667 master.cpp:3636] Registering slave at slave(2)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with id 20150817-200248-1828659978-42709-47640-S1
I0817 20:02:49.252267 47662 leveldb.cpp:343] Persisting action (435 bytes) to leveldb took 59.678071ms
I0817 20:02:49.252331 47662 replica.cpp:679] Persisted action at 3
I0817 20:02:49.252388 47662 replica.cpp:664] Replica learned APPEND action at position 3
I0817 20:02:49.253367 47673 registrar.cpp:488] Successfully updated the 'registry' in 78.771968ms
I0817 20:02:49.253464 47674 log.cpp:704] Attempting to truncate the log to 3
I0817 20:02:49.253656 47673 registrar.cpp:443] Applied 1 operations in 48078ns; attempting to update the 'registry'
I0817 20:02:49.253751 47663 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 4
I0817 20:02:49.254513 47681 replica.cpp:511] Replica received write request for position 4
I0817 20:02:49.254786 47672 master.cpp:3699] Registered slave 20150817-200248-1828659978-42709-47640-S0 at slave(1)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:49.254858 47666 slave.cpp:859] Registered with master master@10.35.255.108:42709; given slave ID 20150817-200248-1828659978-42709-47640-S0
I0817 20:02:49.254964 47675 status_update_manager.cpp:183] Resuming sending status updates
I0817 20:02:49.254967 47676 hierarchical.hpp:540] Added slave 20150817-200248-1828659978-42709-47640-S0 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000] (allocated: )
I0817 20:02:49.255440 47666 slave.cpp:918] Forwarding total oversubscribed resources 
I0817 20:02:49.255653 47671 master.cpp:3998] Received update of slave 20150817-200248-1828659978-42709-47640-S0 at slave(1)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with total oversubscribed resources 
I0817 20:02:49.256055 47679 hierarchical.hpp:600] Slave 20150817-200248-1828659978-42709-47640-S0 (smfd-atr-11-sr1.devel.twitter.com) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000], allocated: )
I0817 20:02:49.275104 47681 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 20.550499ms
I0817 20:02:49.275147 47681 replica.cpp:679] Persisted action at 4
I0817 20:02:49.275604 47678 replica.cpp:658] Replica received learned notice for position 4
I0817 20:02:49.283427 47678 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 7.716267ms
I0817 20:02:49.283520 47678 leveldb.cpp:401] Deleting ~2 keys from leveldb took 42739ns
I0817 20:02:49.283556 47678 replica.cpp:679] Persisted action at 4
I0817 20:02:49.283581 47678 replica.cpp:664] Replica learned TRUNCATE action at position 4
I0817 20:02:49.284128 47667 log.cpp:685] Attempting to append 603 bytes to the log
I0817 20:02:49.284245 47672 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 5
I0817 20:02:49.285405 47668 replica.cpp:511] Replica received write request for position 5
I0817 20:02:49.291725 47668 leveldb.cpp:343] Persisting action (622 bytes) to leveldb took 6.209225ms
I0817 20:02:49.291779 47668 replica.cpp:679] Persisted action at 5
I0817 20:02:49.292834 47674 replica.cpp:658] Replica received learned notice for position 5
I0817 20:02:49.300074 47674 leveldb.cpp:343] Persisting action (624 bytes) to leveldb took 6.970544ms
I0817 20:02:49.300128 47674 replica.cpp:679] Persisted action at 5
I0817 20:02:49.300163 47674 replica.cpp:664] Replica learned APPEND action at position 5
I0817 20:02:49.301210 47679 registrar.cpp:488] Successfully updated the 'registry' in 47.348992ms
I0817 20:02:49.301401 47680 log.cpp:704] Attempting to truncate the log to 5
I0817 20:02:49.301522 47662 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 6
I0817 20:02:49.302501 47679 hierarchical.hpp:540] Added slave 20150817-200248-1828659978-42709-47640-S1 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000] (allocated: )
I0817 20:02:49.303279 47680 master.cpp:3699] Registered slave 20150817-200248-1828659978-42709-47640-S1 at slave(2)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:49.303372 47669 slave.cpp:859] Registered with master master@10.35.255.108:42709; given slave ID 20150817-200248-1828659978-42709-47640-S1
I0817 20:02:49.304107 47663 replica.cpp:511] Replica received write request for position 6
I0817 20:02:49.304772 47670 status_update_manager.cpp:183] Resuming sending status updates
I0817 20:02:49.305186 47669 slave.cpp:918] Forwarding total oversubscribed resources 
I0817 20:02:49.305856 47664 master.cpp:3998] Received update of slave 20150817-200248-1828659978-42709-47640-S1 at slave(2)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with total oversubscribed resources 
I0817 20:02:49.306066 47664 hierarchical.hpp:600] Slave 20150817-200248-1828659978-42709-47640-S1 (smfd-atr-11-sr1.devel.twitter.com) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000], allocated: )
I0817 20:02:49.308388 47663 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 4.206195ms
I0817 20:02:49.308477 47663 replica.cpp:679] Persisted action at 6
I0817 20:02:49.309033 47675 replica.cpp:658] Replica received learned notice for position 6
I0817 20:02:49.316745 47675 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 7.632635ms
I0817 20:02:49.316856 47675 leveldb.cpp:401] Deleting ~2 keys from leveldb took 24749ns
I0817 20:02:49.316881 47675 replica.cpp:679] Persisted action at 6
I0817 20:02:49.316910 47675 replica.cpp:664] Replica learned TRUNCATE action at position 6
I0817 20:02:49.658769 47669 master.cpp:3636] Registering slave at slave(3)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with id 20150817-200248-1828659978-42709-47640-S2
I0817 20:02:49.659023 47669 registrar.cpp:443] Applied 1 operations in 46214ns; attempting to update the 'registry'
I0817 20:02:49.661167 47668 log.cpp:685] Attempting to append 792 bytes to the log
I0817 20:02:49.661257 47683 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 7
I0817 20:02:49.661996 47675 replica.cpp:511] Replica received write request for position 7
I0817 20:02:49.711314 47675 leveldb.cpp:343] Persisting action (811 bytes) to leveldb took 49.262687ms
I0817 20:02:49.711436 47675 replica.cpp:679] Persisted action at 7
I0817 20:02:49.712038 47668 replica.cpp:658] Replica received learned notice for position 7
I0817 20:02:49.726662 47668 leveldb.cpp:343] Persisting action (813 bytes) to leveldb took 14.585693ms
I0817 20:02:49.726719 47668 replica.cpp:679] Persisted action at 7
I0817 20:02:49.726749 47668 replica.cpp:664] Replica learned APPEND action at position 7
I0817 20:02:49.727843 47662 registrar.cpp:488] Successfully updated the 'registry' in 68.766976ms
I0817 20:02:49.728132 47674 log.cpp:704] Attempting to truncate the log to 7
I0817 20:02:49.728226 47681 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 8
I0817 20:02:49.728842 47683 replica.cpp:511] Replica received write request for position 8
I0817 20:02:49.729096 47668 master.cpp:3699] Registered slave 20150817-200248-1828659978-42709-47640-S2 at slave(3)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000]
I0817 20:02:49.729140 47665 slave.cpp:859] Registered with master master@10.35.255.108:42709; given slave ID 20150817-200248-1828659978-42709-47640-S2
I0817 20:02:49.729167 47677 hierarchical.hpp:540] Added slave 20150817-200248-1828659978-42709-47640-S2 (smfd-atr-11-sr1.devel.twitter.com) with cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000] (allocated: )
I0817 20:02:49.729280 47678 status_update_manager.cpp:183] Resuming sending status updates
I0817 20:02:49.729676 47665 slave.cpp:918] Forwarding total oversubscribed resources 
I0817 20:02:49.729795 47665 master.cpp:3998] Received update of slave 20150817-200248-1828659978-42709-47640-S2 at slave(3)@10.35.255.108:42709 (smfd-atr-11-sr1.devel.twitter.com) with total oversubscribed resources 
I0817 20:02:49.729964 47665 hierarchical.hpp:600] Slave 20150817-200248-1828659978-42709-47640-S2 (smfd-atr-11-sr1.devel.twitter.com) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):454767; ports(*):[31000-32000], allocated: )
I0817 20:02:49.735064 47683 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 6.121562ms
I0817 20:02:49.735158 47683 replica.cpp:679] Persisted action at 8
I0817 20:02:49.735734 47674 replica.cpp:658] Replica received learned notice for position 8
I0817 20:02:49.743316 47674 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 7.534185ms
I0817 20:02:49.743456 47674 leveldb.cpp:401] Deleting ~2 keys from leveldb took 33479ns
I0817 20:02:49.743526 47674 replica.cpp:679] Persisted action at 8
I0817 20:02:49.743552 47674 replica.cpp:664] Replica learned TRUNCATE action at position 8
I0817 20:03:03.334023 47661 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:03.334218 47661 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:03.335172 47661 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:03.335335 47671 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:03.340662 47680 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:03.340916 47682 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:18.334976 47661 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:18.335180 47662 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:18.336093 47678 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:18.336227 47678 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:18.341423 47674 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:18.341577 47678 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:33.335932 47672 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:33.336107 47672 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:33.337129 47672 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:33.337298 47672 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:33.342428 47677 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:33.342593 47679 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:48.326757 47668 slave.cpp:3885] Current disk usage 33.82%. Max allowed age: 3.932503913473657days
I0817 20:03:48.330942 47663 slave.cpp:3885] Current disk usage 33.82%. Max allowed age: 3.932503913473657days
I0817 20:03:48.336185 47663 slave.cpp:3885] Current disk usage 33.82%. Max allowed age: 3.932503913473657days
I0817 20:03:48.337045 47674 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:48.337184 47660 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:48.338268 47664 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:48.338408 47664 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:03:48.343598 47674 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:03:48.343809 47663 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:03.338038 47662 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:03.338868 47676 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:03.339164 47670 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:03.339326 47671 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:03.344446 47683 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:03.344578 47680 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:18.339581 47666 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:18.339673 47681 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:18.339892 47681 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:18.339929 47666 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:18.345873 47664 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:18.345998 47676 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:33.340752 47667 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:33.340807 47676 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:33.340912 47669 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:33.341440 47667 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0817 20:04:33.346962 47683 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0817 20:04:33.347102 47683 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
{code}

gdb trace. 
{code}
(gdb) bt

#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f88e49 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5f8cf77 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00000000004321c3 in wait ()
#7  0x000000000042e448 in main ()



(gdb) thread apply all bt

Thread 27 (Thread 0x7f389d919940 (LWP 47660)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 26 (Thread 0x7f389d118940 (LWP 47661)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 25 (Thread 0x7f389c917940 (LWP 47662)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 24 (Thread 0x7f389c116940 (LWP 47663)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 23 (Thread 0x7f389b915940 (LWP 47664)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 22 (Thread 0x7f389b114940 (LWP 47665)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
---Type <return> to continue, or q <return> to quit---
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 21 (Thread 0x7f389a913940 (LWP 47666)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 20 (Thread 0x7f389a112940 (LWP 47667)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 19 (Thread 0x7f3899911940 (LWP 47668)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 18 (Thread 0x7f3899110940 (LWP 47669)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 17 (Thread 0x7f389890f940 (LWP 47670)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
---Type <return> to continue, or q <return> to quit---
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 16 (Thread 0x7f389810e940 (LWP 47671)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 15 (Thread 0x7f389790d940 (LWP 47672)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 14 (Thread 0x7f389710c940 (LWP 47673)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 13 (Thread 0x7f389690b940 (LWP 47674)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 12 (Thread 0x7f389610a940 (LWP 47675)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
---Type <return> to continue, or q <return> to quit---
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 11 (Thread 0x7f3895909940 (LWP 47676)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 10 (Thread 0x7f3895108940 (LWP 47677)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 9 (Thread 0x7f3894907940 (LWP 47678)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 8 (Thread 0x7f3894106940 (LWP 47679)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 7 (Thread 0x7f3893905940 (LWP 47680)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
---Type <return> to continue, or q <return> to quit---
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 6 (Thread 0x7f3893104940 (LWP 47681)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 5 (Thread 0x7f3892903940 (LWP 47682)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 4 (Thread 0x7f3892102940 (LWP 47683)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 3 (Thread 0x7f3891901940 (LWP 47684)):
#0  0x00007f38a1cea3b8 in epoll_wait () from /lib64/libc.so.6
#1  0x00007f38a6026735 in epoll_poll (loop=0x7f38a758a300, timeout=<value optimized out>) at ev_epoll.c:153
#2  0x00007f38a60288c7 in ev_run (loop=0x7f38a758a300, flags=Unhandled dwarf expression opcode 0xf3
) at ev.c:3360
#3  0x00007f38a5fed7f4 in ev_loop () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5fede08 in run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 2 (Thread 0x7f3890cf0940 (LWP 47685)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a605bf3c in BGThread () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a605bcc4 in BGThreadWrapper () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#4  0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6

Thread 1 (Thread 0x7f38a7785780 (LWP 47640)):
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f88e49 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5f8cf77 in wait () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
---Type <return> to continue, or q <return> to quit---
#6  0x00000000004321c3 in wait ()
#7  0x000000000042e448 in main ()

{code}

Review for the first problem:

https://reviews.apache.org/r/37559/

commit c532490bfcb4470d0614640031ff854af8876ef6
Author: Vinod Kone <vinodkone@gmail.com>
Date:   Mon Aug 17 15:45:51 2015 -0700

    Fixed mutex deadlock issue in ~scheduler::Mesos().
    
    Review: https://reviews.apache.org/r/37559


Neither me nor benh were able to repro this tonight after running 1K iterations each. Seems like a very rare deadlock.

I'm removing this as a blocker for 0.24.0 release but will keep the ticket open.

I use clang/g++ test in Ubuntu 14.04 (--gtest_repeat=1000), also could not reproduce the error in jenkins. Is it possible fixed after https://reviews.apache.org/r/37089 ? From the log, scheduler has already detected the master. No sure what reason make it not pass next step to send SUBSCRIBE call.
{code}
I0813 19:55:17.208312 26134 scheduler.cpp:272] New master detected at master@172.17.2.10:60249
{code}

Form the gdb thread dump, seems could not get any useful message, 24 threads have same stack.
{code}
#0  0x00007f38a2279019 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007f38a61298ec in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#2  0x00007f38a52963cc in synchronized_wait<std::condition_variable, std::mutex> () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#3  0x00007f38a5f98ce9 in arrive () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#4  0x00007f38a5f7c0e0 in schedule () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#5  0x00007f38a5fdbf3b in _M_invoke<>(void) () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#6  0x00007f38a5fdbe8b in operator() () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#7  0x00007f38a5fdbe24 in _M_run () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#8  0x00007f38a612a3c0 in execute_native_thread_routine () from /home/vinod/mesos/build/src/.libs/libmesos-0.24.0.so
#9  0x00007f38a227483d in start_thread () from /lib64/libpthread.so.0
#10 0x00007f38a1ce9fcd in clone () from /lib64/libc.so.6
{code}

Check out to the branch before that patch also could not reproduce the problem. LoL

Thanks for the investigation and vigorous attempt at reproducing.
Agree on keeping it open until we are sure the flakiness has gone away.

I've removed from the {{HTTP API}} Epic, but adding appropriate labels so we don't lose track of this.
Also moved to In Progress state, as you seem to have done a rather sizeable amount of work on it already :)

Adding the {{1.0.0}} target version, so we don't forget to double check before releasing, that this is truly solved.

This is still happening :(

https://builds.apache.org/job/Mesos/COMPILER=clang,CONFIGURATION=--verbose%20--enable-libevent%20--enable-ssl,OS=ubuntu:14.04,label_exp=docker%7C%7CHadoop/762/consoleFull

{code}
[ RUN      ] ExamplesTest.EventCallFramework
II0902 00:30:52.212740 28492 exec.cpp:443] Ignoring exited event because the driver is aborted!
I0902 00:30:52.212781 28534 exec.cpp:443] Ignoring exited event because the driver is aborted!
0902 00:30:52.212716 28513 exec.cpp:443] Ignoring exited event because the driver is aborted!
I0902 00:30:52.212926 28551 exec.cpp:443] Ignoring exited event because the driver is aborted!
Using temporary directory '/tmp/ExamplesTest_EventCallFramework_JN7PJN'
I0902 00:30:52.213004 28576 exec.cpp:443] Ignoring exited event because the driver is aborted!
Shutting down
Sending SIGTERM to process tree at pid 28560
Killing the following process trees:
[ 

]
Shutting down
Sending SIGTERM to process tree at pid 28561
Killing the following process trees:
[ 

]
Shutting down
Sending SIGTERM to process tree at pid 28562
Shutting down
Sending SIGTERM to process tree at pid 28580
Killing the following process trees:
[ 

]
Killing the following process trees:
[ 

]
Shutting down
Sending SIGTERM to process tree at pid 28581
Killing the following process trees:
[ 

]
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0902 00:30:53.636021 28582 process.cpp:1012] libprocess is initialized on 172.17.3.73:36681 for 16 cpus
I0902 00:30:53.636329 28582 logging.cpp:177] Logging to STDERR
I0902 00:30:53.637977 28582 scheduler.cpp:157] Version: 0.25.0
I0902 00:30:53.653961 28582 leveldb.cpp:176] Opened db in 4.138502ms
I0902 00:30:53.655617 28582 leveldb.cpp:183] Compacted db in 1.629758ms
I0902 00:30:53.655752 28582 leveldb.cpp:198] Created db iterator in 80178ns
I0902 00:30:53.655781 28582 leveldb.cpp:204] Seeked to beginning of db in 10727ns
I0902 00:30:53.655792 28582 leveldb.cpp:273] Iterated through 0 keys in the db in 6510ns
I0902 00:30:53.655972 28582 replica.cpp:744] Replica recovered with log positions 0 -> 0 with 1 holes and 0 unlearned
I0902 00:30:53.658758 28612 recover.cpp:449] Starting replica recovery
I0902 00:30:53.659834 28612 recover.cpp:475] Replica is in EMPTY status
I0902 00:30:53.660012 28582 local.cpp:241] Using 'local' authorizer
I0902 00:30:53.662570 28605 replica.cpp:641] Replica in EMPTY status received a broadcasted recover request
I0902 00:30:53.663496 28611 master.cpp:378] Master 20150902-003053-1224937900-36681-28582 (441f06bc837a) started on 172.17.3.73:36681
I0902 00:30:53.663532 28611 master.cpp:380] Flags at startup: --acls="permissive: false
register_frameworks {
  principals {
    type: SOME
    values: "test-principal"
  }
  roles {
    type: SOME
    values: "*"
  }
}
run_tasks {
  principals {
    type: SOME
    values: "test-principal"
  }
  users {
    type: SOME
    values: "mesos"
  }
}
" --allocation_interval="1secs" --allocator="HierarchicalDRF" --authenticate="false" --authenticate_slaves="false" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/ExamplesTest_EventCallFramework_JN7PJN/credentials" --framework_sorter="drf" --help="false" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_slave_ping_timeouts="5" --quiet="false" --recovery_slave_removal_limit="100%" --registry="replicated_log" --registry_fetch_timeout="1mins" --registry_store_timeout="5secs" --registry_strict="false" --root_submissions="true" --slave_ping_timeout="15secs" --slave_reregister_timeout="10mins" --user_sorter="drf" --version="false" --webui_dir="/mesos/mesos-0.25.0/src/webui" --work_dir="/tmp/mesos-s1Q2uY" --zk_session_timeout="10secs"
I0902 00:30:53.664083 28611 master.cpp:427] Master allowing unauthenticated frameworks to register
I0902 00:30:53.664096 28611 master.cpp:432] Master allowing unauthenticated slaves to register
I0902 00:30:53.664104 28611 credentials.hpp:37] Loading credentials for authentication from '/tmp/ExamplesTest_EventCallFramework_JN7PJN/credentials'
W0902 00:30:53.664187 28611 credentials.hpp:52] Permissions on credentials file '/tmp/ExamplesTest_EventCallFramework_JN7PJN/credentials' are too open. It is recommended that your credentials file is NOT accessible by others.
I0902 00:30:53.664290 28610 recover.cpp:195] Received a recover response from a replica in EMPTY status
I0902 00:30:53.664329 28611 master.cpp:469] Using default 'crammd5' authenticator
I0902 00:30:53.664505 28611 authenticator.cpp:512] Initializing server SASL
I0902 00:30:53.664973 28612 recover.cpp:566] Updating replica status to STARTING
I0902 00:30:53.665920 28619 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 622741ns
I0902 00:30:53.665946 28619 replica.cpp:323] Persisted replica status to STARTING
I0902 00:30:53.666154 28611 auxprop.cpp:66] Initialized in-memory auxiliary property plugin
I0902 00:30:53.666316 28610 recover.cpp:475] Replica is in STARTING status
I0902 00:30:53.666332 28611 master.cpp:506] Authorization enabled
I0902 00:30:53.666404 28582 containerizer.cpp:160] Using isolation: filesystem/posix,posix/cpu,posix/mem
I0902 00:30:53.666851 28619 whitelist_watcher.cpp:79] No whitelist given
I0902 00:30:53.667111 28610 hierarchical.hpp:346] Initialized hierarchical allocator process
I0902 00:30:53.667134 28609 replica.cpp:641] Replica in STARTING status received a broadcasted recover request
I0902 00:30:53.667367 28609 recover.cpp:195] Received a recover response from a replica in STARTING status
I0902 00:30:53.667743 28605 recover.cpp:566] Updating replica status to VOTING
I0902 00:30:53.668181 28619 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 300973ns
I0902 00:30:53.668211 28619 replica.cpp:323] Persisted replica status to VOTING
I0902 00:30:53.669222 28615 recover.cpp:580] Successfully joined the Paxos group
I0902 00:30:53.669587 28615 recover.cpp:464] Recover process terminated
I0902 00:30:53.671195 28616 slave.cpp:190] Slave started on 1)@172.17.3.73:36681
I0902 00:30:53.671234 28616 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher_dir="/mesos/mesos-0.25.0/_build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-s1Q2uY/0"
I0902 00:30:53.672694 28616 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:53.672760 28582 containerizer.cpp:160] Using isolation: filesystem/posix,posix/cpu,posix/mem
I0902 00:30:53.672828 28616 slave.cpp:384] Slave hostname: 441f06bc837a
I0902 00:30:53.672844 28616 slave.cpp:389] Slave checkpoint: true
I0902 00:30:53.674482 28605 master.cpp:1559] The newly elected leader is master@172.17.3.73:36681 with id 20150902-003053-1224937900-36681-28582
I0902 00:30:53.674528 28605 master.cpp:1572] Elected as the leading master!
I0902 00:30:53.674546 28605 master.cpp:1332] Recovering from registrar
I0902 00:30:53.674584 28612 state.cpp:54] Recovering state from '/tmp/mesos-s1Q2uY/0/meta'
I0902 00:30:53.674712 28615 registrar.cpp:311] Recovering registrar
I0902 00:30:53.675217 28605 status_update_manager.cpp:202] Recovering status update manager
I0902 00:30:53.675644 28618 containerizer.cpp:396] Recovering containerizer
I0902 00:30:53.676468 28614 log.cpp:661] Attempting to start the writer
I0902 00:30:53.676507 28619 slave.cpp:190] Slave started on 2)@172.17.3.73:36681
I0902 00:30:53.676807 28619 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher_dir="/mesos/mesos-0.25.0/_build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-s1Q2uY/1"
I0902 00:30:53.677983 28619 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:53.678058 28611 slave.cpp:4069] Finished recovery
I0902 00:30:53.678170 28619 slave.cpp:384] Slave hostname: 441f06bc837a
I0902 00:30:53.678203 28619 slave.cpp:389] Slave checkpoint: true
I0902 00:30:53.678493 28582 containerizer.cpp:160] Using isolation: filesystem/posix,posix/cpu,posix/mem
I0902 00:30:53.678817 28611 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0902 00:30:53.679097 28619 state.cpp:54] Recovering state from '/tmp/mesos-s1Q2uY/1/meta'
I0902 00:30:53.679438 28619 status_update_manager.cpp:202] Recovering status update manager
I0902 00:30:53.679734 28616 status_update_manager.cpp:176] Pausing sending status updates
I0902 00:30:53.679805 28611 slave.cpp:684] New master detected at master@172.17.3.73:36681
I0902 00:30:53.680107 28611 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0902 00:30:53.680172 28606 containerizer.cpp:396] Recovering containerizer
I0902 00:30:53.680227 28611 slave.cpp:720] Detecting new master
I0902 00:30:53.680311 28620 replica.cpp:477] Replica received implicit promise request with proposal 1
I0902 00:30:53.680373 28611 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0902 00:30:53.680917 28620 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 458464ns
I0902 00:30:53.681080 28620 replica.cpp:345] Persisted promised to 1
I0902 00:30:53.682653 28613 slave.cpp:4069] Finished recovery
I0902 00:30:53.682688 28620 coordinator.cpp:231] Coordinator attemping to fill missing position
I0902 00:30:53.683275 28613 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0902 00:30:53.683584 28607 status_update_manager.cpp:176] Pausing sending status updates
I0902 00:30:53.683601 28615 slave.cpp:684] New master detected at master@172.17.3.73:36681
I0902 00:30:53.683730 28615 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0902 00:30:53.683789 28615 slave.cpp:720] Detecting new master
I0902 00:30:53.684020 28615 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0902 00:30:53.684445 28619 slave.cpp:190] Slave started on 3)@172.17.3.73:36681
I0902 00:30:53.684656 28605 replica.cpp:378] Replica received explicit promise request for position 0 with proposal 2
I0902 00:30:53.684484 28619 slave.cpp:191] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher_dir="/mesos/mesos-0.25.0/_build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resource_monitoring_interval="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --version="false" --work_dir="/tmp/mesos-s1Q2uY/2"
I0902 00:30:53.685191 28605 leveldb.cpp:343] Persisting action (8 bytes) to leveldb took 495897ns
I0902 00:30:53.685223 28605 replica.cpp:679] Persisted action at 0
I0902 00:30:53.685535 28619 slave.cpp:354] Slave resources: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:53.685657 28619 slave.cpp:384] Slave hostname: 441f06bc837a
I0902 00:30:53.685678 28619 slave.cpp:389] Slave checkpoint: true
I0902 00:30:53.686754 28605 state.cpp:54] Recovering state from '/tmp/mesos-s1Q2uY/2/meta'
I0902 00:30:53.687188 28616 status_update_manager.cpp:202] Recovering status update manager
I0902 00:30:53.687327 28605 replica.cpp:511] Replica received write request for position 0
I0902 00:30:53.687433 28605 leveldb.cpp:438] Reading position from leveldb took 77420ns
I0902 00:30:53.687559 28620 scheduler.cpp:240] New master detected at master@172.17.3.73:36681
I0902 00:30:53.688076 28605 leveldb.cpp:343] Persisting action (14 bytes) to leveldb took 546957ns
I0902 00:30:53.688114 28605 replica.cpp:679] Persisted action at 0
I0902 00:30:53.687638 28619 containerizer.cpp:396] Recovering containerizer
I0902 00:30:53.689191 28607 replica.cpp:658] Replica received learned notice for position 0
I0902 00:30:53.689815 28607 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 607808ns
I0902 00:30:53.689865 28607 replica.cpp:679] Persisted action at 0
I0902 00:30:53.689914 28607 replica.cpp:664] Replica learned NOP action at position 0
I0902 00:30:53.690187 28620 slave.cpp:4069] Finished recovery
I0902 00:30:53.690893 28620 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0902 00:30:53.691164 28611 log.cpp:677] Writer started with ending position 0
I0902 00:30:53.691167 28616 status_update_manager.cpp:176] Pausing sending status updates
I0902 00:30:53.691202 28620 slave.cpp:684] New master detected at master@172.17.3.73:36681
I0902 00:30:53.691305 28620 slave.cpp:709] No credentials provided. Attempting to register without authentication
I0902 00:30:53.691411 28620 slave.cpp:720] Detecting new master
I0902 00:30:53.691535 28620 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0902 00:30:53.693686 28609 leveldb.cpp:438] Reading position from leveldb took 55603ns
I0902 00:30:53.697943 28611 registrar.cpp:344] Successfully fetched the registry (0B) in 22.782976ms
I0902 00:30:53.698328 28611 registrar.cpp:443] Applied 1 operations in 137518ns; attempting to update the 'registry'
I0902 00:30:53.701880 28607 log.cpp:685] Attempting to append 176 bytes to the log
I0902 00:30:53.702030 28606 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 1
I0902 00:30:53.702842 28605 replica.cpp:511] Replica received write request for position 1
I0902 00:30:53.703675 28605 leveldb.cpp:343] Persisting action (195 bytes) to leveldb took 810079ns
I0902 00:30:53.703706 28605 replica.cpp:679] Persisted action at 1
I0902 00:30:53.704337 28608 replica.cpp:658] Replica received learned notice for position 1
I0902 00:30:53.705054 28608 leveldb.cpp:343] Persisting action (197 bytes) to leveldb took 702560ns
I0902 00:30:53.705088 28608 replica.cpp:679] Persisted action at 1
I0902 00:30:53.705116 28608 replica.cpp:664] Replica learned APPEND action at position 1
I0902 00:30:53.706897 28608 registrar.cpp:488] Successfully updated the 'registry' in 8.417024ms
I0902 00:30:53.707123 28608 registrar.cpp:374] Successfully recovered registrar
I0902 00:30:53.707484 28616 log.cpp:704] Attempting to truncate the log to 1
I0902 00:30:53.707660 28608 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 2
I0902 00:30:53.707659 28614 master.cpp:1369] Recovered 0 slaves from the Registry (137B) ; allowing 10mins for slaves to re-register
I0902 00:30:53.708447 28612 replica.cpp:511] Replica received write request for position 2
I0902 00:30:53.709228 28612 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 749671ns
I0902 00:30:53.709259 28612 replica.cpp:679] Persisted action at 2
I0902 00:30:53.709920 28616 replica.cpp:658] Replica received learned notice for position 2
I0902 00:30:53.710574 28616 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 640764ns
I0902 00:30:53.710654 28616 leveldb.cpp:401] Deleting ~1 keys from leveldb took 59488ns
I0902 00:30:53.710682 28616 replica.cpp:679] Persisted action at 2
I0902 00:30:53.710728 28616 replica.cpp:664] Replica learned TRUNCATE action at position 2
I0902 00:30:53.741991 28619 slave.cpp:1209] Will retry registration in 1.091568855secs if necessary
I0902 00:30:53.742467 28609 master.cpp:3670] Registering slave at slave(3)@172.17.3.73:36681 (441f06bc837a) with id 20150902-003053-1224937900-36681-28582-S0
I0902 00:30:53.743149 28614 registrar.cpp:443] Applied 1 operations in 170710ns; attempting to update the 'registry'
I0902 00:30:53.745995 28608 log.cpp:685] Attempting to append 347 bytes to the log
I0902 00:30:53.746286 28620 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 3
I0902 00:30:53.747166 28619 replica.cpp:511] Replica received write request for position 3
I0902 00:30:53.747927 28619 leveldb.cpp:343] Persisting action (366 bytes) to leveldb took 738551ns
I0902 00:30:53.747967 28619 replica.cpp:679] Persisted action at 3
I0902 00:30:53.748620 28605 replica.cpp:658] Replica received learned notice for position 3
I0902 00:30:53.749323 28605 leveldb.cpp:343] Persisting action (368 bytes) to leveldb took 570424ns
I0902 00:30:53.749356 28605 replica.cpp:679] Persisted action at 3
I0902 00:30:53.749390 28605 replica.cpp:664] Replica learned APPEND action at position 3
I0902 00:30:53.750951 28615 registrar.cpp:488] Successfully updated the 'registry' in 7.702016ms
I0902 00:30:53.751273 28607 log.cpp:704] Attempting to truncate the log to 3
I0902 00:30:53.751399 28619 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 4
I0902 00:30:53.752230 28614 replica.cpp:511] Replica received write request for position 4
I0902 00:30:53.752382 28609 slave.cpp:3058] Received ping from slave-observer(1)@172.17.3.73:36681
I0902 00:30:53.752697 28616 master.cpp:3733] Registered slave 20150902-003053-1224937900-36681-28582-S0 at slave(3)@172.17.3.73:36681 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:53.752836 28619 slave.cpp:859] Registered with master master@172.17.3.73:36681; given slave ID 20150902-003053-1224937900-36681-28582-S0
I0902 00:30:53.752884 28619 fetcher.cpp:77] Clearing fetcher cache
I0902 00:30:53.752969 28620 hierarchical.hpp:542] Added slave 20150902-003053-1224937900-36681-28582-S0 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000] (allocated: )
I0902 00:30:53.753084 28613 status_update_manager.cpp:183] Resuming sending status updates
I0902 00:30:53.753156 28614 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 906644ns
I0902 00:30:53.753195 28614 replica.cpp:679] Persisted action at 4
I0902 00:30:53.753587 28620 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:53.753640 28620 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S0 in 617892ns
I0902 00:30:53.753787 28619 slave.cpp:882] Checkpointing SlaveInfo to '/tmp/mesos-s1Q2uY/2/meta/slaves/20150902-003053-1224937900-36681-28582-S0/slave.info'
I0902 00:30:53.753886 28605 replica.cpp:658] Replica received learned notice for position 4
I0902 00:30:53.754436 28619 slave.cpp:918] Forwarding total oversubscribed resources 
I0902 00:30:53.754580 28605 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 677038ns
I0902 00:30:53.754675 28605 leveldb.cpp:401] Deleting ~2 keys from leveldb took 72858ns
I0902 00:30:53.754695 28608 master.cpp:4032] Received update of slave 20150902-003053-1224937900-36681-28582-S0 at slave(3)@172.17.3.73:36681 (441f06bc837a) with total oversubscribed resources 
I0902 00:30:53.754710 28605 replica.cpp:679] Persisted action at 4
I0902 00:30:53.754761 28605 replica.cpp:664] Replica learned TRUNCATE action at position 4
I0902 00:30:53.755244 28619 hierarchical.hpp:602] Slave 20150902-003053-1224937900-36681-28582-S0 (441f06bc837a) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000], allocated: )
I0902 00:30:53.755473 28619 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:53.755507 28619 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S0 in 217181ns
I0902 00:30:54.464862 28617 slave.cpp:1209] Will retry registration in 1.181298785secs if necessary
I0902 00:30:54.464993 28609 master.cpp:3670] Registering slave at slave(1)@172.17.3.73:36681 (441f06bc837a) with id 20150902-003053-1224937900-36681-28582-S1
I0902 00:30:54.465430 28619 registrar.cpp:443] Applied 1 operations in 113891ns; attempting to update the 'registry'
I0902 00:30:54.468351 28613 log.cpp:685] Attempting to append 515 bytes to the log
I0902 00:30:54.468456 28618 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 5
I0902 00:30:54.469163 28605 replica.cpp:511] Replica received write request for position 5
I0902 00:30:54.469934 28605 leveldb.cpp:343] Persisting action (534 bytes) to leveldb took 741179ns
I0902 00:30:54.469966 28605 replica.cpp:679] Persisted action at 5
I0902 00:30:54.470788 28614 replica.cpp:658] Replica received learned notice for position 5
I0902 00:30:54.471417 28614 leveldb.cpp:343] Persisting action (536 bytes) to leveldb took 615160ns
I0902 00:30:54.471451 28614 replica.cpp:679] Persisted action at 5
I0902 00:30:54.471477 28614 replica.cpp:664] Replica learned APPEND action at position 5
I0902 00:30:54.473342 28607 registrar.cpp:488] Successfully updated the 'registry' in 7.836928ms
I0902 00:30:54.473642 28616 log.cpp:704] Attempting to truncate the log to 5
I0902 00:30:54.474309 28617 slave.cpp:3058] Received ping from slave-observer(2)@172.17.3.73:36681
I0902 00:30:54.474455 28608 master.cpp:3733] Registered slave 20150902-003053-1224937900-36681-28582-S1 at slave(1)@172.17.3.73:36681 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:54.474581 28617 slave.cpp:859] Registered with master master@172.17.3.73:36681; given slave ID 20150902-003053-1224937900-36681-28582-S1
I0902 00:30:54.474618 28617 fetcher.cpp:77] Clearing fetcher cache
I0902 00:30:54.474635 28610 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 6
I0902 00:30:54.474769 28605 status_update_manager.cpp:183] Resuming sending status updates
I0902 00:30:54.474747 28609 hierarchical.hpp:542] Added slave 20150902-003053-1224937900-36681-28582-S1 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000] (allocated: )
I0902 00:30:54.475209 28617 slave.cpp:882] Checkpointing SlaveInfo to '/tmp/mesos-s1Q2uY/0/meta/slaves/20150902-003053-1224937900-36681-28582-S1/slave.info'
I0902 00:30:54.475317 28609 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:54.475446 28609 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S1 in 463257ns
I0902 00:30:54.475603 28607 replica.cpp:511] Replica received write request for position 6
I0902 00:30:54.475780 28617 slave.cpp:918] Forwarding total oversubscribed resources 
I0902 00:30:54.475937 28617 master.cpp:4032] Received update of slave 20150902-003053-1224937900-36681-28582-S1 at slave(1)@172.17.3.73:36681 (441f06bc837a) with total oversubscribed resources 
I0902 00:30:54.476305 28610 hierarchical.hpp:602] Slave 20150902-003053-1224937900-36681-28582-S1 (441f06bc837a) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000], allocated: )
I0902 00:30:54.476480 28607 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 772408ns
I0902 00:30:54.476511 28607 replica.cpp:679] Persisted action at 6
I0902 00:30:54.476541 28610 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:54.476567 28610 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S1 in 214977ns
I0902 00:30:54.477264 28620 replica.cpp:658] Replica received learned notice for position 6
I0902 00:30:54.477743 28620 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 458654ns
I0902 00:30:54.477814 28620 leveldb.cpp:401] Deleting ~2 keys from leveldb took 51876ns
I0902 00:30:54.477840 28620 replica.cpp:679] Persisted action at 6
I0902 00:30:54.477867 28620 replica.cpp:664] Replica learned TRUNCATE action at position 6
I0902 00:30:54.596190 28611 slave.cpp:1209] Will retry registration in 217.215177ms if necessary
I0902 00:30:54.596360 28608 master.cpp:3670] Registering slave at slave(2)@172.17.3.73:36681 (441f06bc837a) with id 20150902-003053-1224937900-36681-28582-S2
I0902 00:30:54.596786 28611 registrar.cpp:443] Applied 1 operations in 117272ns; attempting to update the 'registry'
I0902 00:30:54.599691 28613 log.cpp:685] Attempting to append 683 bytes to the log
I0902 00:30:54.599798 28618 coordinator.cpp:341] Coordinator attempting to write APPEND action at position 7
I0902 00:30:54.600631 28616 replica.cpp:511] Replica received write request for position 7
I0902 00:30:54.600955 28616 leveldb.cpp:343] Persisting action (702 bytes) to leveldb took 298371ns
I0902 00:30:54.600988 28616 replica.cpp:679] Persisted action at 7
I0902 00:30:54.601665 28609 replica.cpp:658] Replica received learned notice for position 7
I0902 00:30:54.602424 28609 leveldb.cpp:343] Persisting action (704 bytes) to leveldb took 743909ns
I0902 00:30:54.602457 28609 replica.cpp:679] Persisted action at 7
I0902 00:30:54.602481 28609 replica.cpp:664] Replica learned APPEND action at position 7
I0902 00:30:54.604488 28615 registrar.cpp:488] Successfully updated the 'registry' in 7.63008ms
I0902 00:30:54.604832 28617 log.cpp:704] Attempting to truncate the log to 7
I0902 00:30:54.605005 28613 coordinator.cpp:341] Coordinator attempting to write TRUNCATE action at position 8
I0902 00:30:54.605356 28615 slave.cpp:3058] Received ping from slave-observer(3)@172.17.3.73:36681
I0902 00:30:54.605599 28615 slave.cpp:859] Registered with master master@172.17.3.73:36681; given slave ID 20150902-003053-1224937900-36681-28582-S2
I0902 00:30:54.605530 28606 master.cpp:3733] Registered slave 20150902-003053-1224937900-36681-28582-S2 at slave(2)@172.17.3.73:36681 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000]
I0902 00:30:54.605690 28615 fetcher.cpp:77] Clearing fetcher cache
I0902 00:30:54.605751 28609 hierarchical.hpp:542] Added slave 20150902-003053-1224937900-36681-28582-S2 (441f06bc837a) with cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000] (allocated: )
I0902 00:30:54.605989 28605 status_update_manager.cpp:183] Resuming sending status updates
I0902 00:30:54.606201 28609 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:54.606220 28607 replica.cpp:511] Replica received write request for position 8
I0902 00:30:54.606238 28609 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S2 in 348187ns
I0902 00:30:54.606287 28615 slave.cpp:882] Checkpointing SlaveInfo to '/tmp/mesos-s1Q2uY/1/meta/slaves/20150902-003053-1224937900-36681-28582-S2/slave.info'
I0902 00:30:54.607102 28615 slave.cpp:918] Forwarding total oversubscribed resources 
I0902 00:30:54.607115 28607 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 872303ns
I0902 00:30:54.607148 28607 replica.cpp:679] Persisted action at 8
I0902 00:30:54.607295 28615 master.cpp:4032] Received update of slave 20150902-003053-1224937900-36681-28582-S2 at slave(2)@172.17.3.73:36681 (441f06bc837a) with total oversubscribed resources 
I0902 00:30:54.607785 28620 hierarchical.hpp:602] Slave 20150902-003053-1224937900-36681-28582-S2 (441f06bc837a) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):3.70122e+06; ports(*):[31000-32000], allocated: )
I0902 00:30:54.607882 28618 replica.cpp:658] Replica received learned notice for position 8
I0902 00:30:54.608000 28620 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:54.608031 28620 hierarchical.hpp:928] Performed allocation for slave 20150902-003053-1224937900-36681-28582-S2 in 197321ns
I0902 00:30:54.608292 28618 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 389254ns
I0902 00:30:54.608384 28618 leveldb.cpp:401] Deleting ~2 keys from leveldb took 70973ns
I0902 00:30:54.608415 28618 replica.cpp:679] Persisted action at 8
I0902 00:30:54.608456 28618 replica.cpp:664] Replica learned TRUNCATE action at position 8
I0902 00:30:54.668705 28614 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:54.668745 28614 hierarchical.hpp:910] Performed allocation for 3 slaves in 557805ns
I0902 00:30:55.669527 28619 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:55.669566 28619 hierarchical.hpp:910] Performed allocation for 3 slaves in 465684ns
I0902 00:30:56.671480 28617 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:56.671515 28617 hierarchical.hpp:910] Performed allocation for 3 slaves in 485449ns
I0902 00:30:57.673353 28607 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:57.673391 28607 hierarchical.hpp:910] Performed allocation for 3 slaves in 518196ns
I0902 00:30:58.675276 28618 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:58.675312 28618 hierarchical.hpp:910] Performed allocation for 3 slaves in 503347ns
I0902 00:30:59.677129 28610 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:30:59.677163 28610 hierarchical.hpp:910] Performed allocation for 3 slaves in 468757ns
I0902 00:31:00.678947 28613 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:00.678983 28613 hierarchical.hpp:910] Performed allocation for 3 slaves in 497686ns
I0902 00:31:01.680778 28620 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:01.680814 28620 hierarchical.hpp:910] Performed allocation for 3 slaves in 433630ns
I0902 00:31:02.682585 28609 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:02.682620 28609 hierarchical.hpp:910] Performed allocation for 3 slaves in 507390ns
I0902 00:31:03.683991 28611 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:03.684037 28611 hierarchical.hpp:910] Performed allocation for 3 slaves in 694017ns
I0902 00:31:04.686070 28619 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:04.686112 28619 hierarchical.hpp:910] Performed allocation for 3 slaves in 490512ns
I0902 00:31:05.687798 28618 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:05.687832 28618 hierarchical.hpp:910] Performed allocation for 3 slaves in 421718ns
I0902 00:31:06.689510 28607 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:06.689548 28607 hierarchical.hpp:910] Performed allocation for 3 slaves in 448215ns
I0902 00:31:07.691249 28610 hierarchical.hpp:1010] No resources available to allocate!
I0902 00:31:07.691285 28610 hierarchical.hpp:910] Performed allocation for 3 slaves in 469345ns
I0902 00:31:08.683100 28615 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0902 00:31:08.683322 28614 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0902 00:31:08.685286 28606 slave.cpp:4226] Querying resource estimator for oversubscribable resources
I0902 00:31:08.685518 28616 slave.cpp:4240] Received oversubscribable resources  from the resource estimator
I0902 00:31:08.692482 28608 slave.cpp:4226] Querying resource estimator for oversubscribable resources
{code}

[~ijimenez] Are you up for triaging this?


Was able to reproduce this once on my machine. But the issue is not the same as the one seen on ASF build though as per logs. So we still need to dig around for what the issue on ASF test-run was.

In my test run, there is a race between the master successfully recovering its state from registry and the scheduler sending a call. In this case, we just log the error and leave it upon the framework to retry the call. This happened only because I was running in a debugger in a loop and there would have been state left in Master across various test invocations leading to the time in Registry Recovery. So , I won't worry too much about this occurrence.

{code}
I0902 23:29:28.815498 113774592 leveldb.cpp:438] Reading position from leveldb took 32us
I0902 23:29:28.826355 136355840 registrar.cpp:344] Successfully fetched the registry (0B) in 16.811008ms
I0902 23:29:28.826472 136355840 registrar.cpp:443] Applied 1 operations in 35us; attempting to update the 'registry'
I0902 23:29:28.826869 135819264 http.cpp:333] HTTP POST for /master/api/v1/scheduler from 192.168.29.132:56913
W0902 23:29:28.831881 135282688 scheduler.cpp:381] Received '503 Service Unavailable' () for SUBSCRIBE
{code}

[~ijimenez] [~vinodkone]

Your env is Ubuntu or OSX?

Another occurrence:
https://builds.apache.org/job/Mesos/COMPILER=clang,CONFIGURATION=--verbose,OS=ubuntu:14.04,label_exp=docker%7C%7CHadoop/800/consoleFull


After checking the code, it seems the same issue that: scheduler doesn't send a SUBSCRIBE.

[~klaus1982] can you repro this locally when running the test in repetition? if yes, you could add more logging statements to find the root cause.

[~vinod@twitter.com], unfortunately, I did not repro it in Ubuntu14.04. Let me have a try in other OS to see what happen.

I guess only 14.04 + clang + docker could reproduce this problem. :(

thanks for your suggestion, let me have try for both :).

This does still happen - definitely catchable.

System: [Ubuntu14.04 Vagrant Image|https://github.com/tillt/mesos-vagrant-ci/blob/master/ubuntu14/setup.sh]

SSL build (enable-ssl, enable-libevent), root test-run, verbose
{noformat}
[ RUN      ] ExamplesTest.EventCallFramework
Using temporary directory '/tmp/ExamplesTest_EventCallFramework_MUpzLQ'
I1130 22:47:23.059108 15950 scheduler.cpp:156] Version: 0.26.0
I1130 22:47:23.107734 15950 leveldb.cpp:176] Opened db in 41.560489ms
I1130 22:47:23.109232 15950 leveldb.cpp:183] Compacted db in 1.42992ms
I1130 22:47:23.109333 15950 leveldb.cpp:198] Created db iterator in 37301ns
I1130 22:47:23.109355 15950 leveldb.cpp:204] Seeked to beginning of db in 2008ns
I1130 22:47:23.109367 15950 leveldb.cpp:273] Iterated through 0 keys in the db in 170ns
I1130 22:47:23.109491 15950 replica.cpp:780] Replica recovered with log positions 0 -> 0 with 1 holes and 0 unlearned
I1130 22:47:23.111325 15974 recover.cpp:449] Starting replica recovery
I1130 22:47:23.112205 15974 recover.cpp:475] Replica is in EMPTY status
I1130 22:47:23.112306 15950 local.cpp:241] Using 'local' authorizer
I1130 22:47:23.114205 15973 replica.cpp:676] Replica in EMPTY status received a broadcasted recover request from (5)@127.0.1.1:51177
I1130 22:47:23.114904 15970 recover.cpp:195] Received a recover response from a replica in EMPTY status
I1130 22:47:23.118305 15970 recover.cpp:566] Updating replica status to STARTING
I1130 22:47:23.118458 15972 master.cpp:367] Master edbdc635-adf5-40f6-bc27-15b19e69f8cd (ubuntu14) started on 127.0.1.1:51177
I1130 22:47:23.119215 15972 master.cpp:369] Flags at startup: --acls="permissive: false
register_frameworks {
  principals {
    type: SOME
    values: "test-principal"
  }
  roles {
    type: SOME
    values: "*"
  }
}
run_tasks {
  principals {
    type: SOME
    values: "test-principal"
  }
  users {
    type: SOME
    values: "vagrant"
  }
}
" --allocation_interval="1secs" --allocator="HierarchicalDRF" --authenticate="false" --authenticate_slaves="false" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/ExamplesTest_EventCallFramework_MUpzLQ/credentials" --framework_sorter="drf" --help="false" --hostname_lookup="true" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_slave_ping_timeouts="5" --quiet="false" --recovery_slave_removal_limit="100%" --registry="replicated_log" --registry_fetch_timeout="1mins" --registry_store_timeout="5secs" --registry_strict="false" --root_submissions="true" --slave_ping_timeout="15secs" --slave_reregister_timeout="10mins" --user_sorter="drf" --version="false" --webui_dir="/home/vagrant/mesos/src/webui" --work_dir="/tmp/mesos-cqOgRP" --zk_session_timeout="10secs"
I1130 22:47:23.119771 15972 master.cpp:416] Master allowing unauthenticated frameworks to register
I1130 22:47:23.119787 15972 master.cpp:421] Master allowing unauthenticated slaves to register
I1130 22:47:23.119798 15972 credentials.hpp:37] Loading credentials for authentication from '/tmp/ExamplesTest_EventCallFramework_MUpzLQ/credentials'
W1130 22:47:23.119976 15972 credentials.hpp:52] Permissions on credentials file '/tmp/ExamplesTest_EventCallFramework_MUpzLQ/credentials' are too open. It is recommended that your credentials file is NOT accessible by others.
I1130 22:47:23.120127 15972 master.cpp:458] Using default 'crammd5' authenticator
I1130 22:47:23.120285 15972 authenticator.cpp:520] Initializing server SASL
I1130 22:47:23.121831 15950 containerizer.cpp:142] Using isolation: filesystem/posix,posix/cpu,posix/mem
I1130 22:47:23.121846 15972 master.cpp:495] Authorization enabled
W1130 22:47:23.122547 15950 backend.cpp:50] Failed to create 'bind' backend: BindBackend requires root privileges
I1130 22:47:23.126610 15970 slave.cpp:191] Slave started on 1)@127.0.1.1:51177
I1130 22:47:23.126672 15970 slave.cpp:192] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_auth_server="auth.docker.io" --docker_auth_server_port="443" --docker_kill_orphans="true" --docker_local_archives_dir="/tmp/mesos/images/docker" --docker_puller="local" --docker_puller_timeout="60" --docker_registry="registry-1.docker.io" --docker_registry_port="443" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/mesos/store/docker" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --hostname_lookup="true" --image_provisioner_backend="copy" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher="posix" --launcher_dir="/home/vagrant/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/mesos-cqOgRP/0"
I1130 22:47:23.127595 15950 containerizer.cpp:142] Using isolation: filesystem/posix,posix/cpu,posix/mem
I1130 22:47:23.127796 15974 master.cpp:1606] The newly elected leader is master@127.0.1.1:51177 with id edbdc635-adf5-40f6-bc27-15b19e69f8cd
I1130 22:47:23.127905 15974 master.cpp:1619] Elected as the leading master!
I1130 22:47:23.128002 15974 master.cpp:1379] Recovering from registrar
I1130 22:47:23.128363 15970 slave.cpp:392] Slave resources: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:23.128432 15971 registrar.cpp:309] Recovering registrar
I1130 22:47:23.128494 15970 slave.cpp:400] Slave attributes: [  ]
I1130 22:47:23.128540 15970 slave.cpp:405] Slave hostname: ubuntu14
I1130 22:47:23.128551 15970 slave.cpp:410] Slave checkpoint: true
W1130 22:47:23.129720 15950 backend.cpp:50] Failed to create 'bind' backend: BindBackend requires root privileges
I1130 22:47:23.130424 15972 state.cpp:54] Recovering state from '/tmp/mesos-cqOgRP/0/meta'
I1130 22:47:23.130970 15972 status_update_manager.cpp:202] Recovering status update manager
I1130 22:47:23.131469 15976 containerizer.cpp:384] Recovering containerizer
I1130 22:47:23.133054 15975 slave.cpp:4230] Finished recovery
I1130 22:47:23.133693 15976 slave.cpp:191] Slave started on 2)@127.0.1.1:51177
I1130 22:47:23.133766 15975 slave.cpp:729] New master detected at master@127.0.1.1:51177
I1130 22:47:23.133836 15975 slave.cpp:754] No credentials provided. Attempting to register without authentication
I1130 22:47:23.133941 15975 slave.cpp:765] Detecting new master
I1130 22:47:23.133754 15976 slave.cpp:192] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_auth_server="auth.docker.io" --docker_auth_server_port="443" --docker_kill_orphans="true" --docker_local_archives_dir="/tmp/mesos/images/docker" --docker_puller="local" --docker_puller_timeout="60" --docker_registry="registry-1.docker.io" --docker_registry_port="443" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/mesos/store/docker" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --hostname_lookup="true" --image_provisioner_backend="copy" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher="posix" --launcher_dir="/home/vagrant/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/mesos-cqOgRP/1"
I1130 22:47:23.133738 15972 status_update_manager.cpp:176] Pausing sending status updates
I1130 22:47:23.134950 15976 slave.cpp:392] Slave resources: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:23.135027 15976 slave.cpp:400] Slave attributes: [  ]
I1130 22:47:23.135051 15976 slave.cpp:405] Slave hostname: ubuntu14
I1130 22:47:23.135063 15976 slave.cpp:410] Slave checkpoint: true
I1130 22:47:23.135736 15950 containerizer.cpp:142] Using isolation: filesystem/posix,posix/cpu,posix/mem
I1130 22:47:23.135828 15975 state.cpp:54] Recovering state from '/tmp/mesos-cqOgRP/1/meta'
I1130 22:47:23.136504 15975 status_update_manager.cpp:202] Recovering status update manager
W1130 22:47:23.136520 15950 backend.cpp:50] Failed to create 'bind' backend: BindBackend requires root privileges
I1130 22:47:23.136754 15974 containerizer.cpp:384] Recovering containerizer
I1130 22:47:23.137874 15972 slave.cpp:4230] Finished recovery
I1130 22:47:23.138635 15974 status_update_manager.cpp:176] Pausing sending status updates
I1130 22:47:23.138628 15970 slave.cpp:729] New master detected at master@127.0.1.1:51177
I1130 22:47:23.138841 15970 slave.cpp:754] No credentials provided. Attempting to register without authentication
I1130 22:47:23.138906 15970 slave.cpp:765] Detecting new master
I1130 22:47:23.138696 15973 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 20.024076ms
I1130 22:47:23.139665 15973 replica.cpp:323] Persisted replica status to STARTING
I1130 22:47:23.139986 15973 recover.cpp:475] Replica is in STARTING status
I1130 22:47:23.141146 15973 replica.cpp:676] Replica in STARTING status received a broadcasted recover request from (36)@127.0.1.1:51177
I1130 22:47:23.141532 15975 recover.cpp:195] Received a recover response from a replica in STARTING status
I1130 22:47:23.141597 15970 slave.cpp:191] Slave started on 3)@127.0.1.1:51177
I1130 22:47:23.141633 15970 slave.cpp:192] Flags at startup: --appc_store_dir="/tmp/mesos/store/appc" --authenticatee="crammd5" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --default_role="*" --disk_watch_interval="1mins" --docker="docker" --docker_auth_server="auth.docker.io" --docker_auth_server_port="443" --docker_kill_orphans="true" --docker_local_archives_dir="/tmp/mesos/images/docker" --docker_puller="local" --docker_puller_timeout="60" --docker_registry="registry-1.docker.io" --docker_registry_port="443" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/mesos/store/docker" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/mesos/fetch" --fetcher_cache_size="2GB" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --hostname_lookup="true" --image_provisioner_backend="copy" --initialize_driver_logging="true" --isolation="filesystem/posix,posix/cpu,posix/mem" --launcher="posix" --launcher_dir="/home/vagrant/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="1secs" --resources="cpus:2;mem:10240" --revocable_cpu_low_priority="true" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/mesos-cqOgRP/2"
I1130 22:47:23.142415 15972 recover.cpp:566] Updating replica status to VOTING
I1130 22:47:23.142632 15970 slave.cpp:392] Slave resources: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:23.142706 15970 slave.cpp:400] Slave attributes: [  ]
I1130 22:47:23.142757 15970 slave.cpp:405] Slave hostname: ubuntu14
I1130 22:47:23.142771 15970 slave.cpp:410] Slave checkpoint: true
2015-11-30 22:47:23,143:15722(0x7fac4de51700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:59080] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
I1130 22:47:23.145202 15972 state.cpp:54] Recovering state from '/tmp/mesos-cqOgRP/2/meta'
I1130 22:47:23.145670 15971 status_update_manager.cpp:202] Recovering status update manager
I1130 22:47:23.145854 15971 containerizer.cpp:384] Recovering containerizer
I1130 22:47:23.146724 15973 slave.cpp:4230] Finished recovery
I1130 22:47:23.147203 15975 slave.cpp:729] New master detected at master@127.0.1.1:51177
I1130 22:47:23.147258 15973 status_update_manager.cpp:176] Pausing sending status updates
I1130 22:47:23.147320 15975 slave.cpp:754] No credentials provided. Attempting to register without authentication
I1130 22:47:23.147452 15975 slave.cpp:765] Detecting new master
I1130 22:47:23.159584 15974 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 16.845187ms
I1130 22:47:23.159698 15974 replica.cpp:323] Persisted replica status to VOTING
I1130 22:47:23.159997 15974 recover.cpp:580] Successfully joined the Paxos group
I1130 22:47:23.160423 15974 recover.cpp:464] Recover process terminated
I1130 22:47:23.160991 15974 log.cpp:661] Attempting to start the writer
I1130 22:47:23.163434 15973 replica.cpp:496] Replica received implicit promise request from (40)@127.0.1.1:51177 with proposal 1
I1130 22:47:23.174804 15973 leveldb.cpp:306] Persisting metadata (8 bytes) to leveldb took 11.290243ms
I1130 22:47:23.174859 15973 replica.cpp:345] Persisted promised to 1
I1130 22:47:23.176043 15973 coordinator.cpp:240] Coordinator attempting to fill missing positions
I1130 22:47:23.177855 15972 replica.cpp:391] Replica received explicit promise request from (41)@127.0.1.1:51177 for position 0 with proposal 2
I1130 22:47:23.180476 15972 leveldb.cpp:343] Persisting action (8 bytes) to leveldb took 2.537426ms
I1130 22:47:23.180531 15972 replica.cpp:715] Persisted action at 0
I1130 22:47:23.182282 15971 replica.cpp:540] Replica received write request for position 0 from (42)@127.0.1.1:51177
I1130 22:47:23.182375 15971 leveldb.cpp:438] Reading position from leveldb took 36138ns
I1130 22:47:23.204586 15971 leveldb.cpp:343] Persisting action (14 bytes) to leveldb took 22.150405ms
I1130 22:47:23.204653 15971 replica.cpp:715] Persisted action at 0
I1130 22:47:23.205488 15976 replica.cpp:694] Replica received learned notice for position 0 from @0.0.0.0:0
I1130 22:47:23.215785 15976 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 9.991989ms
I1130 22:47:23.215850 15976 replica.cpp:715] Persisted action at 0
I1130 22:47:23.215875 15976 replica.cpp:700] Replica learned NOP action at position 0
I1130 22:47:23.216578 15972 log.cpp:677] Writer started with ending position 0
I1130 22:47:23.218617 15969 leveldb.cpp:438] Reading position from leveldb took 34179ns
I1130 22:47:23.221410 15973 registrar.cpp:342] Successfully fetched the registry (0B) in 92.845824ms
I1130 22:47:23.221622 15973 registrar.cpp:441] Applied 1 operations in 54823ns; attempting to update the 'registry'
I1130 22:47:23.223924 15976 log.cpp:685] Attempting to append 158 bytes to the log
I1130 22:47:23.224053 15975 coordinator.cpp:350] Coordinator attempting to write APPEND action at position 1
I1130 22:47:23.225028 15971 replica.cpp:540] Replica received write request for position 1 from (43)@127.0.1.1:51177
I1130 22:47:23.240402 15971 leveldb.cpp:343] Persisting action (177 bytes) to leveldb took 15.317491ms
I1130 22:47:23.240471 15971 replica.cpp:715] Persisted action at 1
I1130 22:47:23.241024 15974 replica.cpp:694] Replica received learned notice for position 1 from @0.0.0.0:0
I1130 22:47:23.257127 15974 leveldb.cpp:343] Persisting action (179 bytes) to leveldb took 15.979931ms
I1130 22:47:23.257261 15974 replica.cpp:715] Persisted action at 1
I1130 22:47:23.257338 15974 replica.cpp:700] Replica learned APPEND action at position 1
I1130 22:47:23.258764 15974 registrar.cpp:486] Successfully updated the 'registry' in 37.036032ms
I1130 22:47:23.259004 15974 registrar.cpp:372] Successfully recovered registrar
I1130 22:47:23.259340 15971 log.cpp:704] Attempting to truncate the log to 1
I1130 22:47:23.259637 15976 coordinator.cpp:350] Coordinator attempting to write TRUNCATE action at position 2
I1130 22:47:23.260030 15972 master.cpp:1416] Recovered 0 slaves from the Registry (120B) ; allowing 10mins for slaves to re-register
I1130 22:47:23.260810 15975 replica.cpp:540] Replica received write request for position 2 from (44)@127.0.1.1:51177
I1130 22:47:23.273692 15975 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 12.840856ms
I1130 22:47:23.273748 15975 replica.cpp:715] Persisted action at 2
I1130 22:47:23.274708 15972 replica.cpp:694] Replica received learned notice for position 2 from @0.0.0.0:0
I1130 22:47:23.291226 15972 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 16.42524ms
I1130 22:47:23.291388 15972 leveldb.cpp:401] Deleting ~1 keys from leveldb took 31496ns
I1130 22:47:23.291468 15972 replica.cpp:715] Persisted action at 2
I1130 22:47:23.291543 15972 replica.cpp:700] Replica learned TRUNCATE action at position 2
Shutting down
Sending SIGTERM to process tree at pid 15945
Killing the following process trees:
[

]
Shutting down
Sending SIGTERM to process tree at pid 15946
Shutting down
Sending SIGTERM to process tree at pid 15948
Shutting down
Sending SIGTERM to process tree at pid 15947
Killing the following process trees:
[

]
Shutting down
Sending SIGTERM to process tree at pid 15949
Killing the following process trees:
[

]
Killing the following process trees:
[

]
Killing the following process trees:
[

]
I1130 22:47:23.868094 15975 master.cpp:3859] Registering slave at slave(2)@127.0.1.1:51177 (ubuntu14) with id edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0
I1130 22:47:23.868902 15975 registrar.cpp:441] Applied 1 operations in 83801ns; attempting to update the 'registry'
I1130 22:47:23.871341 15975 log.cpp:685] Attempting to append 324 bytes to the log
I1130 22:47:23.871618 15976 coordinator.cpp:350] Coordinator attempting to write APPEND action at position 3
I1130 22:47:23.872496 15970 replica.cpp:540] Replica received write request for position 3 from (45)@127.0.1.1:51177
I1130 22:47:23.890398 15970 leveldb.cpp:343] Persisting action (343 bytes) to leveldb took 17.833464ms
I1130 22:47:23.890465 15970 replica.cpp:715] Persisted action at 3
I1130 22:47:23.891302 15969 replica.cpp:694] Replica received learned notice for position 3 from @0.0.0.0:0
I1130 22:47:23.916492 15969 leveldb.cpp:343] Persisting action (345 bytes) to leveldb took 25.076422ms
I1130 22:47:23.916555 15969 replica.cpp:715] Persisted action at 3
I1130 22:47:23.916581 15969 replica.cpp:700] Replica learned APPEND action at position 3
I1130 22:47:23.917907 15969 registrar.cpp:486] Successfully updated the 'registry' in 48.825088ms
I1130 22:47:23.918125 15971 log.cpp:704] Attempting to truncate the log to 3
I1130 22:47:23.918313 15969 coordinator.cpp:350] Coordinator attempting to write TRUNCATE action at position 4
I1130 22:47:23.919076 15971 replica.cpp:540] Replica received write request for position 4 from (46)@127.0.1.1:51177
I1130 22:47:23.919075 15972 master.cpp:3927] Registered slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0 at slave(2)@127.0.1.1:51177 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:23.919356 15969 hierarchical.cpp:344] Added slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000] (allocated: )
I1130 22:47:23.919670 15974 slave.cpp:904] Registered with master master@127.0.1.1:51177; given slave ID edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0
I1130 22:47:23.919860 15975 status_update_manager.cpp:183] Resuming sending status updates
I1130 22:47:23.920243 15974 slave.cpp:963] Forwarding total oversubscribed resources
I1130 22:47:23.920426 15974 master.cpp:4269] Received update of slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0 at slave(2)@127.0.1.1:51177 (ubuntu14) with total oversubscribed resources
I1130 22:47:23.920732 15974 hierarchical.cpp:400] Slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S0 (ubuntu14) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000], allocated: )
I1130 22:47:23.930485 15971 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 11.225812ms
I1130 22:47:23.930588 15971 replica.cpp:715] Persisted action at 4
I1130 22:47:23.931483 15971 replica.cpp:694] Replica received learned notice for position 4 from @0.0.0.0:0
I1130 22:47:23.946909 15971 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 15.365585ms
I1130 22:47:23.947005 15971 leveldb.cpp:401] Deleting ~2 keys from leveldb took 33233ns
I1130 22:47:23.947026 15971 replica.cpp:715] Persisted action at 4
I1130 22:47:23.947062 15971 replica.cpp:700] Replica learned TRUNCATE action at position 4
2015-11-30 22:47:23,976:15722(0x7fac4e652700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:49113] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:24,140:15722(0x7fac84bc4700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:44051] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
I1130 22:47:24.173096 15970 master.cpp:3859] Registering slave at slave(1)@127.0.1.1:51177 (ubuntu14) with id edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1
I1130 22:47:24.173475 15970 registrar.cpp:441] Applied 1 operations in 60030ns; attempting to update the 'registry'
I1130 22:47:24.174414 15970 log.cpp:685] Attempting to append 486 bytes to the log
I1130 22:47:24.174617 15970 coordinator.cpp:350] Coordinator attempting to write APPEND action at position 5
I1130 22:47:24.175302 15970 replica.cpp:540] Replica received write request for position 5 from (47)@127.0.1.1:51177
I1130 22:47:24.194605 15970 leveldb.cpp:343] Persisting action (505 bytes) to leveldb took 19.220068ms
I1130 22:47:24.194659 15970 replica.cpp:715] Persisted action at 5
I1130 22:47:24.195379 15976 replica.cpp:694] Replica received learned notice for position 5 from @0.0.0.0:0
I1130 22:47:24.224751 15976 leveldb.cpp:343] Persisting action (507 bytes) to leveldb took 29.20734ms
I1130 22:47:24.224807 15976 replica.cpp:715] Persisted action at 5
I1130 22:47:24.224833 15976 replica.cpp:700] Replica learned APPEND action at position 5
I1130 22:47:24.226043 15974 registrar.cpp:486] Successfully updated the 'registry' in 52.468992ms
I1130 22:47:24.226249 15974 log.cpp:704] Attempting to truncate the log to 5
I1130 22:47:24.226369 15974 coordinator.cpp:350] Coordinator attempting to write TRUNCATE action at position 6
I1130 22:47:24.226654 15976 master.cpp:3927] Registered slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1 at slave(1)@127.0.1.1:51177 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:24.226811 15976 slave.cpp:904] Registered with master master@127.0.1.1:51177; given slave ID edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1
I1130 22:47:24.226981 15972 status_update_manager.cpp:183] Resuming sending status updates
I1130 22:47:24.226809 15974 hierarchical.cpp:344] Added slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000] (allocated: )
I1130 22:47:24.227459 15971 replica.cpp:540] Replica received write request for position 6 from (48)@127.0.1.1:51177
I1130 22:47:24.227530 15976 slave.cpp:963] Forwarding total oversubscribed resources
I1130 22:47:24.228521 15973 master.cpp:4269] Received update of slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1 at slave(1)@127.0.1.1:51177 (ubuntu14) with total oversubscribed resources
I1130 22:47:24.228770 15973 hierarchical.cpp:400] Slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S1 (ubuntu14) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000], allocated: )
I1130 22:47:24.241744 15971 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 13.475397ms
I1130 22:47:24.241809 15971 replica.cpp:715] Persisted action at 6
I1130 22:47:24.242728 15973 replica.cpp:694] Replica received learned notice for position 6 from @0.0.0.0:0
I1130 22:47:24.257985 15973 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 15.20455ms
I1130 22:47:24.258081 15973 leveldb.cpp:401] Deleting ~2 keys from leveldb took 31813ns
I1130 22:47:24.258116 15973 replica.cpp:715] Persisted action at 6
I1130 22:47:24.258139 15973 replica.cpp:700] Replica learned TRUNCATE action at position 6
2015-11-30 22:47:24,387:15722(0x7fac0e7fc700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:50280] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:24,666:15722(0x7fac4d650700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:58836] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
I1130 22:47:25.172317 15969 master.cpp:3859] Registering slave at slave(3)@127.0.1.1:51177 (ubuntu14) with id edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2
I1130 22:47:25.172703 15969 registrar.cpp:441] Applied 1 operations in 59601ns; attempting to update the 'registry'
I1130 22:47:25.174685 15969 log.cpp:685] Attempting to append 648 bytes to the log
I1130 22:47:25.174819 15976 coordinator.cpp:350] Coordinator attempting to write APPEND action at position 7
I1130 22:47:25.175757 15972 replica.cpp:540] Replica received write request for position 7 from (49)@127.0.1.1:51177
I1130 22:47:25.202685 15972 leveldb.cpp:343] Persisting action (667 bytes) to leveldb took 26.833493ms
I1130 22:47:25.202808 15972 replica.cpp:715] Persisted action at 7
I1130 22:47:25.203387 15972 replica.cpp:694] Replica received learned notice for position 7 from @0.0.0.0:0
I1130 22:47:25.221983 15972 leveldb.cpp:343] Persisting action (669 bytes) to leveldb took 18.510109ms
I1130 22:47:25.222126 15972 replica.cpp:715] Persisted action at 7
I1130 22:47:25.222199 15972 replica.cpp:700] Replica learned APPEND action at position 7
I1130 22:47:25.223793 15969 registrar.cpp:486] Successfully updated the 'registry' in 50.982144ms
I1130 22:47:25.224144 15971 log.cpp:704] Attempting to truncate the log to 7
I1130 22:47:25.224392 15971 coordinator.cpp:350] Coordinator attempting to write TRUNCATE action at position 8
I1130 22:47:25.224444 15969 master.cpp:3927] Registered slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2 at slave(3)@127.0.1.1:51177 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000]
I1130 22:47:25.224606 15974 hierarchical.cpp:344] Added slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2 (ubuntu14) with cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000] (allocated: )
I1130 22:47:25.224686 15972 slave.cpp:904] Registered with master master@127.0.1.1:51177; given slave ID edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2
I1130 22:47:25.225249 15976 status_update_manager.cpp:183] Resuming sending status updates
I1130 22:47:25.225592 15972 slave.cpp:963] Forwarding total oversubscribed resources
I1130 22:47:25.226097 15969 master.cpp:4269] Received update of slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2 at slave(3)@127.0.1.1:51177 (ubuntu14) with total oversubscribed resources
I1130 22:47:25.226299 15971 replica.cpp:540] Replica received write request for position 8 from (50)@127.0.1.1:51177
I1130 22:47:25.226444 15974 hierarchical.cpp:400] Slave edbdc635-adf5-40f6-bc27-15b19e69f8cd-S2 (ubuntu14) updated with oversubscribed resources  (total: cpus(*):2; mem(*):10240; disk(*):34068; ports(*):[31000-32000], allocated: )
I1130 22:47:25.229393 15971 leveldb.cpp:343] Persisting action (16 bytes) to leveldb took 3.030976ms
I1130 22:47:25.229516 15971 replica.cpp:715] Persisted action at 8
I1130 22:47:25.230015 15971 replica.cpp:694] Replica received learned notice for position 8 from @0.0.0.0:0
I1130 22:47:25.245934 15971 leveldb.cpp:343] Persisting action (18 bytes) to leveldb took 15.818898ms
I1130 22:47:25.246071 15971 leveldb.cpp:401] Deleting ~2 keys from leveldb took 32062ns
I1130 22:47:25.246158 15971 replica.cpp:715] Persisted action at 8
I1130 22:47:25.246229 15971 replica.cpp:700] Replica learned TRUNCATE action at position 8
2015-11-30 22:47:25,512:15722(0x7fac4f257700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:37362] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:25,546:15722(0x7fac0effd700):ZOO_WARN@zookeeper_interest@1557: Exceeded deadline by 12ms
2015-11-30 22:47:25,547:15722(0x7fac0effd700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:38547] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:25,608:15722(0x7fac853c5700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:51060] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:26,089:15722(0x7fac1ffff700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:36764] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:26,480:15722(0x7fac4de51700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:59080] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:27,314:15722(0x7fac4e652700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:49113] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:27,477:15722(0x7fac84bc4700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:44051] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:27,725:15722(0x7fac0e7fc700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:50280] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:28,006:15722(0x7fac4d650700):ZOO_ERROR@handle_socket_error_msg@1697: Socket [127.0.0.1:58836] zk retcode=-4, errno=111(Connection refused): server refused to accept the client
2015-11-30 22:47:28,862:15722(0x7fac4f257700):ZOO_WARN@zookeeper_interest@1557: Exceeded deadline by 16ms
{noformat} 

Clang address sanitizer reports use-after-free errors for this test which appear to come from the libevent bindings; it attached a log. It might be a good idea to address that issue first.

commit 147895b4bd6c421ac15db043b8d243c07e44fd7c
Author: Vinod Kone <vinodkone@gmail.com>
Date:   Tue Jan 19 16:05:59 2016 -0800

    Temporarily disabled EventCallFramework test due to MESOS-3273.


Patch: https://reviews.apache.org/r/43286/

commit 67017f136b9820c493b9d861ccb7fc9e463dfa92
Author: Anand Mazumdar <mazumdar.anand@gmail.com>
Date:   Mon Feb 8 15:33:25 2016 -0800

    Re-enabled test ExamplesTest.EventCallFramework.
    
    Review: https://reviews.apache.org/r/43288/

commit 5e0f787fee8ad810ed6580cecdc2dc92644944ed
Author: Anand Mazumdar <mazumdar.anand@gmail.com>
Date:   Mon Feb 8 15:33:17 2016 -0800

    Replaced naked pointer with Owned.
    
    This trivial change replaces the old C style pointer with `process::Owned`.
    
    Review: https://reviews.apache.org/r/43287/

commit d68d3429fcfd351cd3f0907bc798bb3139ed0903
Author: Anand Mazumdar <mazumdar.anand@gmail.com>
Date:   Mon Feb 8 15:33:05 2016 -0800

    Fixed flakiness in ExamplesTest.EventCallFramework.
    
    The root cause is similar to r43285.
    
    Review: https://reviews.apache.org/r/43286/


