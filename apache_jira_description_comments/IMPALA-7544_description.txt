In a recent change we added some GDB helpers to enumerate fragment instances and query IDs. We should add a test to make it easier to add functionality in the future and prevent regressions, either by changing the script of by modifying Impala. Ideally the test would run a query and then pull a core, and we could also check in a compressed core file (if it is small enough) for faster iterations. The latter won't prevent regressions from changing Impala though.