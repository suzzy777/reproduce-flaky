Currently {{QueryEntity.setIndexes}} mutates provided index in order to set missing index name if needed. This is fundamentally wrong because validation must occur after everything is set, not before. 

This faulty approach worked fine before, when index name was not dependent on type name. But recent DDL changes broken it further, so now it is impossible to set indexes with null names before setting {{QueryEntity.typeName}}.