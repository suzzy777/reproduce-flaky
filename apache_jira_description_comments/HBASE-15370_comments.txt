I am working on the backport patch and running test suite based on the patch.

Will post the patch after test run.

A 731kb patch is too large to review here, mind putting it up on reviews.a.o ?

I'm going to close this issue if my note on the MOB thread is not addressed; i.e. the note on the end of the thread cited in the description above.

Perhaps the comment was cut off? I only see 
{quote}
On Mon, Feb 29, 2016 at 6:56 PM, Jonathan Hsieh <[EMAIL PROTECTED]> wrote:

though....
St.Ack
{quote}


Is this the note you were talking about ?

bq. This did not happen. The use case is to surface in another forum soon though.

My reading of the above is that the user case would surface somewhere - since the forum was not mentioned, I don't have clue where.

Please let me know what needs to be done to address the note.

This one:

{code}
from:	Stack <stack@duboce.net>
to:	HBase Dev List <dev@hbase.apache.org>
cc:	Hbase-User <user@hbase.apache.org>
date:	Tue, Mar 1, 2016 at 9:32 AM
subject:	Re: MOB in branch-1? (Re: [RESULT][VOTE] Merge branch hbase-11339 HBase MOB to trunk)
mailed-by:	gmail.com

On Mon, Feb 29, 2016 at 8:20 PM, Ted Yu <yuzhihong@gmail.com> wrote:
If there is no objection, I will create a backport JIRA tomorrow and attach patch.


I have objection to you doing it. MOB has spread all about master branch. Backport should be done by someone who knows MOB.

Higher up in this thread, Sean asks: "Can we get a [DISCUSS] flagged thread to see what, if anything, folks
would like to see gate inclusion in branch-1?"  Shouldn't we do this before we 'create a backport...'.

For me, there should be no new flakies in branch-1. Branch-1 builds are a hard-won stable(-ish). Looking at master build, MOB seems quiet lately but going by HBASE-15012, our flakies umbrella issue, I see notes that TestMobExportSnapshot has failed a few times (that is probably because the test it derives from is flakey) and TestMobRestoreFlushSnapshotFromClient gets a mention.

St.Ack
{code}


I searched my Inbox but didn't find the above comment. Assuming the above comment was made at 9:32 AM today, search-hadoop should have indexed it.

bq. Backport should be done by someone who knows MOB.

I have been reviewing MOB related code, porting it to branch-1, running MOB related tests, etc.
Of course there're people who are more familiar with MOB code. And I am fully open to their reviewing the backport patch.

bq.  there should be no new flakies in branch-1

I agree. That's was why I ran whole test suite (which passed) before attaching patch here. The backport patch should run through multiple QA runs before being considered stable.

bq. I see notes that TestMobExportSnapshot has failed a few times (that is probably because the test it derives from is flakey)

The test it derives from seems to be flaky. Let me loop TestMobExportSnapshot and TestMobRestoreFlushSnapshotFromClient on Linux to see if they fail with the backport.

FWIW, I think it's fine to have a backport patch here for discussion and review. Doesn't mean we commit it. I only commit to making a pass over whatever goes up on reviews.a.o. 

Edit: And count me as a stability skeptic as per [~stack]'s comment

https://reviews.apache.org/r/44246/

I don't see my mail in here either: https://mail-archives.apache.org/mod_mbox/hbase-dev/201603.mbox/browser  Maybe it is taking the long road:

{code}
MIME-Version: 1.0
Sender: saint.ack@gmail.com
Received: by 10.182.233.193 with HTTP; Tue, 1 Mar 2016 09:32:00 -0800 (PST)
In-Reply-To: <BB7DDD8F-FFC6-4F70-94F0-BD30C891EA89@gmail.com>
References: <CAPQQKxfnmY4h2UJKFrrzmWFaL5t8qnTzPAfoUdFctCay56Nrxg@mail.gmail.com>
	<CADcMMgFsEoi9KdPsBUq7Fp2b8wDTaFA2u1ZRtfGXT50qjSGh8A@mail.gmail.com>
	<CALvzVW1+7Kuj3LqPrcLCFmzN1iqqHeL-r5VN4H68+_=n=TbP4Q@mail.gmail.com>
	<CAGHyZ6KMd6QHW1-Pe3MpbL2DQG+0iKvHi503-vOFE8bfpe4zyg@mail.gmail.com>
	<CAPQQKxckWTMKaVQ2ZUk_PUJtszf0Vd__dXZY36khk0i04-UwNg@mail.gmail.com>
	<CA+RK=_B-HFSScfGtet8fTn__cJubxbRPYRifpqB2FJbnH=26NQ@mail.gmail.com>
	<CALte62xMKZx7vWs=Ph3Y3+X4doa-Cduo1FqFqqvcBpEG9-93WQ@mail.gmail.com>
	<EF3CF06F-9D1A-4AD5-A3B1-0BA5EE62D556@gmail.com>
	<CAAha9a2dt55Qqt9bups0oLPau0DjDSPXo3Csaoot8oPtLeNwsw@mail.gmail.com>
	<CAN5cbe7hxE7MFPWFe7S6N1OgUP7wfVWPSRVyyE5OhwfbsX7SwA@mail.gmail.com>
	<CA+RK=_BEkqtkxjrkEOtwMQcOMOzqKqb_4FTPK09wqDXnv+VtaQ@mail.gmail.com>
	<CALte62zDqHGyJYTw_nYNv66J730OK-tAmBtrLZ14giprK9_HZw@mail.gmail.com>
	<CA+RK=_Bas2130ZAH=E7mQj5WRbbE+ST-j7=P40WuONTJe7T_kQ@mail.gmail.com>
	<CAAha9a39bzEUXArBQow-yAc9d+CXxfVzpf5jLQ6nDCCr0suF6Q@mail.gmail.com>
	<97556505-2173-4849-8CCB-48488F167F61@gmail.com>
	<BB7DDD8F-FFC6-4F70-94F0-BD30C891EA89@gmail.com>
Date: Tue, 1 Mar 2016 09:32:00 -0800
Delivered-To: saint.ack@gmail.com
X-Google-Sender-Auth: MLC0CSlJonDUWnJxhyKi5wvrjtQ
Message-ID: <CADcMMgGOVuvwSpa7GPPb_0JXSd-VTc84FQrusJfeUj9GY3o30g@mail.gmail.com>
Subject: Re: MOB in branch-1? (Re: [RESULT][VOTE] Merge branch hbase-11339
 HBase MOB to trunk)
From: Stack <stack@duboce.net>
To: HBase Dev List <dev@hbase.apache.org>
Cc: Hbase-User <user@hbase.apache.org>
Content-Type: multipart/alternative; boundary=089e01537e449a3329052d00248b
...
{code}

Yeah, I think someone who knows MOB better is needed to land 750kb of patch in branch-1. I mean, you don't even list the JIRAs the 750kb includes nor how you derived it nor a commit log on what is coming back. Its a totally inscrutable blob.

Also looks like needs to be a DISCUSS thread too first.....

The mega patch was generated based on backport of:
http://issues.apache.org/jira/secure/attachment/12745292/11339-master-v10.patch

Then patches for the following JIRAs were applied:
{code}
commit 7368344585ff8414a3f396398c1937602d47d129
Author: Jonathan M Hsieh <jmhsieh@apache.org>
Date:   Mon Nov 2 05:03:38 2015 -0800

    HBASE-14731 Add -DuseMob option to ITBLL

commit 54b86b33940b57140d665a02156cfcf14ba792a2
HBASE-14500 Remove load of deprecated MOB ruby scripts after HBASE-14227

commit 02699fe967dde00cde3fc96af782401440dfe2ac
Author: chenheng <chenheng@fenbi.com>
Date:   Fri Sep 25 12:45:50 2015 +0800

    HBASE-14227 Fold special cased MOB APIs into existing APIs

commit 5e26ae043dde217aeda29d9b67e290728adade89
Author: Matteo Bertozzi <matteo.bertozzi@cloudera.com>
Date:   Wed Sep 23 10:43:31 2015 -0700

    HBASE-14466 Remove duplicated code from MOB snapshot tests
{code}

Looking at tail of:
https://builds.apache.org/job/PreCommit-HBASE-Build/785/console

I wonder if the test got stuck.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 53 new or modified test files. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 4m 46s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 18s {color} | {color:green} branch-1 passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 4m 25s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 2m 45s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 54s {color} | {color:green} branch-1 passed {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 11m 5s {color} | {color:red} branch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 19s {color} | {color:red} branch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 2m 50s {color} | {color:red} hbase-server in branch-1 has 1 extant Findbugs warnings. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 6m 12s {color} | {color:green} branch-1 passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 6m 3s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 5m 22s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 48s {color} | {color:green} the patch passed with JDK v1.8.0_72 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 26m 34s {color} | {color:red} root-jdk1.8.0_72 with JDK v1.8.0_72 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 26m 34s {color} | {color:red} hbase-server-jdk1.8.0_72 with JDK v1.8.0_72 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 48s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 1s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 31m 36s {color} | {color:red} root-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 31m 36s {color} | {color:red} hbase-server-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 5m 1s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 21s {color} | {color:red} Patch generated 60 new checkstyle issues in root (total was 251, now 305). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 16s {color} | {color:red} Patch generated 1 new checkstyle issues in hbase-client (total was 7, now 8). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 11s {color} | {color:red} Patch generated 2 new checkstyle issues in hbase-hadoop2-compat (total was 1, now 3). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 24s {color} | {color:red} Patch generated 57 new checkstyle issues in hbase-server (total was 240, now 291). {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 3m 15s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} rubocop {color} | {color:red} 0m 14s {color} | {color:red} The applied patch generated 39 new rubocop issues (total was 678, now 708). {color} |
| {color:red}-1{color} | {color:red} ruby-lint {color} | {color:red} 0m 7s {color} | {color:red} The applied patch generated 70 new ruby-lint issues (total was 495, now 565). {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 1 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 15 line(s) with tabs. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 1s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 7m 21s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.1 2.5.2 2.6.0. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 12m 17s {color} | {color:red} patch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 21s {color} | {color:red} patch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 3m 31s {color} | {color:red} hbase-server introduced 1 new FindBugs issues. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 7m 37s {color} | {color:green} the patch passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 7m 11s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 42m 57s {color} | {color:red} root in the patch failed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 29s {color} | {color:green} hbase-client in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 3m 2s {color} | {color:green} hbase-common in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 43s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 32s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 36s {color} | {color:green} hbase-it in the patch passed with JDK v1.8.0_72. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 167m 21s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 36s {color} | {color:green} hbase-shell in the patch passed with JDK v1.8.0_72. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 191m 20s {color} | {color:red} root in the patch failed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 7s {color} | {color:green} hbase-client in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 30s {color} | {color:green} hbase-common in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 37s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 31s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 36s {color} | {color:green} hbase-it in the patch passed with JDK v1.7.0_95. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 25m 53s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 26s {color} | {color:green} hbase-shell in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 1m 57s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 562m 44s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hbase-server |
|  |  Exception is caught when Exception is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:[line 108] |
| JDK v1.8.0_72 Failed junit tests | hadoop.hbase.regionserver.TestFailedAppendAndSync |
|   | hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController |
|   | hadoop.hbase.regionserver.TestFailedAppendAndSync |
|   | hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController |
| JDK v1.8.0_72 Timed out junit tests | org.apache.hadoop.hbase.regionserver.TestHRegion |
| JDK v1.7.0_95 Failed junit tests | hadoop.hbase.thrift.TestThriftHttpServer |
|   | hadoop.hbase.ipc.TestSimpleRpcScheduler |
|   | hadoop.hbase.ipc.TestSimpleRpcScheduler |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.9.1 Server=1.9.1 Image:yetus/hbase:date2016-03-02 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12790818/HBASE-15370-branch-1.v1.patch |
| JIRA Issue | HBASE-15370 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  xml  rubocop  ruby_lint  |
| uname | Linux b69e10b98f26 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/hbase.sh |
| git revision | branch-1 / 404e914 |
| findbugs | v3.0.0 |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/branch-findbugs-hbase-server-warnings.html |
| javac | root-jdk1.8.0_72: https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-compile-javac-root-jdk1.8.0_72.txt |
| javac | hbase-server-jdk1.8.0_72: https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.8.0_72.txt |
| javac | root-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-compile-javac-root-jdk1.7.0_95.txt |
| javac | hbase-server-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.7.0_95.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-checkstyle-hbase-hadoop2-compat.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.37.2 |
| rubocop | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-patch-rubocop.txt |
| ruby-lint | v2.1.0 |
| ruby-lint | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-patch-ruby-lint.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/whitespace-eol.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/whitespace-tabs.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/new-findbugs-hbase-server.html |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-root-jdk1.8.0_72.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_72.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-root-jdk1.7.0_95.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-hbase-server-jdk1.7.0_95.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-root-jdk1.8.0_72.txt https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_72.txt https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-root-jdk1.7.0_95.txt https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/patch-unit-hbase-server-jdk1.7.0_95.txt |
| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/785/testReport/ |
| modules | C: . hbase-client hbase-common hbase-hadoop2-compat hbase-hadoop-compat hbase-it hbase-server hbase-shell U: . |
| Max memory used | 213MB |
| Powered by | Apache Yetus 0.1.0   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/785/console |


This message was automatically generated.



Attaching test output where TestMobExportSnapshot and TestMobRestoreFlushSnapshotFromClient were run 30 times, respectively.

All passed.

None of the failed tests above were related to MOB or snapshot.
Some of them failed in recent Jenkins builds:
{code}
Fetching https://builds.apache.org/job/HBase-1.3/583/jdk=latest1.8,label=yahoo-not-h2/console
Printing hanging tests
Hanging test : org.apache.hadoop.hbase.regionserver.TestHRegion
Printing Failing tests
{code}
TestFlushWithThroughputController failed here:
https://builds.apache.org/job/HBase-1.3/582/testReport/

Ran the failed tests locally:
{code}
Running org.apache.hadoop.hbase.regionserver.TestHRegion
Tests run: 102, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 389.037 sec - in org.apache.hadoop.hbase.regionserver.TestHRegion
Running org.apache.hadoop.hbase.regionserver.TestFailedAppendAndSync
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.545 sec - in org.apache.hadoop.hbase.regionserver.TestFailedAppendAndSync
Running org.apache.hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 121.348 sec - in org.apache.hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController
Running org.apache.hadoop.hbase.thrift.TestThriftHttpServer
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.527 sec - in org.apache.hadoop.hbase.thrift.TestThriftHttpServer
{code}

Among the checkstyle warnings:
{code}
./hbase-server/src/main/java/org/apache/hadoop/hbase/mob/compactions/MobCompactor.java:42:24: Variable 'fs' must be private and have accessor methods.
./hbase-server/src/main/java/org/apache/hadoop/hbase/mob/compactions/MobCompactor.java:43:27: Variable 'conf' must be private and have accessor methods.
{code}
I plan to hold off addressing such warnings partly because this would create some discrepancy between the backport and existing code in master branch.


| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 1s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 53 new or modified test files. {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 0m 53s {color} | {color:red} branch's . dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 1m 19s {color} | {color:red} branch's hbase-client dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 1m 33s {color} | {color:red} branch's hbase-common dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 1m 42s {color} | {color:red} branch's hbase-hadoop2-compat dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 1m 46s {color} | {color:red} branch's hbase-hadoop-compat dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 1m 59s {color} | {color:red} branch's hbase-it dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 2m 42s {color} | {color:red} branch's hbase-server dependency:list failed {color} |
| {color:red}-1{color} | {color:red} mvndep {color} | {color:red} 2m 51s {color} | {color:red} branch's hbase-shell dependency:list failed {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 2m 51s {color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 24s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 38s {color} | {color:green} branch-1 passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 50s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 7m 8s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 57s {color} | {color:green} branch-1 passed {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue} 0m 0s {color} | {color:blue} Skipped branch modules with no Java source: . {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 12s {color} | {color:red} branch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 55s {color} | {color:green} branch-1 passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 54s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 1m 2s {color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 3m 29s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 41s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 41s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 50s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 10m 2s {color} | {color:red} hbase-server-jdk1.7.0_95 with JDK v1.7.0_95 generated 2 new + 4 unchanged - 2 fixed = 6 total (was 6) {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 10m 2s {color} | {color:red} root-jdk1.7.0_95 with JDK v1.7.0_95 generated 2 new + 15 unchanged - 2 fixed = 17 total (was 17) {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 50s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 11s {color} | {color:green} hbase-common: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-client: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-hadoop-compat: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-hadoop2-compat: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-server: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 11s {color} | {color:green} root: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-shell: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 0m 10s {color} | {color:green} hbase-it: patch generated 0 new + 3 unchanged - 248 fixed = 3 total (was 251) {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 50s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} rubocop {color} | {color:red} 0m 10s {color} | {color:red} The applied patch generated 41 new + 667 unchanged - 11 fixed = 708 total (was 678) {color} |
| {color:red}-1{color} | {color:red} ruby-lint {color} | {color:red} 0m 3s {color} | {color:red} The applied patch generated 70 new + 495 unchanged - 0 fixed = 565 total (was 495) {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 1 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 1s {color} | {color:red} The patch has 15 line(s) with tabs. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 0s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 4m 14s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.1 2.5.2 2.6.0. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue} 0m 0s {color} | {color:blue} Skipped patch modules with no Java source: . {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 2m 6s {color} | {color:red} hbase-server generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 13s {color} | {color:red} patch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 51s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 56s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 32s {color} | {color:green} hbase-common in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 25s {color} | {color:green} hbase-client in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 14s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 16s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 89m 14s {color} | {color:green} hbase-server in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 118m 54s {color} | {color:green} root in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 17s {color} | {color:green} hbase-shell in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 17s {color} | {color:green} hbase-it in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 50s {color} | {color:green} hbase-common in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 38s {color} | {color:green} hbase-client in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 21s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 24s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 95m 19s {color} | {color:green} hbase-server in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 120m 46s {color} | {color:green} root in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 19s {color} | {color:green} hbase-shell in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 23s {color} | {color:green} hbase-it in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 1m 49s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 509m 30s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hbase-server |
|  |  Exception is caught when Exception is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:[line 108] |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.9.1 Server=1.9.1 Image:yetus/hbase:date2016-03-02 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12790818/HBASE-15370-branch-1.v1.patch |
| JIRA Issue | HBASE-15370 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  xml  rubocop  ruby_lint  |
| uname | Linux 717f5ea9921d 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/hbase.sh |
| git revision | branch-1 / 77c3c61 |
| Default Java | 1.7.0_95 |
| Multi-JDK versions |  /usr/lib/jvm/java-8-oracle:1.8.0_74 /usr/lib/jvm/java-7-openjdk-amd64:1.7.0_95 |
| mvndep | root: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-root.txt |
| mvndep | hbase-client: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-client.txt |
| mvndep | hbase-common: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-common.txt |
| mvndep | hbase-hadoop2-compat: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-hadoop2-compat.txt |
| mvndep | hbase-hadoop-compat: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-hadoop-compat.txt |
| mvndep | hbase-it: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-it.txt |
| mvndep | hbase-server: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-server.txt |
| mvndep | hbase-shell: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/maven-branch-dependencylist-hbase-shell.txt |
| findbugs | v3.0.0 |
| javac | hbase-server-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.7.0_95.txt |
| javac | root-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/diff-compile-javac-root-jdk1.7.0_95.txt |
| rubocop | v0.37.2 |
| rubocop | https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/diff-patch-rubocop.txt |
| ruby-lint | v2.1.0 |
| ruby-lint | https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/diff-patch-ruby-lint.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/whitespace-eol.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/whitespace-tabs.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/797/artifact/patchprocess/new-findbugs-hbase-server.html |
| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/797/testReport/ |
| modules | C:  hbase-common   hbase-client   hbase-hadoop-compat   hbase-hadoop2-compat   hbase-server   .   hbase-shell   hbase-it  U: . |
| Max memory used | 126MB |
| Powered by | Apache Yetus 0.2.0-SNAPSHOT   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/797/console |


This message was automatically generated.



I would also like a properly labeled [DISCUSS] thread for what gates the backport getting applied to branch-1, similar to how we agreed to set a threshold on the hbase-spark work.

I looked for [DISCUSS] thread in my Inbox and using search-hadoop.com - haven't found one.

[~busbey]:
Mind refreshing my memory so that I can use it as a template ?

Thanks

How about the following as a starting point for thread on dev@hbase ?

[DISCUSS] Criteria for including MOB feature backport in branch-1

This is to solicit discussion on the criteria for including MOB feature backport in branch-1.

I can think of the following:
1. whether there is customer interest

There is.
See Jonathan's response here: http://search-hadoop.com/m/YGbbDSqxD1PYXK62

2. whether unit test stability can be maintained in branch-1

Inclusion of the backport should keep unit tests (both existing and new) in branch-1 green.
Preliminary test runs showed that MOB / snapshot related tests consistently pass.

https://issues.apache.org/jira/browse/HBASE-15370?focusedCommentId=15176094&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15176094

Comments are welcome

From https://builds.apache.org/job/PreCommit-HBASE-Build/785/artifact/patchprocess/diff-patch-ruby-lint.txt :
{code}
/testptch/hbase/hbase-shell/src/main/ruby/hbase/admin.rb:E:69:26: undefined method org
/testptch/hbase/hbase-shell/src/main/ruby/hbase/admin.rb:E:70:11: undefined constant ::(send nil :org)::(send
/testptch/hbase/hbase-shell/src/main/ruby/hbase/admin.rb:E:70:11: undefined constant ::(send nil :org)::(send
/testptch/hbase/hbase-shell/src/main/ruby/hbase/admin.rb:E:70:11: undefined method org
/testptch/hbase/hbase-shell/src/main/ruby/hbase/admin.rb:E:73:26: undefined method org
{code}
Here is relevant code in admin.rb around line 69:
{code}
          @admin.compact(org.apache.hadoop.hbase.TableName.valueOf(table_or_region_name),
          org.apache.hadoop.hbase.client.Admin::CompactType::MOB)
{code}
'org' is not method name.
Not sure how ruby lint deduces the warning.

Patch v2 tries to fix checkstyle warnings.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 53 new or modified test files. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 13s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 5m 37s {color} | {color:green} branch-1 passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 4m 26s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 2m 38s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 49s {color} | {color:green} branch-1 passed {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 9m 3s {color} | {color:red} branch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 13s {color} | {color:red} branch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 50s {color} | {color:green} branch-1 passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 4m 5s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 3m 44s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 3m 25s {color} | {color:green} the patch passed with JDK v1.8.0_72 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 17m 11s {color} | {color:red} root-jdk1.8.0_72 with JDK v1.8.0_72 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 17m 11s {color} | {color:red} hbase-server-jdk1.8.0_72 with JDK v1.8.0_72 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 3m 25s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 59s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 20m 11s {color} | {color:red} root-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 20m 11s {color} | {color:red} hbase-server-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 59s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 52s {color} | {color:red} Patch generated 60 new checkstyle issues in root (total was 251, now 305). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 10s {color} | {color:red} Patch generated 1 new checkstyle issues in hbase-client (total was 7, now 8). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 7s {color} | {color:red} Patch generated 2 new checkstyle issues in hbase-hadoop2-compat (total was 1, now 3). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 16s {color} | {color:red} Patch generated 57 new checkstyle issues in hbase-server (total was 240, now 291). {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 1s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} rubocop {color} | {color:red} 0m 12s {color} | {color:red} The applied patch generated 39 new rubocop issues (total was 678, now 708). {color} |
| {color:red}-1{color} | {color:red} ruby-lint {color} | {color:red} 0m 5s {color} | {color:red} The applied patch generated 70 new ruby-lint issues (total was 495, now 565). {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 1s {color} | {color:red} The patch has 1 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 1s {color} | {color:red} The patch has 15 line(s) with tabs. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 1s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 4m 47s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.1 2.5.2 2.6.0. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 7m 46s {color} | {color:red} patch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 14s {color} | {color:red} patch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 2m 30s {color} | {color:red} hbase-server introduced 1 new FindBugs issues. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 7m 27s {color} | {color:green} the patch passed with JDK v1.8.0_72 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 6m 8s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 36m 35s {color} | {color:red} root in the patch failed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 49s {color} | {color:green} hbase-client in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 8s {color} | {color:green} hbase-common in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 25s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 20s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 23s {color} | {color:green} hbase-it in the patch passed with JDK v1.8.0_72. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 25m 14s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0_72. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 33s {color} | {color:green} hbase-shell in the patch passed with JDK v1.8.0_72. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 29m 10s {color} | {color:red} root in the patch failed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 45s {color} | {color:green} hbase-client in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 54s {color} | {color:green} hbase-common in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 23s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 18s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 19s {color} | {color:green} hbase-it in the patch passed with JDK v1.7.0_95. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 137m 12s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 35s {color} | {color:green} hbase-shell in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 2m 56s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 329m 40s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hbase-server |
|  |  Exception is caught when Exception is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:is not thrown in org.apache.hadoop.hbase.master.ExpiredMobFileCleanerChore.chore()  At ExpiredMobFileCleanerChore.java:[line 108] |
| JDK v1.8.0_72 Failed junit tests | hadoop.hbase.ipc.TestSimpleRpcScheduler |
|   | hadoop.hbase.ipc.TestSimpleRpcScheduler |
| JDK v1.7.0_95 Failed junit tests | hadoop.hbase.mapreduce.TestImportExport |
|   | hadoop.hbase.coprocessor.TestRowProcessorEndpoint |
|   | hadoop.hbase.mapreduce.TestImportExport |
|   | hadoop.hbase.coprocessor.TestRowProcessorEndpoint |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.9.1 Server=1.9.1 Image:yetus/hbase:date2016-03-02 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12790818/HBASE-15370-branch-1.v1.patch |
| JIRA Issue | HBASE-15370 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  xml  rubocop  ruby_lint  |
| uname | Linux 9c35f5423c57 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/hbase.sh |
| git revision | branch-1 / 77c3c61 |
| findbugs | v3.0.0 |
| javac | root-jdk1.8.0_72: https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-compile-javac-root-jdk1.8.0_72.txt |
| javac | hbase-server-jdk1.8.0_72: https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.8.0_72.txt |
| javac | root-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-compile-javac-root-jdk1.7.0_95.txt |
| javac | hbase-server-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.7.0_95.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-checkstyle-hbase-hadoop2-compat.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.37.2 |
| rubocop | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-patch-rubocop.txt |
| ruby-lint | v2.1.0 |
| ruby-lint | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/diff-patch-ruby-lint.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/whitespace-eol.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/whitespace-tabs.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/new-findbugs-hbase-server.html |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-root-jdk1.8.0_72.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_72.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-root-jdk1.7.0_95.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-hbase-server-jdk1.7.0_95.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-root-jdk1.8.0_72.txt https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_72.txt https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-root-jdk1.7.0_95.txt https://builds.apache.org/job/PreCommit-HBASE-Build/806/artifact/patchprocess/patch-unit-hbase-server-jdk1.7.0_95.txt |
| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/806/testReport/ |
| modules | C: . hbase-client hbase-common hbase-hadoop2-compat hbase-hadoop-compat hbase-it hbase-server hbase-shell U: . |
| Max memory used | 124MB |
| Powered by | Apache Yetus 0.1.0   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/806/console |


This message was automatically generated.



mob-cmmits.txt contains the commit hashes related to MOB with most recent commit first.

This looks like a fine email for starting the thread.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue} 0m 0s {color} | {color:blue} Docker mode activated. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 53 new or modified test files. {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 4m 3s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 58s {color} | {color:green} branch-1 passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 3m 13s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 2m 0s {color} | {color:green} branch-1 passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 11s {color} | {color:green} branch-1 passed {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 7m 45s {color} | {color:red} branch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 14s {color} | {color:red} branch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 33s {color} | {color:green} branch-1 passed with JDK v1.8.0_74 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 4m 21s {color} | {color:green} branch-1 passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 4m 20s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 3m 16s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 17m 47s {color} | {color:red} root-jdk1.8.0_74 with JDK v1.8.0_74 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 17m 47s {color} | {color:red} hbase-server-jdk1.8.0_74 with JDK v1.8.0_74 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 3m 16s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 3m 29s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 21m 16s {color} | {color:red} root-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 17, now 17). {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 21m 16s {color} | {color:red} hbase-server-jdk1.7.0_95 with JDK v1.7.0_95 generated 6 new issues (was 6, now 6). {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 3m 29s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 51s {color} | {color:red} Patch generated 40 new checkstyle issues in root (total was 251, now 284). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 11s {color} | {color:red} Patch generated 1 new checkstyle issues in hbase-client (total was 7, now 8). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 7s {color} | {color:red} Patch generated 2 new checkstyle issues in hbase-hadoop2-compat (total was 1, now 3). {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 0m 16s {color} | {color:red} Patch generated 37 new checkstyle issues in hbase-server (total was 240, now 270). {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 9s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} rubocop {color} | {color:red} 0m 10s {color} | {color:red} The applied patch generated 39 new rubocop issues (total was 678, now 708). {color} |
| {color:red}-1{color} | {color:red} ruby-lint {color} | {color:red} 0m 5s {color} | {color:red} The applied patch generated 70 new ruby-lint issues (total was 495, now 565). {color} |
| {color:red}-1{color} | {color:red} whitespace {color} | {color:red} 0m 0s {color} | {color:red} The patch has 1 line(s) that end in whitespace. Use git apply --whitespace=fix. {color} |
| {color:green}+1{color} | {color:green} xml {color} | {color:green} 0m 1s {color} | {color:green} The patch has no ill-formed XML file. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 6m 11s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.1 2.5.2 2.6.0. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 7m 45s {color} | {color:red} patch/. no findbugs output file (./target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 15s {color} | {color:red} patch/hbase-it no findbugs output file (hbase-it/target/findbugsXml.xml) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 41s {color} | {color:red} root-jdk1.8.0_74 with JDK v1.8.0_74 generated 1 new issues (was 1, now 2). {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 42s {color} | {color:red} hbase-server-jdk1.8.0_74 with JDK v1.8.0_74 generated 1 new issues (was 1, now 2). {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 30s {color} | {color:green} the patch passed with JDK v1.8.0_74 {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 10m 32s {color} | {color:red} root-jdk1.7.0_95 with JDK v1.7.0_95 generated 1 new issues (was 4, now 5). {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 10m 32s {color} | {color:red} hbase-server-jdk1.7.0_95 with JDK v1.7.0_95 generated 1 new issues (was 1, now 2). {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 4m 49s {color} | {color:green} the patch passed with JDK v1.7.0_95 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 146m 25s {color} | {color:green} root in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 49s {color} | {color:green} hbase-client in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 53s {color} | {color:green} hbase-common in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 29s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 24s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 26s {color} | {color:green} hbase-it in the patch passed with JDK v1.8.0_74. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 118m 4s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 23s {color} | {color:green} hbase-shell in the patch passed with JDK v1.8.0_74. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 155m 35s {color} | {color:green} root in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 47s {color} | {color:green} hbase-client in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 2m 1s {color} | {color:green} hbase-common in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 27s {color} | {color:green} hbase-hadoop2-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 24s {color} | {color:green} hbase-hadoop-compat in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 25s {color} | {color:green} hbase-it in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 122m 1s {color} | {color:green} hbase-server in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 29s {color} | {color:green} hbase-shell in the patch passed with JDK v1.7.0_95. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 2m 4s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 654m 40s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| JDK v1.8.0_74 Failed junit tests | hadoop.hbase.mapreduce.TestImportExport |
|   | hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController |
|   | hadoop.hbase.regionserver.TestAtomicOperation |
|   | hadoop.hbase.mapreduce.TestImportExport |
|   | hadoop.hbase.regionserver.throttle.TestFlushWithThroughputController |
|   | hadoop.hbase.regionserver.TestAtomicOperation |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=1.9.1 Server=1.9.1 Image:yetus/hbase:date2016-03-02 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12791022/HBASE-15370-branch-1.v2.patch |
| JIRA Issue | HBASE-15370 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  xml  rubocop  ruby_lint  |
| uname | Linux 00d00c21e23d 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/hbase.sh |
| git revision | branch-1 / 77c3c61 |
| findbugs | v3.0.0 |
| javac | root-jdk1.8.0_74: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-compile-javac-root-jdk1.8.0_74.txt |
| javac | hbase-server-jdk1.8.0_74: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.8.0_74.txt |
| javac | root-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-compile-javac-root-jdk1.7.0_95.txt |
| javac | hbase-server-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-compile-javac-hbase-server-jdk1.7.0_95.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-checkstyle-root.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-checkstyle-hbase-hadoop2-compat.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| rubocop | v0.37.2 |
| rubocop | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-patch-rubocop.txt |
| ruby-lint | v2.1.0 |
| ruby-lint | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-patch-ruby-lint.txt |
| whitespace | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/whitespace-eol.txt |
| javadoc | root-jdk1.8.0_74: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-javadoc-javadoc-root-jdk1.8.0_74.txt |
| javadoc | hbase-server-jdk1.8.0_74: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.8.0_74.txt |
| javadoc | root-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-javadoc-javadoc-root-jdk1.7.0_95.txt |
| javadoc | hbase-server-jdk1.7.0_95: https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.7.0_95.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_74.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/patch-unit-root-jdk1.8.0_74.txt https://builds.apache.org/job/PreCommit-HBASE-Build/809/artifact/patchprocess/patch-unit-hbase-server-jdk1.8.0_74.txt |
| JDK v1.7.0_95  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/809/testReport/ |
| modules | C: . hbase-client hbase-common hbase-hadoop2-compat hbase-hadoop-compat hbase-it hbase-server hbase-shell U: . |
| Max memory used | 128MB |
| Powered by | Apache Yetus 0.1.0   http://yetus.apache.org |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/809/console |


This message was automatically generated.



Gone through MOB related commits one more time.

mob-commits-v2.txt is up-to-date list of commits.

I sent an email to dev@hbase @ 9:02 AM

Looks like there might be problem on email server.

I tried to follow [~jmhsieh]'s proposal:

create branch hbase-15370 off of branch-1
merge branch hbase-11339 into hbase-15370

merge-conflict.list is the list of files where there is conflict - there are 1626 files.
Some of which are obviously not related to MOB feature.


Hey [~tedyu], sorry if it wasn't clear -- I was suggesting:

1) create hbase-15370 branch from current hbase-11339 branch.
2) backport post hbase-11339 merge patches from trunk to hbase-15370  (with quick reviews)
3) periodically merge branch-1 into hbase-15370.  This let's us clearly see the deltas that were fixed with these merges and doesn't "pollute" branch-1.  
4) when things are stable, call branch merge vote.

Thanks [~jmhsieh] for the quick response.

bq. periodically merge branch-1 into hbase-15370

Shouldn't this be done after the hbase-15370 branch is created ?
Reasoning is that post hbase-11339 merge patches are not in branch-1. This would make merging hbase-15370 branch into branch-1 a lot easier.
If so, wouldn't we encounter the same number of merge conflicts merging branch-1 to hbase-15370 branch ?

Another approach is to apply the identified commits related to MOB in reverse chronological order on hbase-15370 branch.

This way, every commit is reviewable.
The amount of work is not trivial. Working on integrating the first commit (HBASE-11643), there were compilation errors after resolving rejected hunks.

Judging from response from the community, the backport wouldn't be done.

Though this closed I wanted to address the questions here.  Here's a rough picture of what I was thinking the tree would look like after a successful merge.

{code}
t# = trunk commit
b# = branch-1 commit
x# = hbase-11339 commit
y# = hbase-15370 commit.

    
   ..    
   b7    Life in branch-1 goes on as normal
   b6    Merge into branch-1
   |\  
   | +y5 Merge attempt after vote passes into hbase-15370
   |/ |  
  b5  |  Random branch-1 commit
  b4  |  Random branch-1 commit
   |\ |
   | +y4 Merge attempt of branch-1 into hbase-15370 (vote called)
   |/ y3 (last backport of mob feature from trunk)
   |  y2 ..
   |  y1 (backport of mob feature from trunk)
. b3  |
. b2  |
| b1  |
|/    |
|     |
t2    |  hbase-11339 merged to trunk  (trunk is no longer interesting after this)
| \  /
|  x1 (last commit of hbase-11339 before merge to trunk)
|  x0
| / 
t1    (last merge with trunk and hbase-11339)      
..


{code}

This is recent thread on backporting where consensus is not to backport:
http://search-hadoop.com/m/HBase/YGbb2NdxC1okisI1?subj=Re+HBASE+and+MOB

FWIW, I wouldn't say that thread has run its course yet. I agree that it looks like things are bending towards no backport.

