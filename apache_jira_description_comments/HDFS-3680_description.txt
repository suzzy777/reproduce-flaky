Currently, FSNamesystem writes audit logs to a logger; that makes it easy to get audit logs in some log file. But it makes it kinda tricky to store audit logs in any other way (let's say a database), because it would require the code to implement a log appender (and thus know what logging system is actually being used underneath the fa√ßade), and parse the textual log message generated by FSNamesystem.

I'm attaching a patch that introduces a cleaner interface for this use case.