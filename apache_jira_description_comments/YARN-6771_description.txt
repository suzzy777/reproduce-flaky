While running {{RpcClientFactoryPBImpl.getClient}}, {{RpcClientFactoryPBImpl}} uses {{localConf.getClassByName}}. But in case of using custom classloader, we have to use {{conf.getClassByName}} because custom classloader is already stored in {{Configuration}} class.