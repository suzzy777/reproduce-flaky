Observed again in an internal CI:
{code}
[ RUN ] SlaveTest.HTTPExecutorBadAuthentication
I0806 19:47:36.422247 21850 cluster.cpp:177] Creating default 'local' authorizer
I0806 19:47:36.423265 21853 master.cpp:440] Master 72aa280d-6cd9-4e61-823b-48b59fdbae4a (localhost) started on 127.0.0.1:40941
I0806 19:47:36.423283 21853 master.cpp:443] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="1secs" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authentication_v0_timeout="15secs" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/SGimql/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_operator_event_stream_subscribers="1000" --max_unreachable_tasks_per_framework="1000" --memory_profiling="false" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --publish_per_framework_metrics="true" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --require_agent_domain="false" --role_sorter="drf" --root_submissions="true" --version="false" --webui_dir="/usr/local/share/mesos/webui" --work_dir="/tmp/SGimql/master" --zk_session_timeout="10secs"
W0806 19:47:36.423420 21853 master.cpp:446] 
**************************************************
Master bound to loopback interface! Cannot communicate with remote schedulers or agents. You might want to set '--ip' flag to a routable IP address.
**************************************************
I0806 19:47:36.423445 21853 master.cpp:492] Master only allowing authenticated frameworks to register
I0806 19:47:36.423452 21853 master.cpp:498] Master only allowing authenticated agents to register
I0806 19:47:36.423457 21853 master.cpp:504] Master only allowing authenticated HTTP frameworks to register
I0806 19:47:36.423463 21853 credentials.hpp:37] Loading credentials for authentication from '/tmp/SGimql/credentials'
I0806 19:47:36.423555 21853 master.cpp:548] Using default 'crammd5' authenticator
I0806 19:47:36.423599 21853 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
I0806 19:47:36.423638 21853 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
I0806 19:47:36.423662 21853 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
I0806 19:47:36.423691 21853 master.cpp:629] Authorization enabled
I0806 19:47:36.424396 21858 hierarchical.cpp:241] Initialized hierarchical allocator process
I0806 19:47:36.424439 21853 master.cpp:2168] Elected as the leading master!
I0806 19:47:36.424453 21853 master.cpp:1664] Recovering from registrar
I0806 19:47:36.424485 21853 registrar.cpp:339] Recovering registrar
I0806 19:47:36.424626 21853 registrar.cpp:383] Successfully fetched the registry (0B) in 126976ns
I0806 19:47:36.424659 21853 registrar.cpp:487] Applied 1 operations in 8685ns; attempting to update the registry
I0806 19:47:36.424399 21857 whitelist_watcher.cpp:77] No whitelist given
I0806 19:47:36.425123 21853 registrar.cpp:544] Successfully updated the registry in 446208ns
I0806 19:47:36.425156 21853 registrar.cpp:416] Successfully recovered registrar
I0806 19:47:36.425269 21853 master.cpp:1817] Recovered 0 agents from the registry (135B); allowing 10mins for agents to reregister
I0806 19:47:36.425326 21853 hierarchical.cpp:280] Skipping recovery of hierarchical allocator: nothing to recover
W0806 19:47:36.427067 21850 process.cpp:2877] Attempted to spawn already running process files@127.0.0.1:40941
I0806 19:47:36.427402 21850 cluster.cpp:518] Creating default 'local' authorizer
I0806 19:47:36.428055 21857 slave.cpp:267] Mesos agent started on (644)@127.0.0.1:40941
W0806 19:47:36.428203 21850 scheduler.cpp:174] 
**************************************************
Scheduler driver bound to loopback interface! Cannot communicate with remote master(s). You might want to set 'LIBPROCESS_IP' environment variable to use a routable IP address.
**************************************************
I0806 19:47:36.428071 21857 slave.cpp:268] Flags at startup: --acls="" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/SGimql/ND3UTT/store/appc" --authenticate_http_executors="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authentication_timeout_max="1mins" --authentication_timeout_min="5secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_destroy_timeout="1mins" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos_test_8b3314d3-70e1-4488-9da4-880d73a7295c" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/SGimql/ND3UTT/credential" --default_role="*" --disallow_sharing_agent_ipc_namespace="false" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_ignore_runtime="false" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/SGimql/ND3UTT/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/SGimql/ND3UTT/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="/tmp/SGimql/ND3UTT/frameworks" --gc_delay="1weeks" --gc_disk_headroom="0.1" --gc_non_executor_container_sandboxes="false" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/SGimql/ND3UTT/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="cgroups/cpu,cgroups/mem" --jwt_secret_key="/tmp/SGimql/ND3UTT/jwt_secret_key" --launcher="linux" --launcher_dir="/home/admin/workspace/mesos/Mesos_CI-build/FLAG/SSL/label/mesos-ec2-debian-9/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --memory_profiling="false" --network_cni_metrics="true" --network_cni_root_dir_persist="false" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --reconfiguration_policy="equal" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="cpus:2;gpus:0;mem:1024;disk:1024;ports:[31000-32000]" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/SlaveTest_HTTPExecutorBadAuthentication_iX9I42" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc" --zk_session_timeout="10secs"
W0806 19:47:36.428256 21857 slave.cpp:271] 
**************************************************
Agent bound to loopback interface! Cannot communicate with remote master(s). You might want to set '--ip' flag to a routable IP address.
**************************************************
I0806 19:47:36.428267 21857 credentials.hpp:86] Loading credential for authentication from '/tmp/SGimql/ND3UTT/credential'
I0806 19:47:36.428311 21857 slave.cpp:300] Agent using credential for: test-principal
I0806 19:47:36.428323 21857 credentials.hpp:37] Loading credentials for authentication from '/tmp/SGimql/ND3UTT/http_credentials'
I0806 19:47:36.428383 21857 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-executor'
I0806 19:47:36.428416 21857 http.cpp:996] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-executor'
I0806 19:47:36.428462 21857 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
I0806 19:47:36.428503 21857 http.cpp:996] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-readonly'
I0806 19:47:36.428537 21857 http.cpp:975] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readwrite'
I0806 19:47:36.428555 21857 http.cpp:996] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-readwrite'
I0806 19:47:36.428608 21857 disk_profile_adaptor.cpp:78] Creating default disk profile adaptor module
I0806 19:47:36.428230 21850 scheduler.cpp:189] Version: 1.9.0
I0806 19:47:36.429250 21857 slave.cpp:615] Agent resources: [\{"name":"cpus","scalar":{"value":2.0},"type":"SCALAR"},\{"name":"mem","scalar":{"value":1024.0},"type":"SCALAR"},\{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},\{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
I0806 19:47:36.429324 21857 slave.cpp:623] Agent attributes: [ ]
I0806 19:47:36.429333 21857 slave.cpp:632] Agent hostname: localhost
I0806 19:47:36.429574 21857 scheduler.cpp:342] Using default 'basic' HTTP authenticatee
I0806 19:47:36.429625 21857 task_status_update_manager.cpp:181] Pausing sending task status updates
I0806 19:47:36.429661 21857 status_update_manager_process.hpp:379] Pausing operation status update manager
I0806 19:47:36.429810 21857 state.cpp:67] Recovering state from '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/meta'
I0806 19:47:36.429883 21857 slave.cpp:7444] Finished recovering checkpointed state from '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/meta', beginning agent recovery
I0806 19:47:36.429957 21857 scheduler.cpp:525] New master detected at master@127.0.0.1:40941
I0806 19:47:36.429973 21857 scheduler.cpp:534] Waiting for 0ns before initiating a re-(connection) attempt with the master
I0806 19:47:36.430037 21857 task_status_update_manager.cpp:207] Recovering task status update manager
I0806 19:47:36.430233 21857 composing.cpp:339] Finished recovering all containerizers
I0806 19:47:36.430289 21857 slave.cpp:7908] Recovering executors
I0806 19:47:36.430308 21857 slave.cpp:8061] Finished recovery
I0806 19:47:36.430665 21857 slave.cpp:1351] New master detected at master@127.0.0.1:40941
I0806 19:47:36.430694 21857 slave.cpp:1416] Detecting new master
I0806 19:47:36.430719 21857 task_status_update_manager.cpp:181] Pausing sending task status updates
I0806 19:47:36.430732 21857 status_update_manager_process.hpp:379] Pausing operation status update manager
I0806 19:47:36.431175 21858 scheduler.cpp:416] Connected with the master at http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.431641 21856 scheduler.cpp:246] Adding authentication headers to SUBSCRIBE call to http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.431751 21856 scheduler.cpp:600] Sending SUBSCRIBE call to http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.432022 21852 process.cpp:3671] Handling HTTP event for process 'master' with path: '/master/api/v1/scheduler'
I0806 19:47:36.432335 21852 http.cpp:1115] HTTP POST for /master/api/v1/scheduler from 127.0.0.1:60978
I0806 19:47:36.432431 21852 master.cpp:2668] Received subscription request for HTTP framework 'default'
I0806 19:47:36.432457 21852 master.cpp:2240] Authorizing framework principal 'test-principal' to receive offers for roles '\{ * }'
I0806 19:47:36.432740 21852 master.cpp:2740] Subscribing framework 'default' with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
I0806 19:47:36.433220 21852 master.cpp:10808] Adding framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) with roles \{ } suppressed
I0806 19:47:36.433341 21858 hierarchical.cpp:368] Added framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.433388 21858 hierarchical.cpp:1508] Performed allocation for 0 agents in 14817ns
I0806 19:47:36.433614 21856 scheduler.cpp:847] Enqueuing event SUBSCRIBED received from http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.433951 21851 scheduler.cpp:847] Enqueuing event HEARTBEAT received from http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.439100 21855 slave.cpp:1443] Authenticating with master master@127.0.0.1:40941
I0806 19:47:36.439131 21855 slave.cpp:1452] Using default CRAM-MD5 authenticatee
I0806 19:47:36.439205 21855 authenticatee.cpp:121] Creating new client SASL connection
I0806 19:47:36.439311 21855 master.cpp:10578] Authenticating slave(644)@127.0.0.1:40941
I0806 19:47:36.439353 21855 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(1269)@127.0.0.1:40941
I0806 19:47:36.439404 21855 authenticator.cpp:98] Creating new server SASL connection
I0806 19:47:36.439476 21855 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I0806 19:47:36.439489 21855 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I0806 19:47:36.439515 21855 authenticator.cpp:204] Received SASL authentication start
I0806 19:47:36.439546 21855 authenticator.cpp:326] Authentication requires more steps
I0806 19:47:36.439572 21855 authenticatee.cpp:259] Received SASL authentication step
I0806 19:47:36.439626 21855 authenticator.cpp:232] Received SASL authentication step
I0806 19:47:36.439643 21855 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-241' server FQDN: 'ip-172-16-10-241' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I0806 19:47:36.439651 21855 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I0806 19:47:36.439661 21855 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I0806 19:47:36.439669 21855 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-241' server FQDN: 'ip-172-16-10-241' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I0806 19:47:36.439676 21855 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I0806 19:47:36.439682 21855 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I0806 19:47:36.439693 21855 authenticator.cpp:318] Authentication success
I0806 19:47:36.439728 21855 authenticatee.cpp:299] Authentication success
I0806 19:47:36.439764 21855 master.cpp:10610] Successfully authenticated principal 'test-principal' at slave(644)@127.0.0.1:40941
I0806 19:47:36.439785 21855 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(1269)@127.0.0.1:40941
I0806 19:47:36.439839 21855 slave.cpp:1543] Successfully authenticated with master master@127.0.0.1:40941
I0806 19:47:36.439930 21855 slave.cpp:1993] Will retry registration in 12.090275ms if necessary
I0806 19:47:36.440026 21855 master.cpp:7086] Received register agent message from slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:36.440083 21855 master.cpp:4202] Authorizing agent providing resources 'cpus:2; mem:1024; disk:1024; ports:[31000-32000]' with principal 'test-principal'
I0806 19:47:36.440192 21855 master.cpp:7153] Authorized registration of agent at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:36.440222 21855 master.cpp:7265] Registering agent at slave(644)@127.0.0.1:40941 (localhost) with id 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0
I0806 19:47:36.440327 21855 registrar.cpp:487] Applied 1 operations in 35302ns; attempting to update the registry
I0806 19:47:36.440435 21855 registrar.cpp:544] Successfully updated the registry in 93184ns
I0806 19:47:36.440481 21855 master.cpp:7313] Admitted agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:36.440580 21855 master.cpp:7358] Registered agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost) with cpus:2; mem:1024; disk:1024; ports:[31000-32000]
I0806 19:47:36.440660 21855 hierarchical.cpp:617] Added agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 (localhost) with cpus:2; mem:1024; disk:1024; ports:[31000-32000] (allocated: {})
I0806 19:47:36.440762 21854 slave.cpp:1576] Registered with master master@127.0.0.1:40941; given agent ID 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0
I0806 19:47:36.440961 21854 slave.cpp:1611] Checkpointing SlaveInfo to '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/meta/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/slave.info'
I0806 19:47:36.441267 21854 slave.cpp:1663] Forwarding agent update \{"operations":{},"resource_providers":{},"resource_version_uuid":\{"value":"DPrGHezwSsazBvWPYJI+Cg=="},"slave_id":\{"value":"72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0"},"update_oversubscribed_resources":false}
I0806 19:47:36.441360 21854 task_status_update_manager.cpp:188] Resuming sending task status updates
I0806 19:47:36.441386 21854 status_update_manager_process.hpp:385] Resuming operation status update manager
I0806 19:47:36.441905 21858 master.cpp:8457] Ignoring update on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost) as it reports no changes
I0806 19:47:36.442016 21855 hierarchical.cpp:1508] Performed allocation for 1 agents in 1.314949ms
I0806 19:47:36.442122 21851 master.cpp:10393] Sending offers [ 72aa280d-6cd9-4e61-823b-48b59fdbae4a-O0 ] to framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:36.442622 21857 scheduler.cpp:847] Enqueuing event OFFERS received from http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.443130 21858 scheduler.cpp:246] Adding authentication headers to ACCEPT call to http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.443274 21858 scheduler.cpp:600] Sending ACCEPT call to http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:36.443531 21855 process.cpp:3671] Handling HTTP event for process 'master' with path: '/master/api/v1/scheduler'
I0806 19:47:36.443856 21855 http.cpp:1115] HTTP POST for /master/api/v1/scheduler from 127.0.0.1:60976
I0806 19:47:36.444042 21855 master.cpp:12685] Removing offer 72aa280d-6cd9-4e61-823b-48b59fdbae4a-O0
I0806 19:47:36.444165 21855 master.cpp:4739] Processing ACCEPT call for offers: [ 72aa280d-6cd9-4e61-823b-48b59fdbae4a-O0 ] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost) for framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:36.444212 21855 master.cpp:3756] Authorizing framework principal 'test-principal' to launch task fa7228d9-f532-40e7-81ac-e99231f68242
I0806 19:47:36.445125 21855 master.cpp:4274] Adding executor 'default' with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:36.445219 21855 master.cpp:4300] Adding task fa7228d9-f532-40e7-81ac-e99231f68242 with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:36.445284 21855 master.cpp:5941] Launching task group \{ fa7228d9-f532-40e7-81ac-e99231f68242 } of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost) on new executor
I0806 19:47:36.445540 21856 slave.cpp:2130] Got assigned task group containing tasks [ fa7228d9-f532-40e7-81ac-e99231f68242 ] for framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.445950 21856 slave.cpp:2504] Authorizing task group containing tasks [ fa7228d9-f532-40e7-81ac-e99231f68242 ] for framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.445982 21856 slave.cpp:9400] Authorizing framework principal 'test-principal' to launch task fa7228d9-f532-40e7-81ac-e99231f68242
I0806 19:47:36.446281 21856 hierarchical.cpp:1432] Allocation paused
I0806 19:47:36.446732 21856 slave.cpp:2977] Launching task group containing tasks [ fa7228d9-f532-40e7-81ac-e99231f68242 ] for framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.446780 21856 paths.cpp:810] Creating sandbox '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab' for user 'root'
I0806 19:47:36.447218 21856 slave.cpp:9938] Launching executor 'default' of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 with resources [\{"allocation_info":{"role":"*"},"name":"cpus","scalar":\{"value":0.1},"type":"SCALAR"},\{"allocation_info":{"role":"*"},"name":"mem","scalar":\{"value":32.0},"type":"SCALAR"},\{"allocation_info":{"role":"*"},"name":"disk","scalar":\{"value":32.0},"type":"SCALAR"}] in work directory '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab'
I0806 19:47:36.447486 21856 slave.cpp:3203] Queued task group containing tasks [ fa7228d9-f532-40e7-81ac-e99231f68242 ] for executor 'default' of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.447711 21858 slave.cpp:1084] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab' to virtual path '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/latest'
I0806 19:47:36.447732 21858 slave.cpp:1084] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab' to virtual path '/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/latest'
I0806 19:47:36.447759 21858 slave.cpp:1084] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab' to virtual path '/tmp/SlaveTest_HTTPExecutorBadAuthentication_jaCxfc/slaves/72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0/frameworks/72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000/executors/default/runs/d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab'
I0806 19:47:36.447968 21851 hierarchical.cpp:1218] Recovered cpus(allocated: *):1.8; mem(allocated: *):960; disk(allocated: *):960; ports(allocated: *):[31000-32000] (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.2; mem(allocated: *):64; disk(allocated: *):64) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 from framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.448001 21851 hierarchical.cpp:1264] Framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 filtered agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for 5secs
I0806 19:47:36.448076 21855 hierarchical.cpp:1442] Allocation resumed
I0806 19:47:36.448894 21856 slave.cpp:3651] Launching container d4fa8cc7-925a-4bf5-a418-22f0ce6a27ab for executor 'default' of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:36.449193 21856 executor.cpp:206] Version: 1.9.0
W0806 19:47:36.449209 21856 process.cpp:2877] Attempted to spawn already running process version@127.0.0.1:40941
I0806 19:47:36.450008 21853 executor.cpp:432] Connected with the agent
I0806 19:47:36.450322 21853 executor.cpp:328] Sending SUBSCRIBE call to http://127.0.0.1:40941/slave(644)/api/v1/executor
I0806 19:47:36.450701 21851 process.cpp:3671] Handling HTTP event for process 'slave(644)' with path: '/slave(644)/api/v1/executor'
I0806 19:47:36.451416 21852 executor.cpp:745] Enqueuing locally injected event ERROR

GMOCK WARNING:
Uninteresting mock function call - returning directly.
 Function call: error(0x7f131c01b360, @0x7f13180680c0 32-byte object <38-AB 9A-37 13-7F 00-00 00-00 00-00 00-00 00-00 01-00 00-00 00-00 00-00 E0-21 08-18 13-7F 00-00>)
NOTE: You can safely ignore the above warning unless this call should not happen. Do not suppress it by blindly adding an EXPECT_CALL() if you don't mean to enforce the call. See https://github.com/google/googletest/blob/master/googlemock/docs/CookBook.md#knowing-when-to-expect for details.
I0806 19:47:37.425055 21853 hierarchical.cpp:2358] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for role * of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:37.425132 21853 hierarchical.cpp:1508] Performed allocation for 1 agents in 158354ns
I0806 19:47:38.425976 21854 hierarchical.cpp:2358] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for role * of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:38.426054 21854 hierarchical.cpp:1508] Performed allocation for 1 agents in 150287ns
I0806 19:47:39.426796 21851 hierarchical.cpp:2358] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for role * of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:39.426869 21851 hierarchical.cpp:1508] Performed allocation for 1 agents in 145876ns
I0806 19:47:40.427855 21855 hierarchical.cpp:2358] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for role * of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:40.427932 21855 hierarchical.cpp:1508] Performed allocation for 1 agents in 151233ns
I0806 19:47:41.428932 21851 hierarchical.cpp:2358] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 for role * of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:41.429009 21851 hierarchical.cpp:1508] Performed allocation for 1 agents in 149721ns
I0806 19:47:42.430246 21857 hierarchical.cpp:1508] Performed allocation for 1 agents in 151390ns
I0806 19:47:42.430390 21855 master.cpp:10393] Sending offers [ 72aa280d-6cd9-4e61-823b-48b59fdbae4a-O1 ] to framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:42.431067 21854 scheduler.cpp:847] Enqueuing event OFFERS received from http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:43.431192 21851 hierarchical.cpp:1508] Performed allocation for 1 agents in 39612ns
I0806 19:47:44.432204 21857 hierarchical.cpp:1508] Performed allocation for 1 agents in 38561ns
I0806 19:47:45.433198 21855 hierarchical.cpp:1508] Performed allocation for 1 agents in 39192ns
I0806 19:47:46.434304 21852 hierarchical.cpp:1508] Performed allocation for 1 agents in 37364ns
I0806 19:47:47.435331 21853 hierarchical.cpp:1508] Performed allocation for 1 agents in 38244ns
I0806 19:47:48.436272 21856 hierarchical.cpp:1508] Performed allocation for 1 agents in 37444ns
I0806 19:47:49.437196 21854 hierarchical.cpp:1508] Performed allocation for 1 agents in 37574ns
I0806 19:47:50.437824 21851 hierarchical.cpp:1508] Performed allocation for 1 agents in 39073ns
I0806 19:47:51.434033 21851 scheduler.cpp:847] Enqueuing event HEARTBEAT received from http://127.0.0.1:40941/master/api/v1/scheduler
I0806 19:47:51.438400 21856 hierarchical.cpp:1508] Performed allocation for 1 agents in 34741ns
../../src/tests/slave_tests.cpp:2158: Failure
Failed to wait 15secs for error
I0806 19:47:51.453059 21855 master.cpp:1410] Framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) disconnected
I0806 19:47:51.453083 21855 master.cpp:3360] Deactivating framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
W0806 19:47:51.453205 21855 master.hpp:2708] Unable to send message to framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default): connection closed
I0806 19:47:51.453218 21855 master.cpp:12685] Removing offer 72aa280d-6cd9-4e61-823b-48b59fdbae4a-O1
I0806 19:47:51.453238 21855 master.cpp:3337] Disconnecting framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:51.453248 21855 master.cpp:1425] Giving framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default) 0ns to failover
I0806 19:47:51.453284 21855 hierarchical.cpp:475] Deactivated framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.453384 21855 hierarchical.cpp:1218] Recovered cpus(allocated: *):1.8; mem(allocated: *):960; disk(allocated: *):960; ports(allocated: *):[31000-32000] (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.2; mem(allocated: *):64; disk(allocated: *):64) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 from framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.453774 21853 master.cpp:10185] Framework failover timeout, removing framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:51.453794 21853 master.cpp:11184] Removing framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (default)
I0806 19:47:51.453852 21853 master.cpp:12034] Updating the state of task fa7228d9-f532-40e7-81ac-e99231f68242 of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 (latest state: TASK_KILLED, status update state: TASK_KILLED)
I0806 19:47:51.453855 21856 slave.cpp:4056] Asked to shut down framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 by master@127.0.0.1:40941
I0806 19:47:51.453873 21856 slave.cpp:4081] Shutting down framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.453884 21856 slave.cpp:7175] Shutting down executor 'default' of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
W0806 19:47:51.453892 21856 slave.hpp:1004] Unable to send event to executor 'default' of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000: unknown connection type
I0806 19:47:51.453943 21853 master.cpp:12132] Removing task fa7228d9-f532-40e7-81ac-e99231f68242 with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:51.453974 21856 hierarchical.cpp:1218] Recovered cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 from framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.454030 21853 master.cpp:12172] Removing executor 'default' with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:51.454185 21853 hierarchical.cpp:1218] Recovered cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: {}) on agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 from framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.454223 21853 hierarchical.cpp:1432] Allocation paused
I0806 19:47:51.454277 21853 hierarchical.cpp:417] Removed framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000
I0806 19:47:51.454298 21853 hierarchical.cpp:1442] Allocation resumed
I0806 19:47:51.454691 21858 slave.cpp:924] Agent terminating
I0806 19:47:51.454712 21858 slave.cpp:4056] Asked to shut down framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 by @0.0.0.0:0
W0806 19:47:51.454723 21858 slave.cpp:4077] Ignoring shutdown framework 72aa280d-6cd9-4e61-823b-48b59fdbae4a-0000 because it is terminating
I0806 19:47:51.454890 21858 master.cpp:1295] Agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost) disconnected
I0806 19:47:51.454907 21858 master.cpp:3397] Disconnecting agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:51.454921 21858 master.cpp:3416] Deactivating agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 at slave(644)@127.0.0.1:40941 (localhost)
I0806 19:47:51.454962 21858 hierarchical.cpp:799] Agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0 deactivated
../../src/tests/slave_tests.cpp:2155: Failure
Actual function call count doesn't match EXPECT_CALL(*executor, error(_, _))...
 Expected: to be called once
 Actual: never called - unsatisfied and active
I0806 19:47:51.464138 21850 master.cpp:1135] Master terminating
I0806 19:47:51.464393 21856 hierarchical.cpp:775] Removed all filters for agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0
I0806 19:47:51.464411 21856 hierarchical.cpp:650] Removed agent 72aa280d-6cd9-4e61-823b-48b59fdbae4a-S0
[ FAILED ] SlaveTest.HTTPExecutorBadAuthentication (15113 ms)

{code}

Indeed, this EXPECT_CALL might be preceded by the SchedulerDriver calling the error() callback:
https://github.com/apache/mesos/blob/e6edb0a1cf9fd2f8ab7fcb5c291b7a14389118a6/src/tests/slave_tests.cpp#L2155

Observed this again:
{code}
[ RUN      ] SlaveTest.HTTPExecutorBadAuthentication
I1029 18:28:26.647892 11644 cluster.cpp:176] Creating default 'local' authorizer
I1029 18:28:26.649070 11650 master.cpp:440] Master 00a05f09-d241-4323-abbc-ce7ca0142316 (ip-172-16-10-77.ec2.internal) started on 172.16.10.77:41821
I1029 18:28:26.649092 11650 master.cpp:443] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="1secs" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authentication_v0_timeout="15secs" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/NDrgWK/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_operator_event_stream_subscribers="1000" --max_unreachable_tasks_per_framework="1000" --memory_profiling="false" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --publish_per_framework_metrics="true" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --require_agent_domain="false" --role_sorter="drf" --root_submissions="true" --version="false" --webui_dir="/usr/local/share/mesos/webui" --work_dir="/tmp/NDrgWK/master" --zk_session_timeout="10secs"
I1029 18:28:26.649222 11650 master.cpp:492] Master only allowing authenticated frameworks to register
I1029 18:28:26.649247 11650 master.cpp:498] Master only allowing authenticated agents to register
I1029 18:28:26.649255 11650 master.cpp:504] Master only allowing authenticated HTTP frameworks to register
I1029 18:28:26.649260 11650 credentials.hpp:37] Loading credentials for authentication from '/tmp/NDrgWK/credentials'
I1029 18:28:26.649340 11650 master.cpp:548] Using default 'crammd5' authenticator
I1029 18:28:26.649374 11650 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
I1029 18:28:26.649412 11650 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
I1029 18:28:26.649433 11650 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
I1029 18:28:26.649454 11650 master.cpp:629] Authorization enabled
I1029 18:28:26.650187 11650 hierarchical.cpp:244] Initialized hierarchical allocator process
I1029 18:28:26.650688 11652 master.cpp:2141] Elected as the leading master!
I1029 18:28:26.650708 11652 master.cpp:1664] Recovering from registrar
I1029 18:28:26.650739 11652 registrar.cpp:339] Recovering registrar
I1029 18:28:26.650858 11652 registrar.cpp:383] Successfully fetched the registry (0B) in 107008ns
I1029 18:28:26.650902 11652 registrar.cpp:487] Applied 1 operations in 5536ns; attempting to update the registry
I1029 18:28:26.651022 11652 registrar.cpp:544] Successfully updated the registry in 98048ns
I1029 18:28:26.651049 11652 registrar.cpp:416] Successfully recovered registrar
I1029 18:28:26.651124 11652 master.cpp:1790] Recovered 0 agents from the registry (172B); allowing 10mins for agents to reregister
I1029 18:28:26.651177 11652 hierarchical.cpp:284] Skipping recovery of hierarchical allocator: nothing to recover
I1029 18:28:26.651520 11650 whitelist_watcher.cpp:77] No whitelist given
W1029 18:28:26.653537 11644 process.cpp:2829] Attempted to spawn already running process files@172.16.10.77:41821
I1029 18:28:26.653743 11644 cluster.cpp:510] Creating default 'local' authorizer
I1029 18:28:26.654372 11645 slave.cpp:265] Mesos agent started on (613)@172.16.10.77:41821
I1029 18:28:26.654402 11644 scheduler.cpp:189] Version: 1.8.2
I1029 18:28:26.654389 11645 slave.cpp:266] Flags at startup: --acls="" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/NDrgWK/LRrrm8/store/appc" --authenticate_http_executors="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authentication_timeout_max="1mins" --authentication_timeout_min="5secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_destroy_timeout="1mins" --cgroups_enable_cfs="false" --cgroups_hierarchy="/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos_test_fa52501c-547a-47a9-93e6-95f9550a1d3e" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/NDrgWK/LRrrm8/credential" --default_role="*" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/NDrgWK/LRrrm8/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/NDrgWK/LRrrm8/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="/tmp/NDrgWK/LRrrm8/frameworks" --gc_delay="1weeks" --gc_disk_headroom="0.1" --gc_non_executor_container_sandboxes="false" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/NDrgWK/LRrrm8/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="cgroups/cpu,cgroups/mem" --jwt_secret_key="/tmp/NDrgWK/LRrrm8/jwt_secret_key" --launcher="linux" --launcher_dir="/home/centos/workspace/mesos/Mesos_CI-build/FLAG/SSL/label/mesos-ec2-centos-6/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --memory_profiling="false" --network_cni_metrics="true" --network_cni_root_dir_persist="false" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --reconfiguration_policy="equal" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="cpus:2;gpus:0;mem:1024;disk:1024;ports:[31000-32000]" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/SlaveTest_HTTPExecutorBadAuthentication_Gnwny0" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS" --zk_session_timeout="10secs"
I1029 18:28:26.654572 11645 credentials.hpp:86] Loading credential for authentication from '/tmp/NDrgWK/LRrrm8/credential'
I1029 18:28:26.654618 11645 slave.cpp:298] Agent using credential for: test-principal
I1029 18:28:26.654624 11645 credentials.hpp:37] Loading credentials for authentication from '/tmp/NDrgWK/LRrrm8/http_credentials'
I1029 18:28:26.654678 11645 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-executor'
I1029 18:28:26.654698 11645 http.cpp:986] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-executor'
I1029 18:28:26.654753 11645 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
I1029 18:28:26.654774 11645 http.cpp:986] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-readonly'
I1029 18:28:26.654800 11645 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readwrite'
I1029 18:28:26.654816 11645 http.cpp:986] Creating default 'jwt' HTTP authenticator for realm 'mesos-agent-readwrite'
I1029 18:28:26.654857 11645 disk_profile_adaptor.cpp:78] Creating default disk profile adaptor module
I1029 18:28:26.655175 11647 scheduler.cpp:342] Using default 'basic' HTTP authenticatee
I1029 18:28:26.655272 11647 scheduler.cpp:525] New master detected at master@172.16.10.77:41821
I1029 18:28:26.655283 11647 scheduler.cpp:534] Waiting for 0ns before initiating a re-(connection) attempt with the master
I1029 18:28:26.655884 11652 scheduler.cpp:416] Connected with the master at http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.656270 11645 slave.cpp:613] Agent resources: [{"name":"cpus","scalar":{"value":2.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
I1029 18:28:26.656329 11645 slave.cpp:621] Agent attributes: [  ]
I1029 18:28:26.656337 11645 slave.cpp:630] Agent hostname: ip-172-16-10-77.ec2.internal
I1029 18:28:26.656606 11645 scheduler.cpp:246] Adding authentication headers to SUBSCRIBE call to http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.656668 11645 task_status_update_manager.cpp:181] Pausing sending task status updates
I1029 18:28:26.656684 11645 status_update_manager_process.hpp:379] Pausing operation status update manager
I1029 18:28:26.656836 11645 state.cpp:67] Recovering state from '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/meta'
I1029 18:28:26.656927 11645 slave.cpp:7265] Finished recovering checkpointed state from '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/meta', beginning agent recovery
I1029 18:28:26.657059 11645 scheduler.cpp:600] Sending SUBSCRIBE call to http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.657110 11645 task_status_update_manager.cpp:207] Recovering task status update manager
I1029 18:28:26.657362 11645 process.cpp:3596] Handling HTTP event for process 'master' with path: '/master/api/v1/scheduler'
I1029 18:28:26.657882 11645 composing.cpp:339] Finished recovering all containerizers
I1029 18:28:26.658022 11645 http.cpp:1105] HTTP POST for /master/api/v1/scheduler from 172.16.10.77:37236
I1029 18:28:26.658152 11645 master.cpp:2568] Received subscription request for HTTP framework 'default'
I1029 18:28:26.658186 11645 master.cpp:2213] Authorizing framework principal 'test-principal' to receive offers for roles '{ * }'
I1029 18:28:26.658354 11651 slave.cpp:7727] Recovering executors
I1029 18:28:26.658378 11651 slave.cpp:7880] Finished recovery
I1029 18:28:26.658777 11651 slave.cpp:1258] New master detected at master@172.16.10.77:41821
I1029 18:28:26.658807 11651 slave.cpp:1323] Detecting new master
I1029 18:28:26.658836 11651 task_status_update_manager.cpp:181] Pausing sending task status updates
I1029 18:28:26.658851 11651 status_update_manager_process.hpp:379] Pausing operation status update manager
I1029 18:28:26.659328 11645 master.cpp:2703] Subscribing framework 'default' with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
I1029 18:28:26.660140 11645 master.cpp:10545] Adding framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) with roles {  } suppressed
I1029 18:28:26.660306 11647 hierarchical.cpp:373] Added framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.660352 11647 hierarchical.cpp:1600] Performed allocation for 0 agents in 10852ns
I1029 18:28:26.660629 11650 scheduler.cpp:847] Enqueuing event SUBSCRIBED received from http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.661039 11650 scheduler.cpp:847] Enqueuing event HEARTBEAT received from http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.662533 11652 slave.cpp:1350] Authenticating with master master@172.16.10.77:41821
I1029 18:28:26.662560 11652 slave.cpp:1359] Using default CRAM-MD5 authenticatee
I1029 18:28:26.662626 11652 authenticatee.cpp:121] Creating new client SASL connection
I1029 18:28:26.662701 11652 master.cpp:10315] Authenticating slave(613)@172.16.10.77:41821
I1029 18:28:26.662750 11652 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(1215)@172.16.10.77:41821
I1029 18:28:26.662809 11652 authenticator.cpp:98] Creating new server SASL connection
I1029 18:28:26.662873 11652 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I1029 18:28:26.662887 11652 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I1029 18:28:26.662915 11652 authenticator.cpp:204] Received SASL authentication start
I1029 18:28:26.662962 11652 authenticator.cpp:326] Authentication requires more steps
I1029 18:28:26.662989 11652 authenticatee.cpp:259] Received SASL authentication step
I1029 18:28:26.663023 11652 authenticator.cpp:232] Received SASL authentication step
I1029 18:28:26.663039 11652 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-77' server FQDN: 'ip-172-16-10-77' SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I1029 18:28:26.663055 11652 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I1029 18:28:26.663066 11652 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I1029 18:28:26.663076 11652 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-77' server FQDN: 'ip-172-16-10-77' SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I1029 18:28:26.663082 11652 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I1029 18:28:26.663089 11652 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I1029 18:28:26.663100 11652 authenticator.cpp:318] Authentication success
I1029 18:28:26.663137 11652 authenticatee.cpp:299] Authentication success
I1029 18:28:26.663170 11652 master.cpp:10347] Successfully authenticated principal 'test-principal' at slave(613)@172.16.10.77:41821
I1029 18:28:26.663192 11652 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(1215)@172.16.10.77:41821
I1029 18:28:26.663486 11652 slave.cpp:1450] Successfully authenticated with master master@172.16.10.77:41821
I1029 18:28:26.663589 11652 slave.cpp:1900] Will retry registration in 8.058007ms if necessary
I1029 18:28:26.663664 11652 master.cpp:6854] Received register agent message from slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:26.663736 11652 master.cpp:4053] Authorizing agent providing resources 'cpus:2; mem:1024; disk:1024; ports:[31000-32000]' with principal 'test-principal'
I1029 18:28:26.663861 11652 master.cpp:6921] Authorized registration of agent at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:26.663902 11652 master.cpp:7036] Registering agent at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) with id 00a05f09-d241-4323-abbc-ce7ca0142316-S0
I1029 18:28:26.664103 11652 registrar.cpp:487] Applied 1 operations in 43546ns; attempting to update the registry
I1029 18:28:26.664216 11652 registrar.cpp:544] Successfully updated the registry in 94976ns
I1029 18:28:26.664278 11652 master.cpp:7084] Admitted agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:26.664453 11652 master.cpp:7129] Registered agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) with cpus:2; mem:1024; disk:1024; ports:[31000-32000]
I1029 18:28:26.664512 11652 slave.cpp:1483] Registered with master master@172.16.10.77:41821; given agent ID 00a05f09-d241-4323-abbc-ce7ca0142316-S0
I1029 18:28:26.664528 11647 hierarchical.cpp:630] Added agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 (ip-172-16-10-77.ec2.internal) with cpus:2; mem:1024; disk:1024; ports:[31000-32000] (allocated: {})
I1029 18:28:26.664674 11647 hierarchical.cpp:1600] Performed allocation for 1 agents in 99555ns
I1029 18:28:26.664698 11647 task_status_update_manager.cpp:188] Resuming sending task status updates
I1029 18:28:26.664705 11652 slave.cpp:1518] Checkpointing SlaveInfo to '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/meta/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/slave.info'
I1029 18:28:26.664790 11647 master.cpp:10130] Sending offers [ 00a05f09-d241-4323-abbc-ce7ca0142316-O0 ] to framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:26.664903 11647 status_update_manager_process.hpp:385] Resuming operation status update manager
I1029 18:28:26.664988 11652 slave.cpp:1570] Forwarding agent update {"operations":{},"resource_providers":{},"resource_version_uuid":{"value":"tuiUOzM/S8WmgOh0NmcR9Q=="},"slave_id":{"value":"00a05f09-d241-4323-abbc-ce7ca0142316-S0"},"update_oversubscribed_resources":false}
I1029 18:28:26.665619 11651 master.cpp:8215] Ignoring update on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) as it reports no changes
I1029 18:28:26.665757 11651 scheduler.cpp:847] Enqueuing event OFFERS received from http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.666515 11651 scheduler.cpp:246] Adding authentication headers to ACCEPT call to http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.666640 11651 scheduler.cpp:600] Sending ACCEPT call to http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:26.666923 11650 process.cpp:3596] Handling HTTP event for process 'master' with path: '/master/api/v1/scheduler'
I1029 18:28:26.667170 11650 http.cpp:1105] HTTP POST for /master/api/v1/scheduler from 172.16.10.77:37234
I1029 18:28:26.667357 11650 master.cpp:12412] Removing offer 00a05f09-d241-4323-abbc-ce7ca0142316-O0
I1029 18:28:26.667469 11650 master.cpp:4590] Processing ACCEPT call for offers: [ 00a05f09-d241-4323-abbc-ce7ca0142316-O0 ] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) for framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:26.667516 11650 master.cpp:3607] Authorizing framework principal 'test-principal' to launch task f766bec7-7c88-4d15-8299-09e2d1e13257
I1029 18:28:26.668530 11647 master.cpp:4125] Adding executor 'default' with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:26.668658 11647 master.cpp:4151] Adding task f766bec7-7c88-4d15-8299-09e2d1e13257 with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:26.668728 11647 master.cpp:5792] Launching task group { f766bec7-7c88-4d15-8299-09e2d1e13257 } of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) on  new executor
I1029 18:28:26.668959 11647 slave.cpp:2037] Got assigned task group containing tasks [ f766bec7-7c88-4d15-8299-09e2d1e13257 ] for framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.669297 11647 slave.cpp:2411] Authorizing task group containing tasks [ f766bec7-7c88-4d15-8299-09e2d1e13257 ] for framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.669325 11647 slave.cpp:9217] Authorizing framework principal 'test-principal' to launch task f766bec7-7c88-4d15-8299-09e2d1e13257
I1029 18:28:26.669420 11650 hierarchical.cpp:1524] Allocation paused
I1029 18:28:26.669526 11650 hierarchical.cpp:1250] Recovered cpus(allocated: *):1.8; mem(allocated: *):960; disk(allocated: *):960; ports(allocated: *):[31000-32000] (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.2; mem(allocated: *):64; disk(allocated: *):64) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 from framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.669557 11650 hierarchical.cpp:1296] Framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 filtered agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for 5secs
I1029 18:28:26.669600 11650 hierarchical.cpp:1534] Allocation resumed
I1029 18:28:26.669931 11647 slave.cpp:2854] Launching task group containing tasks [ f766bec7-7c88-4d15-8299-09e2d1e13257 ] for framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.669978 11647 paths.cpp:801] Creating sandbox '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3' for user 'root'
I1029 18:28:26.670467 11647 slave.cpp:9727] Launching executor 'default' of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 with resources [{"allocation_info":{"role":"*"},"name":"cpus","scalar":{"value":0.1},"type":"SCALAR"},{"allocation_info":{"role":"*"},"name":"mem","scalar":{"value":32.0},"type":"SCALAR"},{"allocation_info":{"role":"*"},"name":"disk","scalar":{"value":32.0},"type":"SCALAR"}] in work directory '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3'
I1029 18:28:26.670704 11647 slave.cpp:3086] Queued task group containing tasks [ f766bec7-7c88-4d15-8299-09e2d1e13257 ] for executor 'default' of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.670742 11647 slave.cpp:991] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3' to virtual path '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/latest'
I1029 18:28:26.670801 11647 slave.cpp:991] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3' to virtual path '/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/latest'
I1029 18:28:26.670817 11647 slave.cpp:991] Successfully attached '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3' to virtual path '/tmp/SlaveTest_HTTPExecutorBadAuthentication_znLjKS/slaves/00a05f09-d241-4323-abbc-ce7ca0142316-S0/frameworks/00a05f09-d241-4323-abbc-ce7ca0142316-0000/executors/default/runs/f66d8076-1dfb-4115-a04e-133f93a93ff3'
I1029 18:28:26.671039 11646 slave.cpp:3534] Launching container f66d8076-1dfb-4115-a04e-133f93a93ff3 for executor 'default' of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:26.671336 11650 executor.cpp:206] Version: 1.8.2
W1029 18:28:26.671355 11650 process.cpp:2829] Attempted to spawn already running process version@172.16.10.77:41821
I1029 18:28:26.672327 11650 executor.cpp:432] Connected with the agent
I1029 18:28:26.672588 11651 executor.cpp:328] Sending SUBSCRIBE call to http://172.16.10.77:41821/slave(613)/api/v1/executor
I1029 18:28:26.672840 11646 process.cpp:3596] Handling HTTP event for process 'slave(613)' with path: '/slave(613)/api/v1/executor'
I1029 18:28:26.673612 11651 executor.cpp:745] Enqueuing locally injected event ERROR

GMOCK WARNING:
Uninteresting mock function call - returning directly.
    Function call: error(0x7fe9140d63f0, @0x7fe91801d780 32-byte object <38-5C E1-42 E9-7F 00-00 00-00 00-00 00-00 00-00 01-00 00-00 00-00 00-00 F0-E8 04-18 E9-7F 00-00>)
NOTE: You can safely ignore the above warning unless this call should not happen.  Do not suppress it by blindly adding an EXPECT_CALL() if you don't mean to enforce the call.  See https://github.com/google/googletest/blob/master/googlemock/docs/CookBook.md#knowing-when-to-expect for details.
I1029 18:28:27.650794 11648 hierarchical.cpp:2404] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for role * of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:27.650856 11648 hierarchical.cpp:1600] Performed allocation for 1 agents in 132117ns
I1029 18:28:28.651202 11648 hierarchical.cpp:2404] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for role * of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:28.651278 11648 hierarchical.cpp:1600] Performed allocation for 1 agents in 140678ns
I1029 18:28:29.652190 11651 hierarchical.cpp:2404] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for role * of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:29.652263 11651 hierarchical.cpp:1600] Performed allocation for 1 agents in 146498ns
I1029 18:28:30.652786 11646 hierarchical.cpp:2404] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for role * of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:30.652849 11646 hierarchical.cpp:1600] Performed allocation for 1 agents in 170852ns
I1029 18:28:31.653684 11648 hierarchical.cpp:2404] Filtered offer with cpus:1.8; mem:960; disk:960; ports:[31000-32000] on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 for role * of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:31.653748 11648 hierarchical.cpp:1600] Performed allocation for 1 agents in 128055ns
I1029 18:28:32.654615 11650 hierarchical.cpp:1600] Performed allocation for 1 agents in 140658ns
I1029 18:28:32.654737 11646 master.cpp:10130] Sending offers [ 00a05f09-d241-4323-abbc-ce7ca0142316-O1 ] to framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:32.655411 11645 scheduler.cpp:847] Enqueuing event OFFERS received from http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:33.655390 11648 hierarchical.cpp:1600] Performed allocation for 1 agents in 31595ns
I1029 18:28:34.656127 11645 hierarchical.cpp:1600] Performed allocation for 1 agents in 32582ns
I1029 18:28:35.657227 11651 hierarchical.cpp:1600] Performed allocation for 1 agents in 32152ns
I1029 18:28:36.658077 11649 hierarchical.cpp:1600] Performed allocation for 1 agents in 31749ns
I1029 18:28:37.658977 11646 hierarchical.cpp:1600] Performed allocation for 1 agents in 47959ns
I1029 18:28:38.659586 11647 hierarchical.cpp:1600] Performed allocation for 1 agents in 31194ns
I1029 18:28:39.660249 11652 hierarchical.cpp:1600] Performed allocation for 1 agents in 31829ns
I1029 18:28:40.661233 11648 hierarchical.cpp:1600] Performed allocation for 1 agents in 32245ns
I1029 18:28:41.661434 11652 scheduler.cpp:847] Enqueuing event HEARTBEAT received from http://172.16.10.77:41821/master/api/v1/scheduler
I1029 18:28:41.661608 11652 hierarchical.cpp:1600] Performed allocation for 1 agents in 34214ns
../../src/tests/slave_tests.cpp:2155: Failure
Failed to wait 15secs for error
I1029 18:28:41.675395 11644 slave.cpp:912] Agent terminating
I1029 18:28:41.675421 11644 slave.cpp:3914] Asked to shut down framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 by @0.0.0.0:0
I1029 18:28:41.675433 11644 slave.cpp:3939] Shutting down framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.675446 11644 slave.cpp:6996] Shutting down executor 'default' of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
W1029 18:28:41.675453 11644 slave.hpp:970] Unable to send event to executor 'default' of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000: unknown connection type
I1029 18:28:41.675802 11645 master.cpp:1295] Agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) disconnected
I1029 18:28:41.675822 11645 master.cpp:3333] Disconnecting agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:41.675837 11645 master.cpp:3352] Deactivating agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:41.675968 11645 master.cpp:12412] Removing offer 00a05f09-d241-4323-abbc-ce7ca0142316-O1
I1029 18:28:41.675992 11651 hierarchical.cpp:821] Agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 deactivated
I1029 18:28:41.675997 11645 master.cpp:1319] Removing framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) from disconnected agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal) because the framework is not checkpointing
I1029 18:28:41.676009 11645 master.cpp:11136] Removing framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) from agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:41.676044 11645 master.cpp:11761] Updating the state of task f766bec7-7c88-4d15-8299-09e2d1e13257 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (latest state: TASK_LOST, status update state: TASK_LOST)
I1029 18:28:41.676110 11645 master.cpp:11859] Removing task f766bec7-7c88-4d15-8299-09e2d1e13257 with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:41.676102 11651 hierarchical.cpp:1250] Recovered cpus(allocated: *):1.8; mem(allocated: *):960; disk(allocated: *):960; ports(allocated: *):[31000-32000] (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.2; mem(allocated: *):64; disk(allocated: *):64) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 from framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.676157 11645 master.cpp:8755] Sending status update TASK_LOST for task f766bec7-7c88-4d15-8299-09e2d1e13257 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 'Agent ip-172-16-10-77.ec2.internal disconnected'
I1029 18:28:41.676185 11651 hierarchical.cpp:1250] Recovered cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 from framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.676435 11646 poll_socket.cpp:205] Socket error while sending: Broken pipe
W1029 18:28:41.676481 11646 process.cpp:1810] Failed to send on socket 21 to peer 'unknown': Broken pipe
I1029 18:28:41.676627 11645 master.cpp:11899] Removing executor 'default' with resources cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 of framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 at slave(613)@172.16.10.77:41821 (ip-172-16-10-77.ec2.internal)
I1029 18:28:41.676724 11645 master.cpp:1410] Framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) disconnected
I1029 18:28:41.676736 11645 master.cpp:3296] Deactivating framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:41.676748 11645 master.cpp:3273] Disconnecting framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:41.676759 11645 master.cpp:1425] Giving framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default) 0ns to failover
I1029 18:28:41.676820 11652 hierarchical.cpp:1250] Recovered cpus(allocated: *):0.1; mem(allocated: *):32; disk(allocated: *):32 (total: cpus:2; mem:1024; disk:1024; ports:[31000-32000], allocated: {}) on agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0 from framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.676862 11652 hierarchical.cpp:479] Deactivated framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.679692 11649 master.cpp:9922] Framework failover timeout, removing framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:41.679708 11649 master.cpp:10923] Removing framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000 (default)
I1029 18:28:41.679762 11649 hierarchical.cpp:1524] Allocation paused
I1029 18:28:41.679811 11649 hierarchical.cpp:422] Removed framework 00a05f09-d241-4323-abbc-ce7ca0142316-0000
I1029 18:28:41.679826 11649 hierarchical.cpp:1534] Allocation resumed
../../src/tests/slave_tests.cpp:2152: Failure
Actual function call count doesn't match EXPECT_CALL(*executor, error(_, _))...
         Expected: to be called once
           Actual: never called - unsatisfied and active
I1029 18:28:41.686833 11650 master.cpp:1135] Master terminating
I1029 18:28:41.686908 11649 hierarchical.cpp:797] Removed all filters for agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0
I1029 18:28:41.686920 11649 hierarchical.cpp:672] Removed agent 00a05f09-d241-4323-abbc-ce7ca0142316-S0
[  FAILED  ] SlaveTest.HTTPExecutorBadAuthentication (15074 ms)
{code}

