proposed PR with an example (on top of 0.9.3) 

https://github.com/apache/thrift/pull/1056

