See HBASE-19530. When regions are created initial state should be CLOSED. Bug was discovered while debugging flaky test TestSplitTableRegionProcedure#testRollbackAndDoubleExecution with numOfSteps set to 4. After updating daughter regions in meta when master is restarted, startup sequence of master assigns all OFFLINE regions. As daughter regions are stored with OFFLINE state, daughter regions are assigned. This is followed by re-assignment of daughter regions from resumed SplitTableRegionProcedure.