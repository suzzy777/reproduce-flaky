Sounds good. 
Make this a part of Replication 2.0 parent jira? 

bq. HBASE-11393, which will consolidate tableCFs in the same znode as the rest of ReplicationPeerConfig, may help here, but with or without it it still seems like there needs to be further work to add update config/data API support to ReplicationAdmin and a callback mechanism to notify the endpoints of config parameter changes.
[~chenheng] can say more. We have a zk tracker now, but you are right that we need the ReplicationEndpoint to be notified. 


Sounds great.   

In HBASE-11393, there will be a zk tracker for ReplicationPeerConfig,  i think it will satisfy your needs.

Added update_peer to the HBase shell and ReplicationAdmin, and provided a callback for custom replication endpoints to be notified of changes to their configuration and peer data. 

Attached a link to the Apache review board. 

Revision of the original patch incorporating some name/verbiage changes suggested by [~tedyu@apache.org]

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} rubocop {color} | {color:blue} 0m 1s {color} | {color:blue} rubocop was not available. {color} |
| {color:blue}0{color} | {color:blue} ruby-lint {color} | {color:blue} 0m 1s {color} | {color:blue} Ruby-lint was not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 28s {color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 3m 10s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 40s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 5s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 10m 18s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 19s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 5m 37s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 33s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 58s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 9s {color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red} 0m 21s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red} 0m 21s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 17s {color} | {color:red} hbase-client in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 24s {color} | {color:red} hbase-client in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 34s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 23s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 17s {color} | {color:red} hbase-client in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 24s {color} | {color:red} hbase-client in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 34s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 23s {color} | {color:red} hbase-server in the patch failed with JDK v1.8.0. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed with JDK v1.7.0_79. {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 0s {color} | {color:red} hbase-client: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 45s {color} | {color:red} hbase-client: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 40s {color} | {color:red} hbase-server: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 39s {color} | {color:red} hbase-server: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 39s {color} | {color:red} hbase-shell: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 1m 38s {color} | {color:red} hbase-shell: patch generated 33 new + 99 unchanged - 3 fixed = 132 total (was 102) {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 18s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 0m 38s {color} | {color:red} Patch causes 28 errors with Hadoop v2.4.0. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 1m 12s {color} | {color:red} Patch causes 28 errors with Hadoop v2.4.1. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 1m 47s {color} | {color:red} Patch causes 28 errors with Hadoop v2.5.0. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 2m 23s {color} | {color:red} Patch causes 28 errors with Hadoop v2.5.1. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 2m 59s {color} | {color:red} Patch causes 28 errors with Hadoop v2.5.2. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 3m 36s {color} | {color:red} Patch causes 28 errors with Hadoop v2.6.1. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 4m 12s {color} | {color:red} Patch causes 28 errors with Hadoop v2.6.2. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 4m 48s {color} | {color:red} Patch causes 28 errors with Hadoop v2.6.3. {color} |
| {color:red}-1{color} | {color:red} hadoopcheck {color} | {color:red} 5m 24s {color} | {color:red} Patch causes 28 errors with Hadoop v2.7.1. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 14s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 15s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 21s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 0m 21s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 3m 28s {color} | {color:red} hbase-client-jdk1.8.0 with JDK v1.8.0 generated 8 new + 24 unchanged - 0 fixed = 32 total (was 24) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 3m 28s {color} | {color:red} hbase-client-jdk1.8.0 with JDK v1.8.0 generated 8 new + 24 unchanged - 0 fixed = 32 total (was 24) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 3m 28s {color} | {color:red} hbase-server-jdk1.8.0 with JDK v1.8.0 generated 2 new + 2 unchanged - 0 fixed = 4 total (was 2) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 3m 28s {color} | {color:red} hbase-server-jdk1.8.0 with JDK v1.8.0 generated 2 new + 2 unchanged - 0 fixed = 4 total (was 2) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 17s {color} | {color:green} the patch passed with JDK v1.8.0 {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 27s {color} | {color:red} hbase-client-jdk1.7.0_79 with JDK v1.7.0_79 generated 8 new + 24 unchanged - 0 fixed = 32 total (was 24) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 27s {color} | {color:red} hbase-client-jdk1.7.0_79 with JDK v1.7.0_79 generated 8 new + 24 unchanged - 0 fixed = 32 total (was 24) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 27s {color} | {color:red} hbase-server-jdk1.7.0_79 with JDK v1.7.0_79 generated 2 new + 2 unchanged - 0 fixed = 4 total (was 2) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red} 5m 27s {color} | {color:red} hbase-server-jdk1.7.0_79 with JDK v1.7.0_79 generated 2 new + 2 unchanged - 0 fixed = 4 total (was 2) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 1m 59s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 16s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 15s {color} | {color:red} hbase-client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 0m 22s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 1m 1s {color} | {color:red} hbase-shell in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 1m 2s {color} | {color:red} hbase-shell in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 0m 43s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 63m 22s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.hbase.client.TestShell |
|   | hadoop.hbase.client.rsgroup.TestShellRSGroups |
|   | hadoop.hbase.client.TestShell |
|   | hadoop.hbase.client.rsgroup.TestShellRSGroups |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12797571/HBASE-15507-v1.patch |
| JIRA Issue | HBASE-15507 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  rubocop  ruby_lint  |
| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / ac8cd37 |
| Default Java | 1.7.0_79 |
| Multi-JDK versions |  /home/jenkins/tools/java/jdk1.8.0:1.8.0 /usr/local/jenkins/java/jdk1.7.0_79:1.7.0_79 |
| findbugs | v3.0.0 |
| mvninstall | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-mvninstall-hbase-client.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-mvninstall-hbase-client.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-mvninstall-hbase-server.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-mvninstall-hbase-server.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.8.0.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.8.0.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.8.0.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.8.0.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.8.0.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.8.0.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.8.0.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.8.0.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.7.0_79.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.7.0_79.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.7.0_79.txt |
| compile | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.7.0_79.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.7.0_79.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-client-jdk1.7.0_79.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.7.0_79.txt |
| javac | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-compile-hbase-server-jdk1.7.0_79.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-shell.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-checkstyle-hbase-shell.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-findbugs-hbase-client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-findbugs-hbase-client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-findbugs-hbase-server.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-findbugs-hbase-server.txt |
| javadoc | hbase-client-jdk1.8.0: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-client-jdk1.8.0.txt |
| javadoc | hbase-client-jdk1.8.0: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-client-jdk1.8.0.txt |
| javadoc | hbase-server-jdk1.8.0: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.8.0.txt |
| javadoc | hbase-server-jdk1.8.0: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.8.0.txt |
| javadoc | hbase-client-jdk1.7.0_79: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-client-jdk1.7.0_79.txt |
| javadoc | hbase-client-jdk1.7.0_79: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-client-jdk1.7.0_79.txt |
| javadoc | hbase-server-jdk1.7.0_79: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.7.0_79.txt |
| javadoc | hbase-server-jdk1.7.0_79: https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/diff-javadoc-javadoc-hbase-server-jdk1.7.0_79.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-client.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-client.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-shell.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-shell.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-shell.txt https://builds.apache.org/job/PreCommit-HBASE-Build/1327/artifact/patchprocess/patch-unit-hbase-shell.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/testReport/ |
| modules | C:  hbase-client   hbase-client   hbase-server   hbase-server   hbase-shell   hbase-shell  U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/1327/console |
| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |


This message was automatically generated.



Please fix compilation error in latest patch :
{code}
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.2:compile (default-compile) on project hbase-client: Compilation failure: Compilation failure:
[ERROR] /Users/tyu/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java:[74,31] cannot find symbol
[ERROR] symbol:   class ReplicationPeerConfigListener
[ERROR] location: interface org.apache.hadoop.hbase.replication.ReplicationPeer
[ERROR] /Users/tyu/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java:[167,38] cannot find symbol
[ERROR] symbol:   class ReplicationPeerConfigListener
[ERROR] location: class org.apache.hadoop.hbase.replication.ReplicationPeerZKImpl
[ERROR] /Users/tyu/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java:[271,5] cannot find symbol
[ERROR] symbol:   class ReplicationPeerConfigListener
[ERROR] location: class org.apache.hadoop.hbase.replication.ReplicationPeerZKImpl.PeerConfigTracker
[ERROR] /Users/tyu/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java:[278,29] cannot find symbol
[ERROR] symbol:   class ReplicationPeerConfigListener
[ERROR] location: class org.apache.hadoop.hbase.replication.ReplicationPeerZKImpl.PeerConfigTracker
{code}

Fix to the previous patch, which was missing two files.

Gone over patch v2.

lgtm

Let's see what Hadoop QA says.

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} rubocop {color} | {color:blue} 0m 4s {color} | {color:blue} rubocop was not available. {color} |
| {color:blue}0{color} | {color:blue} ruby-lint {color} | {color:blue} 0m 4s {color} | {color:blue} Ruby-lint was not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 21s {color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 4m 27s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 4m 19s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 3m 5s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 13m 36s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 5s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 8m 47s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 34s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 12s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 14s {color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 3m 58s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 4m 24s {color} | {color:green} the patch passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 4m 24s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 54s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 54s {color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 38s {color} | {color:red} hbase-client: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 0s {color} | {color:red} hbase-client: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 26s {color} | {color:red} hbase-server: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 26s {color} | {color:red} hbase-server: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 47s {color} | {color:red} hbase-shell: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red} 2m 48s {color} | {color:red} hbase-shell: patch generated 36 new + 99 unchanged - 3 fixed = 135 total (was 102) {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 2m 34s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 37m 9s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.1 2.6.2 2.6.3 2.7.1. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 58s {color} | {color:red} hbase-client generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red} 1m 56s {color} | {color:red} hbase-client generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 50s {color} | {color:green} the patch passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 3m 11s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 21s {color} | {color:green} hbase-client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 1m 20s {color} | {color:green} hbase-client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 131m 53s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 157m 40s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 7m 26s {color} | {color:green} hbase-shell in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 7m 20s {color} | {color:green} hbase-shell in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 2m 11s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 438m 41s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hbase-client |
|  |  Inconsistent synchronization of org.apache.hadoop.hbase.replication.ReplicationPeerZKImpl$PeerConfigTracker.listener; locked 66% of time  Unsynchronized access at ReplicationPeerZKImpl.java:66% of time  Unsynchronized access at ReplicationPeerZKImpl.java:[line 279] |
| FindBugs | module:hbase-client |
|  |  Inconsistent synchronization of org.apache.hadoop.hbase.replication.ReplicationPeerZKImpl$PeerConfigTracker.listener; locked 66% of time  Unsynchronized access at ReplicationPeerZKImpl.java:66% of time  Unsynchronized access at ReplicationPeerZKImpl.java:[line 279] |
| Timed out junit tests | org.apache.hadoop.hbase.security.access.TestNamespaceCommands |
|   | org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient |
|   | org.apache.hadoop.hbase.security.access.TestNamespaceCommands |
|   | org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12797618/HBASE-15507-v2.patch |
| JIRA Issue | HBASE-15507 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  rubocop  ruby_lint  |
| uname | Linux pomona.apache.org 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / a146a71 |
| Default Java | 1.7.0_79 |
| Multi-JDK versions |  /home/jenkins/tools/java/jdk1.8.0:1.8.0 /usr/local/jenkins/java/jdk1.7.0_79:1.7.0_79 |
| findbugs | v3.0.0 |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-client.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-server.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-shell.txt |
| checkstyle | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/diff-checkstyle-hbase-shell.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/new-findbugs-hbase-client.html |
| findbugs | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/new-findbugs-hbase-client.html |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/patch-unit-hbase-server.txt https://builds.apache.org/job/PreCommit-HBASE-Build/1335/artifact/patchprocess/patch-unit-hbase-server.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/testReport/ |
| modules | C:  hbase-client   hbase-client   hbase-server   hbase-server   hbase-shell   hbase-shell  U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/1335/console |
| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |


This message was automatically generated.



Mind fixing checkstyle warnings ?

v3 patch fixes some checkstyle warnings found by Hadoop QA, mostly around too-long lines. 

Can you fix FindBugs warning as well ?

Thanks

That's in the v3 patch as well; I believe it just wanted me to add a 'synchronized' to PeerConfigTracker.setListener. Given there's a 1:1 mapping between Endpoint and Peer, and it's only called during init which should be single-threaded, I'm not sure it's necessary. But having it shouldn't hurt for the same reason, I could be wrong, and it protects against future problems, so I put it in.   

| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} rubocop {color} | {color:blue} 0m 1s {color} | {color:blue} rubocop was not available. {color} |
| {color:blue}0{color} | {color:blue} ruby-lint {color} | {color:blue} 0m 1s {color} | {color:blue} Ruby-lint was not available. {color} |
| {color:green}+1{color} | {color:green} hbaseanti {color} | {color:green} 0m 0s {color} | {color:green} Patch does not have any anti-patterns. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green} 0m 0s {color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green} 0m 0s {color} | {color:green} The patch appears to include 2 new or modified test files. {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 9s {color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 48s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 56s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 9s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 9m 58s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 19s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 5m 37s {color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 21s {color} | {color:green} master passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 4s {color} | {color:green} master passed with JDK v1.7.0_79 {color} |
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue} 0m 9s {color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 2m 27s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 36s {color} | {color:green} the patch passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 36s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 2m 7s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 2m 7s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 53s {color} | {color:green} hbase-client: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 39s {color} | {color:green} hbase-client: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 40s {color} | {color:green} hbase-server: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 33s {color} | {color:green} hbase-server: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 32s {color} | {color:green} hbase-shell: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green} 1m 35s {color} | {color:green} hbase-shell: patch generated 0 new + 99 unchanged - 3 fixed = 99 total (was 102) {color} |
| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green} 1m 18s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green} 0m 0s {color} | {color:green} Patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} hadoopcheck {color} | {color:green} 25m 24s {color} | {color:green} Patch does not cause any errors with Hadoop 2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.1 2.6.2 2.6.3 2.7.1. {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green} 6m 40s {color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 19s {color} | {color:green} the patch passed with JDK v1.8.0 {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green} 2m 0s {color} | {color:green} the patch passed with JDK v1.7.0_79 {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 54s {color} | {color:green} hbase-client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 0m 55s {color} | {color:green} hbase-client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 97m 40s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 101m 38s {color} | {color:red} hbase-server in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 6m 47s {color} | {color:green} hbase-shell in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green} 6m 31s {color} | {color:green} hbase-shell in the patch passed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green} 1m 21s {color} | {color:green} Patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 301m 35s {color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Timed out junit tests | org.apache.hadoop.hbase.security.access.TestNamespaceCommands |
|   | org.apache.hadoop.hbase.snapshot.TestMobFlushSnapshotFromClient |
|   | org.apache.hadoop.hbase.security.access.TestNamespaceCommands |
|   | org.apache.hadoop.hbase.snapshot.TestMobFlushSnapshotFromClient |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12797786/HBASE-15507-v3.patch |
| JIRA Issue | HBASE-15507 |
| Optional Tests |  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  rubocop  ruby_lint  |
| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh |
| git revision | master / 6ea4994 |
| Default Java | 1.7.0_79 |
| Multi-JDK versions |  /home/jenkins/tools/java/jdk1.8.0:1.8.0 /usr/local/jenkins/java/jdk1.7.0_79:1.7.0_79 |
| findbugs | v3.0.0 |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1341/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit | https://builds.apache.org/job/PreCommit-HBASE-Build/1341/artifact/patchprocess/patch-unit-hbase-server.txt |
| unit test logs |  https://builds.apache.org/job/PreCommit-HBASE-Build/1341/artifact/patchprocess/patch-unit-hbase-server.txt https://builds.apache.org/job/PreCommit-HBASE-Build/1341/artifact/patchprocess/patch-unit-hbase-server.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HBASE-Build/1341/testReport/ |
| modules | C:  hbase-client   hbase-client   hbase-server   hbase-server   hbase-shell   hbase-shell  U: . |
| Console output | https://builds.apache.org/job/PreCommit-HBASE-Build/1341/console |
| Powered by | Apache Yetus 0.2.0   http://yetus.apache.org |


This message was automatically generated.



Usual flaky test failures.
{code}
-rw-r--r--  1 tyu  staff  2283 Apr  8 18:41 ./hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java.rej
-rw-r--r--  1 tyu  staff  2050 Apr  8 18:41 ./hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java.rej
-rw-r--r--  1 tyu  staff  685 Apr  8 18:41 ./hbase-shell/src/main/ruby/hbase/replication_admin.rb.rej
{code}
Mind attaching patch for branch-1, Geoffrey ?

Thanks

Since HBASE-11393 was only committed to master branch, so does this JIRA.

Thanks Geoffrey for the patch.

FAILURE: Integrated in HBase-Trunk_matrix #834 (See [https://builds.apache.org/job/HBase-Trunk_matrix/834/])
HBASE-15507 Online modification of enabled ReplicationPeerConfig (tedyu: rev e0f31ba6e68416db359d31eee21750cd7559909f)
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java
* hbase-shell/src/main/ruby/hbase/replication_admin.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerConfigListener.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java
* hbase-shell/src/main/ruby/shell/commands/update_peer_config.rb
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/BaseReplicationEndpoint.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdminWithClusters.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
* hbase-shell/src/test/ruby/hbase/replication_admin_test.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeers.java
* hbase-shell/src/main/ruby/shell.rb
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/ReplicationEndpoint.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java


FAILURE: Integrated in HBase-1.4 #85 (See [https://builds.apache.org/job/HBase-1.4/85/])
HBASE-15633 Backport HBASE-15507 to branch-1 (Geoffrey Jacoby) (tedyu: rev 85f2caf1843c03703f7326b55b163623ca734c73)
* hbase-shell/src/test/ruby/hbase/replication_admin_test.rb
* hbase-shell/src/main/ruby/hbase/replication_admin.rb
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationSerDeHelper.java
* hbase-shell/src/main/ruby/shell/commands/update_peer_config.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeers.java
* hbase-shell/src/main/ruby/shell.rb
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/ReplicationEndpoint.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerConfigListener.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdminWithClusters.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/BaseReplicationEndpoint.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java


FAILURE: Integrated in HBase-0.98-matrix #333 (See [https://builds.apache.org/job/HBase-0.98-matrix/333/])
HBASE-15647 Backport HBASE-15507 (update_peer_config) to 0.98 (apurtell: rev c9b9f7f660519bc9576f73f5a79ef27f55475651)
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/ReplicationEndpoint.java
* hbase-shell/src/main/ruby/shell.rb
* hbase-shell/src/main/ruby/hbase/replication_admin.rb
* hbase-shell/src/test/ruby/hbase/replication_admin_test.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationSerDeHelper.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeers.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/BaseReplicationEndpoint.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdminWithClusters.java
* hbase-shell/src/main/ruby/shell/commands/update_peer_config.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationBase.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerConfigListener.java


FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1205 (See [https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1205/])
HBASE-15647 Backport HBASE-15507 (update_peer_config) to 0.98 (apurtell: rev c9b9f7f660519bc9576f73f5a79ef27f55475651)
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationBase.java
* hbase-shell/src/main/ruby/shell.rb
* hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java
* hbase-shell/src/main/ruby/shell/commands/update_peer_config.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerZKImpl.java
* hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdminWithClusters.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeerConfigListener.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeers.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationSerDeHelper.java
* hbase-shell/src/test/ruby/hbase/replication_admin_test.rb
* hbase-shell/src/main/ruby/hbase/replication_admin.rb
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java
* hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/BaseReplicationEndpoint.java
* hbase-server/src/main/java/org/apache/hadoop/hbase/replication/ReplicationEndpoint.java


