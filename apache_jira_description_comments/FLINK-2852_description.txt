The {{ScalaShellITSuite}} checks the log output whether a job has successful completed or not. For that to happen it checks for a {{Job execution switched to status FINISHED}} string in the log output. However, if the {{FlinkClientActor}} receives first a {{JobResultSuccess}} message before receiving the {{JobStatusChanged}} message, then it will send the execution result back to the {{Client}} and terminate itself. This has the consequence that the output will never contain the above-mentioned string.

I propose to use a different mean to check whether a job has finished successfully or not.