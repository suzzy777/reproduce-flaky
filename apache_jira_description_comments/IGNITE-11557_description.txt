test failed with the following trace
_[2019-03-18 08:24:48,268][ERROR][test-runner-#443693%query.SqlSystemViewsSelfTest%][GridMapQueryExecutor] Failed to execute local query. class org.apache.ignite.IgniteCheckedException: Failed to execute SQL query. Exception calling user-defined function: "can_fail(): null"; SQL statement: SELECT "STRING"._KEY, "STRING"._VAL FROM "STRING" WHERE _key=100 AND sleep()>0 AND can_fail()=0 [90105-197] at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQuery(IgniteH2Indexing.java:846) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQueryWithTimer(IgniteH2Indexing.java:923) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onQueryRequest0(GridMapQueryExecutor.java:588) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onQueryRequest(GridMapQueryExecutor.java:388) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onMessage(GridMapQueryExecutor.java:203) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor$1.applyx(GridReduceQueryExecutor.java:163) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor$1.applyx(GridReduceQueryExecutor.java:161) at org.apache.ignite.internal.util.lang.IgniteInClosure2X.apply(IgniteInClosure2X.java:38) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.send(IgniteH2Indexing.java:2057) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor.send(GridReduceQueryExecutor.java:1234) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor.query(GridReduceQueryExecutor.java:757) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing$3.iterator(IgniteH2Indexing.java:1015) at org.apache.ignite.internal.processors.cache.QueryCursorImpl.iter(QueryCursorImpl.java:102) at org.apache.ignite.internal.processors.cache.query.RegisteredQueryCursor.iter(RegisteredQueryCursor.java:64) at org.apache.ignite.internal.processors.cache.QueryCursorImpl.getAll(QueryCursorImpl.java:121) at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.lambda$testQueryHistoryMetricsModes$0(SqlSystemViewsSelfTest.java:349) at org.apache.ignite.testframework.GridTestUtils.assertThrows(GridTestUtils.java:317) at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes(SqlSystemViewsSelfTest.java:347) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.apache.ignite.testframework.junits.GridAbstractTest$7.run(GridAbstractTest.java:2107) at java.lang.Thread.run(Thread.java:748) Caused by: org.h2.jdbc.JdbcSQLException: Exception calling user-defined function: "can_fail(): null"; SQL statement: SELECT "STRING"._KEY, "STRING"._VAL FROM "STRING" WHERE _key=100 AND sleep()>0 AND can_fail()=0 [90105-197] at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) at org.h2.message.DbException.get(DbException.java:168) at org.h2.message.DbException.convertInvocation(DbException.java:324) at org.h2.engine.FunctionAlias$JavaMethod.getValue(FunctionAlias.java:468) at org.h2.expression.JavaFunction.getValue(JavaFunction.java:38) at org.h2.expression.Comparison.getValue(Comparison.java:239) at org.h2.expression.ConditionAndOr.getValue(ConditionAndOr.java:86) at org.h2.expression.Expression.getBooleanValue(Expression.java:178) at org.h2.command.dml.Select.isConditionMet(Select.java:312) at org.h2.command.dml.Select$LazyResultQueryFlat.fetchNextRow(Select.java:1455) at org.h2.result.LazyResult.hasNext(LazyResult.java:79) at org.h2.result.LazyResult.next(LazyResult.java:59) at org.h2.command.dml.Select.queryFlat(Select.java:527) at org.h2.command.dml.Select.queryWithoutCache(Select.java:633) at org.h2.command.dml.Query.queryWithoutCacheLazyCheck(Query.java:114) at org.h2.command.dml.Query.query(Query.java:352) at org.h2.command.dml.Query.query(Query.java:333) at org.h2.command.CommandContainer.query(CommandContainer.java:114) at org.h2.command.Command.executeQuery(Command.java:202) at org.h2.jdbc.JdbcPreparedStatement.executeQuery(JdbcPreparedStatement.java:114) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQuery(IgniteH2Indexing.java:839) ... 29 more Caused by: java.lang.IllegalArgumentException at org.apache.ignite.testframework.GridTestUtils$SqlTestFunctions.can_fail(GridTestUtils.java:2122) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.h2.engine.FunctionAlias$JavaMethod.getValue(FunctionAlias.java:456) ... 46 more [2019-03-18 08:24:48,278][ERROR][test-runner-#443693%query.SqlSystemViewsSelfTest%][GridMapQueryExecutor] Failed to run map query on local node. class org.apache.ignite.IgniteCheckedException: Failed to execute SQL query. Exception calling user-defined function: "can_fail(): null"; SQL statement: SELECT "STRING"._KEY, "STRING"._VAL FROM "STRING" WHERE _key=100 AND sleep()>0 AND can_fail()=0 [90105-197] at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQuery(IgniteH2Indexing.java:846) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQueryWithTimer(IgniteH2Indexing.java:923) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onQueryRequest0(GridMapQueryExecutor.java:588) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onQueryRequest(GridMapQueryExecutor.java:388) at org.apache.ignite.internal.processors.query.h2.twostep.GridMapQueryExecutor.onMessage(GridMapQueryExecutor.java:203) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor$1.applyx(GridReduceQueryExecutor.java:163) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor$1.applyx(GridReduceQueryExecutor.java:161) at org.apache.ignite.internal.util.lang.IgniteInClosure2X.apply(IgniteInClosure2X.java:38) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.send(IgniteH2Indexing.java:2057) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor.send(GridReduceQueryExecutor.java:1234) at org.apache.ignite.internal.processors.query.h2.twostep.GridReduceQueryExecutor.query(GridReduceQueryExecutor.java:757) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing$3.iterator(IgniteH2Indexing.java:1015) at org.apache.ignite.internal.processors.cache.QueryCursorImpl.iter(QueryCursorImpl.java:102) at org.apache.ignite.internal.processors.cache.query.RegisteredQueryCursor.iter(RegisteredQueryCursor.java:64) at org.apache.ignite.internal.processors.cache.QueryCursorImpl.getAll(QueryCursorImpl.java:121) at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.lambda$testQueryHistoryMetricsModes$0(SqlSystemViewsSelfTest.java:349) at org.apache.ignite.testframework.GridTestUtils.assertThrows(GridTestUtils.java:317) at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes(SqlSystemViewsSelfTest.java:347) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.apache.ignite.testframework.junits.GridAbstractTest$7.run(GridAbstractTest.java:2107) at java.lang.Thread.run(Thread.java:748) Caused by: org.h2.jdbc.JdbcSQLException: Exception calling user-defined function: "can_fail(): null"; SQL statement: SELECT "STRING"._KEY, "STRING"._VAL FROM "STRING" WHERE _key=100 AND sleep()>0 AND can_fail()=0 [90105-197] at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) at org.h2.message.DbException.get(DbException.java:168) at org.h2.message.DbException.convertInvocation(DbException.java:324) at org.h2.engine.FunctionAlias$JavaMethod.getValue(FunctionAlias.java:468) at org.h2.expression.JavaFunction.getValue(JavaFunction.java:38) at org.h2.expression.Comparison.getValue(Comparison.java:239) at org.h2.expression.ConditionAndOr.getValue(ConditionAndOr.java:86) at org.h2.expression.Expression.getBooleanValue(Expression.java:178) at org.h2.command.dml.Select.isConditionMet(Select.java:312) at org.h2.command.dml.Select$LazyResultQueryFlat.fetchNextRow(Select.java:1455) at org.h2.result.LazyResult.hasNext(LazyResult.java:79) at org.h2.result.LazyResult.next(LazyResult.java:59) at org.h2.command.dml.Select.queryFlat(Select.java:527) at org.h2.command.dml.Select.queryWithoutCache(Select.java:633) at org.h2.command.dml.Query.queryWithoutCacheLazyCheck(Query.java:114) at org.h2.command.dml.Query.query(Query.java:352) at org.h2.command.dml.Query.query(Query.java:333) at org.h2.command.CommandContainer.query(CommandContainer.java:114) at org.h2.command.Command.executeQuery(Command.java:202) at org.h2.jdbc.JdbcPreparedStatement.executeQuery(JdbcPreparedStatement.java:114) at org.apache.ignite.internal.processors.query.h2.IgniteH2Indexing.executeSqlQuery(IgniteH2Indexing.java:839) ... 29 more Caused by: java.lang.IllegalArgumentException at org.apache.ignite.testframework.GridTestUtils$SqlTestFunctions.can_fail(GridTestUtils.java:2122) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.h2.engine.FunctionAlias$JavaMethod.getValue(FunctionAlias.java:456) ... 46 more [2019-03-18 08:24:48,293][ERROR][main][root] Test failed. java.lang.AssertionError at org.junit.Assert.fail(Assert.java:86) at org.junit.Assert.assertTrue(Assert.java:41) at org.junit.Assert.assertTrue(Assert.java:52) at org.apache.ignite.testframework.junits.JUnitAssertAware.assertTrue(JUnitAssertAware.java:34) at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes(SqlSystemViewsSelfTest.java:393) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.apache.ignite.testframework.junits.GridAbstractTest$7.run(GridAbstractTest.java:2107) at java.lang.Thread.run(Thread.java:748)_
++[11:38:11]++_[org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes]_ _java.lang.AssertionError_
++[11:38:11]++_[org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes]_ _java.lang.AssertionError at org.apache.ignite.internal.processors.query.SqlSystemViewsSelfTest.testQueryHistoryMetricsModes(SqlSystemViewsSelfTest.java:393)_