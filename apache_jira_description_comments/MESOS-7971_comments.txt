I haven't seen any failures on either Apache on Mesosphere's internal CI. Likely is fixed by MESOS-8082. Please re-open if observed.

Looks like it's happening again: https://reviews.apache.org/r/64211/#review197842

Failed on Apache CI: https://builds.apache.org/job/Mesos-Buildbot/5273/BUILDTOOL=cmake,COMPILER=clang,CONFIGURATION=--verbose%20--disable-libtool-wrappers,ENVIRONMENT=GLOG_v=1%20MESOS_VERBOSE=1%20MESOS_TEST_AWAIT_TIMEOUT=60secs,OS=ubuntu%3A16.04,label_exp=(ubuntu)&&(!ubuntu-us1)&&(!ubuntu-eu2)&&(!H21)&&(!H23)&&(!H26)&&(!H27)/console

Observed another failure on Apache CI: [^ApacheJenkinsConsoleText_autotools_gcc_ubuntu16.txt]

Saw this again in ASF CI

 

{code}
01:59:40 [ RUN      ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove
01:59:40 I0814 01:59:40.466804 25171 cluster.cpp:173] Creating default 'local' authorizer
01:59:40 I0814 01:59:40.470376 25184 master.cpp:413] Master d922690d-0ba0-451a-b563-88c300e70670 (f419ee17fd4a) started on 172.17.0.4:57729
01:59:40 I0814 01:59:40.470427 25184 master.cpp:416] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="1000secs" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/e6gxWw/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_unreachable_tasks_per_framework="1000" --memory_profiling="false" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --require_agent_domain="false" --role_sorter="drf" --roles="role1" --root_submissions="true" --version="false" --webui_dir="/tmp/SRC/build/mesos-1.7.0/_inst/share/mesos/webui" --work_dir="/tmp/e6gxWw/master" --zk_session_timeout="10secs"
01:59:40 I0814 01:59:40.470870 25184 master.cpp:465] Master only allowing authenticated frameworks to register
01:59:40 I0814 01:59:40.470890 25184 master.cpp:471] Master only allowing authenticated agents to register
01:59:40 I0814 01:59:40.470901 25184 master.cpp:477] Master only allowing authenticated HTTP frameworks to register
01:59:40 I0814 01:59:40.470916 25184 credentials.hpp:37] Loading credentials for authentication from '/tmp/e6gxWw/credentials'
01:59:40 I0814 01:59:40.471252 25184 master.cpp:521] Using default 'crammd5' authenticator
01:59:40 I0814 01:59:40.471448 25184 http.cpp:977] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
01:59:40 I0814 01:59:40.471707 25184 http.cpp:977] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
01:59:40 I0814 01:59:40.472013 25184 http.cpp:977] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
01:59:40 I0814 01:59:40.472188 25184 master.cpp:602] Authorization enabled
01:59:40 W0814 01:59:40.472220 25184 master.cpp:665] The '--roles' flag is deprecated. This flag will be removed in the future. See the Mesos 0.27 upgrade notes for more information
01:59:40 I0814 01:59:40.472955 25185 hierarchical.cpp:182] Initialized hierarchical allocator process
01:59:40 I0814 01:59:40.477638 25178 whitelist_watcher.cpp:77] No whitelist given
01:59:40 I0814 01:59:40.481549 25172 master.cpp:2083] Elected as the leading master!
01:59:40 I0814 01:59:40.481595 25172 master.cpp:1638] Recovering from registrar
01:59:40 I0814 01:59:40.481855 25187 registrar.cpp:339] Recovering registrar
01:59:40 I0814 01:59:40.482591 25187 registrar.cpp:383] Successfully fetched the registry (0B) in 680704ns
01:59:40 I0814 01:59:40.482749 25187 registrar.cpp:487] Applied 1 operations in 58202ns; attempting to update the registry
01:59:40 I0814 01:59:40.483386 25187 registrar.cpp:544] Successfully updated the registry in 563968ns
01:59:40 I0814 01:59:40.483546 25187 registrar.cpp:416] Successfully recovered registrar
01:59:40 I0814 01:59:40.484119 25178 master.cpp:1752] Recovered 0 agents from the registry (135B); allowing 10mins for agents to reregister
01:59:40 I0814 01:59:40.484197 25172 hierarchical.cpp:220] Skipping recovery of hierarchical allocator: nothing to recover
01:59:40 W0814 01:59:40.490447 25171 process.cpp:2810] Attempted to spawn already running process files@172.17.0.4:57729
01:59:40 I0814 01:59:40.491410 25171 containerizer.cpp:300] Using isolation { environment_secret, posix/cpu, posix/mem, filesystem/posix, network/cni }
01:59:40 W0814 01:59:40.491938 25171 backend.cpp:76] Failed to create 'aufs' backend: AufsBackend requires root privileges
01:59:40 W0814 01:59:40.491963 25171 backend.cpp:76] Failed to create 'bind' backend: BindBackend requires root privileges
01:59:40 I0814 01:59:40.491991 25171 provisioner.cpp:298] Using default backend 'copy'
01:59:40 I0814 01:59:40.494084 25171 cluster.cpp:479] Creating default 'local' authorizer
01:59:40 I0814 01:59:40.496165 25174 slave.cpp:268] Mesos agent started on (406)@172.17.0.4:57729
01:59:40 I0814 01:59:40.496204 25174 slave.cpp:269] Flags at startup: --acls="" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/store/appc" --authenticate_http_readonly="true" --authenticate_http_readwrite="false" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_destroy_timeout="1mins" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/credential" --default_role="*" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher="posix" --launcher_dir="/tmp/SRC/build/mesos-1.7.0/_build/sub/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --memory_profiling="false" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --reconfiguration_policy="equal" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="disk(*):1024" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_xVTvVd" --zk_session_timeout="10secs"
01:59:40 I0814 01:59:40.496671 25174 credentials.hpp:86] Loading credential for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/credential'
01:59:40 I0814 01:59:40.496835 25174 slave.cpp:301] Agent using credential for: test-principal
01:59:40 I0814 01:59:40.496857 25174 credentials.hpp:37] Loading credentials for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8wKvUU/http_credentials'
01:59:40 I0814 01:59:40.497073 25174 http.cpp:977] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
01:59:40 I0814 01:59:40.497463 25174 disk_profile_adaptor.cpp:80] Creating default disk profile adaptor module
01:59:40 I0814 01:59:40.498484 25174 slave.cpp:616] Agent resources: [{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"cpus","scalar":{"value":16.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":47270.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
01:59:40 I0814 01:59:40.498739 25174 slave.cpp:624] Agent attributes: [  ]
01:59:40 I0814 01:59:40.498759 25174 slave.cpp:633] Agent hostname: f419ee17fd4a
01:59:40 I0814 01:59:40.499018 25172 task_status_update_manager.cpp:181] Pausing sending task status updates
01:59:40 I0814 01:59:40.500543 25183 state.cpp:66] Recovering state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_xVTvVd/meta'
01:59:40 I0814 01:59:40.500830 25180 slave.cpp:6906] Finished recovering checkpointed state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_xVTvVd/meta', beginning agent recovery
01:59:40 I0814 01:59:40.501010 25179 task_status_update_manager.cpp:207] Recovering task status update manager
01:59:40 I0814 01:59:40.501459 25187 containerizer.cpp:718] Recovering Mesos containers
01:59:40 I0814 01:59:40.501768 25187 containerizer.cpp:1025] Recovering isolators
01:59:40 I0814 01:59:40.502652 25182 containerizer.cpp:1064] Recovering provisioner
01:59:40 I0814 01:59:40.503391 25180 provisioner.cpp:494] Provisioner recovery complete
01:59:40 I0814 01:59:40.504179 25180 composing.cpp:339] Finished recovering all containerizers
01:59:40 I0814 01:59:40.504335 25176 slave.cpp:7135] Recovering executors
01:59:40 I0814 01:59:40.504496 25176 slave.cpp:7288] Finished recovery
01:59:40 I0814 01:59:40.505419 25187 task_status_update_manager.cpp:181] Pausing sending task status updates
01:59:40 I0814 01:59:40.505446 25182 slave.cpp:1255] New master detected at master@172.17.0.4:57729
01:59:40 I0814 01:59:40.505596 25182 slave.cpp:1310] Detecting new master
01:59:40 I0814 01:59:40.515952 25177 slave.cpp:1337] Authenticating with master master@172.17.0.4:57729
01:59:40 I0814 01:59:40.516091 25177 slave.cpp:1346] Using default CRAM-MD5 authenticatee
01:59:40 I0814 01:59:40.516449 25184 authenticatee.cpp:121] Creating new client SASL connection
01:59:40 I0814 01:59:40.516788 25179 master.cpp:9604] Authenticating slave(406)@172.17.0.4:57729
01:59:40 I0814 01:59:40.516923 25178 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(826)@172.17.0.4:57729
01:59:40 I0814 01:59:40.517225 25181 authenticator.cpp:98] Creating new server SASL connection
01:59:40 I0814 01:59:40.517462 25186 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
01:59:40 I0814 01:59:40.517503 25186 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
01:59:40 I0814 01:59:40.517645 25172 authenticator.cpp:204] Received SASL authentication start
01:59:40 I0814 01:59:40.517724 25172 authenticator.cpp:326] Authentication requires more steps
01:59:40 I0814 01:59:40.517859 25172 authenticatee.cpp:259] Received SASL authentication step
01:59:40 I0814 01:59:40.518054 25173 authenticator.cpp:232] Received SASL authentication step
01:59:40 I0814 01:59:40.518092 25173 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'f419ee17fd4a' server FQDN: 'f419ee17fd4a' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
01:59:40 I0814 01:59:40.518106 25173 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
01:59:40 I0814 01:59:40.518148 25173 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
01:59:40 I0814 01:59:40.518172 25173 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'f419ee17fd4a' server FQDN: 'f419ee17fd4a' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
01:59:40 I0814 01:59:40.518185 25173 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
01:59:40 I0814 01:59:40.518203 25173 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
01:59:40 I0814 01:59:40.518227 25173 authenticator.cpp:318] Authentication success
01:59:40 I0814 01:59:40.518326 25174 authenticatee.cpp:299] Authentication success
01:59:40 I0814 01:59:40.518470 25176 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(826)@172.17.0.4:57729
01:59:40 I0814 01:59:40.518499 25175 master.cpp:9627] Successfully authenticated principal 'test-principal' at slave(406)@172.17.0.4:57729
01:59:40 I0814 01:59:40.518726 25183 slave.cpp:1429] Successfully authenticated with master master@172.17.0.4:57729
01:59:40 I0814 01:59:40.519119 25183 slave.cpp:1874] Will retry registration in 12.831758ms if necessary
01:59:40 I0814 01:59:40.519280 25177 master.cpp:6562] Received register agent message from slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 I0814 01:59:40.519505 25177 master.cpp:3921] Authorizing agent providing resources 'disk:1024; cpus:16; mem:47270; ports:[31000-32000]' with principal 'test-principal'
01:59:40 I0814 01:59:40.520218 25181 master.cpp:6629] Authorized registration of agent at slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 I0814 01:59:40.520300 25181 master.cpp:6744] Registering agent at slave(406)@172.17.0.4:57729 (f419ee17fd4a) with id d922690d-0ba0-451a-b563-88c300e70670-S0
01:59:40 I0814 01:59:40.520972 25180 registrar.cpp:487] Applied 1 operations in 287896ns; attempting to update the registry
01:59:40 I0814 01:59:40.521652 25180 registrar.cpp:544] Successfully updated the registry in 607232ns
01:59:40 I0814 01:59:40.521870 25175 master.cpp:6792] Admitted agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 I0814 01:59:40.522469 25175 master.cpp:6837] Registered agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a) with disk:1024; cpus:16; mem:47270; ports:[31000-32000]
01:59:40 I0814 01:59:40.522982 25185 slave.cpp:1476] Registered with master master@172.17.0.4:57729; given agent ID d922690d-0ba0-451a-b563-88c300e70670-S0
01:59:40 I0814 01:59:40.523057 25182 hierarchical.cpp:601] Added agent d922690d-0ba0-451a-b563-88c300e70670-S0 (f419ee17fd4a) with disk:1024; cpus:16; mem:47270; ports:[31000-32000] (allocated: {})
01:59:40 I0814 01:59:40.523141 25178 task_status_update_manager.cpp:188] Resuming sending task status updates
01:59:40 I0814 01:59:40.523404 25182 hierarchical.cpp:1564] Performed allocation for 1 agents in 132969ns
01:59:40 I0814 01:59:40.526543 25180 process.cpp:3569] Handling HTTP event for process 'master' with path: '/master/reserve'
01:59:40 I0814 01:59:40.528496 25177 http.cpp:1117] HTTP POST for /master/reserve from 172.17.0.4:50007
01:59:40 I0814 01:59:40.529224 25177 master.cpp:3566] Authorizing principal 'test-principal' to reserve resources 'disk(reservations: [(DYNAMIC,role1,test-principal)]):512'
01:59:40 I0814 01:59:40.532248 25172 master.cpp:11297] Sending operation '' (uuid: 6bd9afca-10a1-4bdd-825e-429adb552ee3) to agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 I0814 01:59:40.535658 25174 process.cpp:3569] Handling HTTP event for process 'master' with path: '/master/create-volumes'
01:59:40 I0814 01:59:40.537286 25183 http.cpp:1117] HTTP POST for /master/create-volumes from 172.17.0.4:50008
01:59:40 I0814 01:59:40.538437 25185 slave.cpp:1496] Checkpointing SlaveInfo to '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_xVTvVd/meta/slaves/d922690d-0ba0-451a-b563-88c300e70670-S0/slave.info'
01:59:40 I0814 01:59:40.538345 25183 master.cpp:3701] Authorizing principal 'test-principal' to create volumes '[{"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
01:59:40 I0814 01:59:40.539438 25185 slave.cpp:1545] Forwarding agent update {"operations":{},"resource_version_uuid":{"value":"QtRa8MNkTTO7SdBRbNZTnw=="},"slave_id":{"value":"d922690d-0ba0-451a-b563-88c300e70670-S0"},"update_oversubscribed_resources":false}
01:59:40 W0814 01:59:40.540161 25177 master.cpp:7961] Performing explicit reconciliation with agent for known operation 6bd9afca-10a1-4bdd-825e-429adb552ee3 since it was not present in original reconciliation message from agent
01:59:40 I0814 01:59:40.540590 25185 slave.cpp:4199] Updated checkpointed resources from {} to disk(reservations: [(DYNAMIC,role1,test-principal)]):512
01:59:40 I0814 01:59:40.540673 25185 slave.cpp:7969] Updating the state of operation with no ID (uuid: 6bd9afca-10a1-4bdd-825e-429adb552ee3) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
01:59:40 I0814 01:59:40.540987 25172 master.cpp:11047] Updating the state of operation '' (uuid: 6bd9afca-10a1-4bdd-825e-429adb552ee3) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
01:59:40 E0814 01:59:40.541215 25172 master.cpp:8453] Failed to find the operation '' (uuid: 6bd9afca-10a1-4bdd-825e-429adb552ee3) for an operator API call on agent d922690d-0ba0-451a-b563-88c300e70670-S0
01:59:40 I0814 01:59:40.541916 25172 master.cpp:11297] Sending operation '' (uuid: bc5fe551-478b-4ac2-a8d2-3bdb68724683) to agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 W0814 01:59:40.542896 25171 process.cpp:2810] Attempted to spawn already running process version@172.17.0.4:57729
01:59:40 I0814 01:59:40.543032 25178 hierarchical.cpp:697] Agent d922690d-0ba0-451a-b563-88c300e70670-S0 (f419ee17fd4a) updated with total resources disk:512; cpus:16; mem:47270; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):512
01:59:40 I0814 01:59:40.543386 25178 hierarchical.cpp:1564] Performed allocation for 1 agents in 149782ns
01:59:40 I0814 01:59:40.543972 25171 sched.cpp:232] Version: 1.7.0
01:59:40 I0814 01:59:40.544817 25172 sched.cpp:336] New master detected at master@172.17.0.4:57729
01:59:40 I0814 01:59:40.544947 25172 sched.cpp:396] Authenticating with master master@172.17.0.4:57729
01:59:40 I0814 01:59:40.544976 25172 sched.cpp:403] Using default CRAM-MD5 authenticatee
01:59:40 I0814 01:59:40.545266 25186 authenticatee.cpp:121] Creating new client SASL connection
01:59:40 I0814 01:59:40.545603 25184 master.cpp:9604] Authenticating scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.545797 25175 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(827)@172.17.0.4:57729
01:59:40 I0814 01:59:40.546165 25181 authenticator.cpp:98] Creating new server SASL connection
01:59:40 I0814 01:59:40.546433 25187 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
01:59:40 I0814 01:59:40.546473 25187 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
01:59:40 I0814 01:59:40.546610 25174 authenticator.cpp:204] Received SASL authentication start
01:59:40 I0814 01:59:40.546684 25174 authenticator.cpp:326] Authentication requires more steps
01:59:40 I0814 01:59:40.546808 25174 authenticatee.cpp:259] Received SASL authentication step
01:59:40 I0814 01:59:40.546985 25173 authenticator.cpp:232] Received SASL authentication step
01:59:40 I0814 01:59:40.547027 25173 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'f419ee17fd4a' server FQDN: 'f419ee17fd4a' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
01:59:40 I0814 01:59:40.547046 25173 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
01:59:40 I0814 01:59:40.547092 25173 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
01:59:40 I0814 01:59:40.547124 25173 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'f419ee17fd4a' server FQDN: 'f419ee17fd4a' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
01:59:40 I0814 01:59:40.547140 25173 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
01:59:40 I0814 01:59:40.547157 25173 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
01:59:40 I0814 01:59:40.547180 25173 authenticator.cpp:318] Authentication success
01:59:40 I0814 01:59:40.547291 25185 authenticatee.cpp:299] Authentication success
01:59:40 I0814 01:59:40.547381 25176 master.cpp:9627] Successfully authenticated principal 'test-principal' at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.547430 25177 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(827)@172.17.0.4:57729
01:59:40 I0814 01:59:40.547694 25179 sched.cpp:501] Successfully authenticated with master master@172.17.0.4:57729
01:59:40 I0814 01:59:40.547731 25179 sched.cpp:822] Sending SUBSCRIBE call to master@172.17.0.4:57729
01:59:40 I0814 01:59:40.547876 25179 sched.cpp:855] Will retry registration in 862.65113ms if necessary
01:59:40 I0814 01:59:40.548285 25175 master.cpp:2854] Received SUBSCRIBE call for framework 'default' at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.548321 25175 master.cpp:2155] Authorizing framework principal 'test-principal' to receive offers for roles '{ role1 }'
01:59:40 I0814 01:59:40.548898 25187 master.cpp:2935] Subscribing framework default with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
01:59:40 I0814 01:59:40.551731 25187 master.cpp:9826] Adding framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729 with roles {  } suppressed
01:59:40 I0814 01:59:40.552500 25185 sched.cpp:749] Framework registered with d922690d-0ba0-451a-b563-88c300e70670-0000
01:59:40 I0814 01:59:40.552567 25185 sched.cpp:763] Scheduler::registered took 39654ns
01:59:40 I0814 01:59:40.552633 25174 hierarchical.cpp:306] Added framework d922690d-0ba0-451a-b563-88c300e70670-0000
01:59:40 I0814 01:59:40.555011 25174 hierarchical.cpp:1564] Performed allocation for 1 agents in 2.137182ms
01:59:40 I0814 01:59:40.555826 25173 master.cpp:9415] Sending offers [ d922690d-0ba0-451a-b563-88c300e70670-O0 ] to framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.557173 25172 sched.cpp:919] Scheduler::resourceOffers took 171419ns
01:59:40 ../../../src/tests/persistent_volume_endpoints_tests.cpp:1728: Failure
01:59:40 Value of: Resources(offer.resources()).contains( allocatedResources(volume, frameworkInfo.roles(0)))
01:59:40   Actual: false
01:59:40 Expected: true
01:59:40 I0814 01:59:40.559561 25187 master.cpp:11406] Removing offer d922690d-0ba0-451a-b563-88c300e70670-O0
01:59:40 I0814 01:59:40.560061 25187 master.cpp:4424] Processing ACCEPT call for offers: [ d922690d-0ba0-451a-b563-88c300e70670-O0 ] on agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a) for framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.560227 25187 master.cpp:3753] Authorizing principal 'test-principal' to destroy volumes '[{"allocation_info":{"role":"role1"},"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
01:59:40 W0814 01:59:40.561880 25172 master.cpp:2236] Dropping DESTROY operation from framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729: disk(allocated: role1):512; cpus(allocated: role1):16; mem(allocated: role1):47270; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512 does not contain disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1
01:59:40 I0814 01:59:40.563591 25176 hierarchical.cpp:1236] Recovered disk(allocated: role1):512; cpus(allocated: role1):16; mem(allocated: role1):47270; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512 (total: disk:512; cpus:16; mem:47270; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):512, allocated: {}) on agent d922690d-0ba0-451a-b563-88c300e70670-S0 from framework d922690d-0ba0-451a-b563-88c300e70670-0000
01:59:40 I0814 01:59:40.563693 25176 hierarchical.cpp:1282] Framework d922690d-0ba0-451a-b563-88c300e70670-0000 filtered agent d922690d-0ba0-451a-b563-88c300e70670-S0 for 5secs
01:59:40 I0814 01:59:40.597072 25180 slave.cpp:4199] Updated checkpointed resources from disk(reservations: [(DYNAMIC,role1,test-principal)]):512 to disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1
01:59:40 I0814 01:59:40.597278 25180 slave.cpp:7969] Updating the state of operation with no ID (uuid: bc5fe551-478b-4ac2-a8d2-3bdb68724683) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
01:59:40 I0814 01:59:40.597712 25184 master.cpp:11047] Updating the state of operation '' (uuid: bc5fe551-478b-4ac2-a8d2-3bdb68724683) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
01:59:40 I0814 01:59:40.598459 25181 master.cpp:5920] Processing REVIVE call for framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.598646 25181 hierarchical.cpp:1385] Revived offers for roles { role1 } of framework d922690d-0ba0-451a-b563-88c300e70670-0000
01:59:40 I0814 01:59:40.600762 25181 hierarchical.cpp:1564] Performed allocation for 1 agents in 1.943396ms
01:59:40 I0814 01:59:40.601620 25174 master.cpp:9415] Sending offers [ d922690d-0ba0-451a-b563-88c300e70670-O1 ] to framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.602790 25183 sched.cpp:919] Scheduler::resourceOffers took 160489ns
01:59:40 I0814 01:59:40.604631 25179 master.cpp:11406] Removing offer d922690d-0ba0-451a-b563-88c300e70670-O1
01:59:40 I0814 01:59:40.605103 25179 master.cpp:4424] Processing ACCEPT call for offers: [ d922690d-0ba0-451a-b563-88c300e70670-O1 ] on agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a) for framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729
01:59:40 I0814 01:59:40.605223 25179 master.cpp:3634] Authorizing principal 'test-principal' to unreserve resources '[{"allocation_info":{"role":"role1"},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}]'
01:59:40 I0814 01:59:40.606395 25178 master.cpp:4858] Applying UNRESERVE operation for resources [{"allocation_info":{"role":"role1"},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}] from framework d922690d-0ba0-451a-b563-88c300e70670-0000 (default) at scheduler-46b55af6-ced5-4453-9c4d-cb79c533e270@172.17.0.4:57729 to agent d922690d-0ba0-451a-b563-88c300e70670-S0 at slave(406)@172.17.0.4:57729 (f419ee17fd4a)
01:59:40 F0814 01:59:40.607164 25178 master.cpp:12387] CHECK_SOME(resources): disk:512; cpus:16; mem:47270; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1 does not contain disk(reservations: [(DYNAMIC,role1,test-principal)]):512 
01:59:40 *** Check failure stack trace: ***
01:59:40     @     0x7fb87f81698d  google::LogMessage::Fail()
01:59:40     @     0x7fb87f815dbc  google::LogMessage::SendToLog()
01:59:40     @     0x7fb87f81666c  google::LogMessage::Flush()
01:59:40     @     0x7fb87f819a28  google::LogMessageFatal::~LogMessageFatal()
01:59:40     @     0x7fb882f15047  _CheckFatal::~_CheckFatal()
01:59:40     @     0x7fb87d0dc892  mesos::internal::master::Slave::apply()
01:59:40     @     0x7fb87d0bb90e  mesos::internal::master::Master::_apply()
01:59:40     @     0x7fb87d0b0f49  mesos::internal::master::Master::_accept()
01:59:40     @     0x7fb87d1f1d89  _ZZN7process8dispatchIN5mesos8internal6master6MasterERKNS1_11FrameworkIDERKNS1_7SlaveIDERKNS1_9ResourcesEONS1_9scheduler11Call_AcceptERKNS_6FutureISt6vectorINSH_IbEESaISJ_EEEES7_SA_SD_SF_SO_EEvRKNS_3PIDIT_EEMSQ_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_ENKUlOS5_OS8_OSB_SG_OSM_PNS_11ProcessBaseEE_clES1B_S1C_S1D_SG_S1E_S1G_
01:59:40     @     0x7fb87d1f17f3  _ZN5cpp176invokeIZN7process8dispatchIN5mesos8internal6master6MasterERKNS3_11FrameworkIDERKNS3_7SlaveIDERKNS3_9ResourcesEONS3_9scheduler11Call_AcceptERKNS1_6FutureISt6vectorINSJ_IbEESaISL_EEEES9_SC_SF_SH_SQ_EEvRKNS1_3PIDIT_EEMSS_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS7_OSA_OSD_SI_OSO_PNS1_11ProcessBaseEE_JS7_SA_SD_SH_SO_S1I_EEEDTclclsr3stdE7forwardISS_Efp_Espclsr3stdE7forwardIT0_Efp0_EEEOSS_DpOS1K_
01:59:40     @     0x7fb87d1f1735  _ZN6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS4_11FrameworkIDERKNS4_7SlaveIDERKNS4_9ResourcesEONS4_9scheduler11Call_AcceptERKNS2_6FutureISt6vectorINSK_IbEESaISM_EEEESA_SD_SG_SI_SR_EEvRKNS2_3PIDIT_EEMST_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS8_OSB_OSE_SJ_OSP_PNS2_11ProcessBaseEE_JS8_SB_SE_SI_SP_St12_PlaceholderILi1EEEE13invoke_expandIS1K_St5tupleIJS8_SB_SE_SI_SP_S1M_EES1P_IJOS1J_EEJLm0ELm1ELm2ELm3ELm4ELm5EEEEDTclsr5cpp17E6invokeclsr3stdE7forwardIST_Efp_Espcl6expandclsr3stdE3getIXT2_EEclsr3stdE7forwardISX_Efp0_EEclsr3stdE7forwardISY_Efp2_EEEEOST_OSX_N5cpp1416integer_sequenceImJXspT2_EEEEOSY_
01:59:41     @     0x7fb87d1f15bb  _ZNO6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS4_11FrameworkIDERKNS4_7SlaveIDERKNS4_9ResourcesEONS4_9scheduler11Call_AcceptERKNS2_6FutureISt6vectorINSK_IbEESaISM_EEEESA_SD_SG_SI_SR_EEvRKNS2_3PIDIT_EEMST_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS8_OSB_OSE_SJ_OSP_PNS2_11ProcessBaseEE_JS8_SB_SE_SI_SP_St12_PlaceholderILi1EEEEclIJS1J_EEEDTcl13invoke_expandclL_ZSt4moveIRS1K_EONSt16remove_referenceIST_E4typeEOST_EdtdefpT1fEclL_ZS1P_IRSt5tupleIJS8_SB_SE_SI_SP_S1M_EEES1U_S1V_EdtdefpT10bound_argsEcvN5cpp1416integer_sequenceImJLm0ELm1ELm2ELm3ELm4ELm5EEEE_Eclsr3stdE16forward_as_tuplespclsr3stdE7forwardIT_Efp_EEEEDpOS22_
01:59:41     @     0x7fb87d1f1542  _ZN5cpp176invokeIN6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS6_11FrameworkIDERKNS6_7SlaveIDERKNS6_9ResourcesEONS6_9scheduler11Call_AcceptERKNS4_6FutureISt6vectorINSM_IbEESaISO_EEEESC_SF_SI_SK_ST_EEvRKNS4_3PIDIT_EEMSV_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSA_OSD_OSG_SL_OSR_PNS4_11ProcessBaseEE_JSA_SD_SG_SK_SR_St12_PlaceholderILi1EEEEEJS1L_EEEDTclclsr3stdE7forwardISV_Efp_Espclsr3stdE7forwardIT0_Efp0_EEEOSV_DpOS1Q_
01:59:41     @     0x7fb87d1f1506  _ZN6lambda8internal6InvokeIvEclINS0_7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS7_11FrameworkIDERKNS7_7SlaveIDERKNS7_9ResourcesEONS7_9scheduler11Call_AcceptERKNS5_6FutureISt6vectorINSN_IbEESaISP_EEEESD_SG_SJ_SL_SU_EEvRKNS5_3PIDIT_EEMSW_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSB_OSE_OSH_SM_OSS_PNS5_11ProcessBaseEE_JSB_SE_SH_SL_SS_St12_PlaceholderILi1EEEEEJS1M_EEEvOSW_DpOT0_
01:59:41     @     0x7fb87d1f0fca  _ZNO6lambda12CallableOnceIFvPN7process11ProcessBaseEEE10CallableFnINS_8internal7PartialIZNS1_8dispatchIN5mesos8internal6master6MasterERKNSA_11FrameworkIDERKNSA_7SlaveIDERKNSA_9ResourcesEONSA_9scheduler11Call_AcceptERKNS1_6FutureISt6vectorINSQ_IbEESaISS_EEEESG_SJ_SM_SO_SX_EEvRKNS1_3PIDIT_EEMSZ_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSE_OSH_OSK_SP_OSV_S3_E_JSE_SH_SK_SO_SV_St12_PlaceholderILi1EEEEEEclEOS3_
01:59:41     @     0x7fb87f6ef58b  _ZNO6lambda12CallableOnceIFvPN7process11ProcessBaseEEEclES3_
01:59:41     @     0x7fb87f6b5a59  process::ProcessBase::consume()
01:59:41     @     0x7fb87f72e1e9  _ZNO7process13DispatchEvent7consumeEPNS_13EventConsumerE
01:59:41     @     0x7fb882efe864  process::ProcessBase::serve()
01:59:41     @     0x7fb87f6b25a8  process::ProcessManager::resume()
01:59:41     @     0x7fb87f6da2ab  process::ProcessManager::init_threads()::$_15::operator()()
01:59:41     @     0x7fb87f6da155  _ZNSt12_Bind_simpleIFZN7process14ProcessManager12init_threadsEvE4$_15vEE9_M_invokeIJEEEvSt12_Index_tupleIJXspT_EEE
01:59:41     @     0x7fb87f6da125  std::_Bind_simple<>::operator()()
01:59:41     @     0x7fb87f6da019  std::thread::_Impl<>::_M_run()
01:59:41     @     0x7fb875957c80  (unknown)
01:59:41     @     0x7fb87516a6ba  start_thread
01:59:41     @     0x7fb874ea041d  (unknown)
01:59:41 Makefile:14811: recipe for target 'check-local' failed
{code}

Slightly different logs observed on an internal CI run (Ubuntu 16, no SSL).  One HTTP response in this run expects a 202, but gets a 409 instead.
{code}
[ RUN      ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove
I1106 19:50:14.650254 19563 cluster.cpp:162] Creating default 'local' authorizer
I1106 19:50:14.651284 19588 master.cpp:442] Master d5905469-73fc-4219-b939-c6056f1f62a1 (ip-172-16-10-48.ec2.internal) started on 172.16.10.48:39946
I1106 19:50:14.651309 19588 master.cpp:444] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="50ms" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authentication_v0_timeout="15secs" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/fZatVl/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_unreachable_tasks_per_framework="1000" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --role_sorter="drf" --roles="role1" --root_submissions="true" --version="false" --webui_dir="/usr/local/share/mesos/webui" --work_dir="/tmp/fZatVl/master" --zk_session_timeout="10secs"
I1106 19:50:14.651437 19588 master.cpp:494] Master only allowing authenticated frameworks to register
I1106 19:50:14.651448 19588 master.cpp:508] Master only allowing authenticated agents to register
I1106 19:50:14.651453 19588 master.cpp:521] Master only allowing authenticated HTTP frameworks to register
I1106 19:50:14.651459 19588 credentials.hpp:37] Loading credentials for authentication from '/tmp/fZatVl/credentials'
I1106 19:50:14.651548 19588 master.cpp:566] Using default 'crammd5' authenticator
I1106 19:50:14.651593 19588 http.cpp:1045] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
I1106 19:50:14.651643 19588 http.cpp:1045] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
I1106 19:50:14.651672 19588 http.cpp:1045] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
I1106 19:50:14.651700 19588 master.cpp:646] Authorization enabled
W1106 19:50:14.651710 19588 master.cpp:709] The '--roles' flag is deprecated. This flag will be removed in the future. See the Mesos 0.27 upgrade notes for more information
I1106 19:50:14.651803 19590 hierarchical.cpp:173] Initialized hierarchical allocator process
I1106 19:50:14.651830 19590 whitelist_watcher.cpp:77] No whitelist given
I1106 19:50:14.652432 19590 master.cpp:2200] Elected as the leading master!
I1106 19:50:14.652454 19590 master.cpp:1739] Recovering from registrar
I1106 19:50:14.652506 19590 registrar.cpp:347] Recovering registrar
I1106 19:50:14.652595 19590 registrar.cpp:391] Successfully fetched the registry (0B) in 72960ns
I1106 19:50:14.652622 19590 registrar.cpp:495] Applied 1 operations in 5332ns; attempting to update the registry
I1106 19:50:14.656131 19586 registrar.cpp:552] Successfully updated the registry in 3.472128ms
I1106 19:50:14.656177 19586 registrar.cpp:424] Successfully recovered registrar
I1106 19:50:14.656266 19588 master.cpp:1838] Recovered 0 agents from the registry (168B); allowing 10mins for agents to re-register
I1106 19:50:14.656299 19588 hierarchical.cpp:211] Skipping recovery of hierarchical allocator: nothing to recover
W1106 19:50:14.657806 19563 process.cpp:3196] Attempted to spawn already running process files@172.16.10.48:39946
I1106 19:50:14.658203 19563 containerizer.cpp:246] Using isolation: posix/cpu,posix/mem,filesystem/posix,network/cni,environment_secret
I1106 19:50:14.661717 19563 linux_launcher.cpp:149] Using /sys/fs/cgroup/freezer as the freezer hierarchy for the Linux launcher
I1106 19:50:14.662039 19563 provisioner.cpp:255] Using default backend 'overlay'
I1106 19:50:14.662547 19563 cluster.cpp:448] Creating default 'local' authorizer
I1106 19:50:14.662969 19589 slave.cpp:249] Mesos agent started on (378)@172.16.10.48:39946
I1106 19:50:14.662987 19589 slave.cpp:250] Flags at startup: --acls="" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/store/appc" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authentication_timeout_max="1mins" --authentication_timeout_min="5secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/credential" --default_role="*" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="" --gc_delay="1weeks" --gc_disk_headroom="0.1" --hadoop_home="" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher="linux" --launcher_dir="/home/ubuntu/workspace/mesos/Mesos_CI-build/FLAG/Plain/label/mesos-ec2-ubuntu-16.04/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="disk(*):1024" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ymMv4I"
I1106 19:50:14.663218 19589 credentials.hpp:86] Loading credential for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/credential'
I1106 19:50:14.663275 19589 slave.cpp:282] Agent using credential for: test-principal
I1106 19:50:14.663295 19589 credentials.hpp:37] Loading credentials for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_wfOyd6/http_credentials'
I1106 19:50:14.663367 19589 http.cpp:1045] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
I1106 19:50:14.663414 19589 http.cpp:1045] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readwrite'
I1106 19:50:14.663873 19589 slave.cpp:564] Agent resources: [{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"cpus","scalar":{"value":2.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":6957.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
I1106 19:50:14.663944 19589 slave.cpp:572] Agent attributes: [  ]
I1106 19:50:14.663952 19589 slave.cpp:581] Agent hostname: ip-172-16-10-48.ec2.internal
I1106 19:50:14.664134 19591 status_update_manager.cpp:177] Pausing sending status updates
I1106 19:50:14.664360 19589 state.cpp:64] Recovering state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ymMv4I/meta'
I1106 19:50:14.664482 19587 status_update_manager.cpp:203] Recovering status update manager
I1106 19:50:14.664541 19590 containerizer.cpp:609] Recovering containerizer
I1106 19:50:14.665339 19589 provisioner.cpp:416] Provisioner recovery complete
I1106 19:50:14.665458 19593 slave.cpp:6328] Finished recovery
I1106 19:50:14.665666 19593 slave.cpp:6510] Querying resource estimator for oversubscribable resources
I1106 19:50:14.665738 19590 slave.cpp:970] New master detected at master@172.16.10.48:39946
I1106 19:50:14.665740 19589 status_update_manager.cpp:177] Pausing sending status updates
I1106 19:50:14.665784 19590 slave.cpp:1015] Detecting new master
I1106 19:50:14.665818 19590 slave.cpp:6524] Received oversubscribable resources {} from the resource estimator
I1106 19:50:14.672075 19588 slave.cpp:1042] Authenticating with master master@172.16.10.48:39946
I1106 19:50:14.672103 19588 slave.cpp:1053] Using default CRAM-MD5 authenticatee
I1106 19:50:14.672178 19591 authenticatee.cpp:121] Creating new client SASL connection
I1106 19:50:14.672533 19591 master.cpp:7886] Authenticating slave(378)@172.16.10.48:39946
I1106 19:50:14.672583 19591 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(798)@172.16.10.48:39946
I1106 19:50:14.672647 19591 authenticator.cpp:98] Creating new server SASL connection
I1106 19:50:14.672976 19591 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I1106 19:50:14.672993 19591 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I1106 19:50:14.673019 19591 authenticator.cpp:204] Received SASL authentication start
I1106 19:50:14.673050 19591 authenticator.cpp:326] Authentication requires more steps
I1106 19:50:14.673077 19591 authenticatee.cpp:259] Received SASL authentication step
I1106 19:50:14.673110 19591 authenticator.cpp:232] Received SASL authentication step
I1106 19:50:14.673125 19591 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-48.ec2.internal' server FQDN: 'ip-172-16-10-48.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I1106 19:50:14.673135 19591 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I1106 19:50:14.673143 19591 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I1106 19:50:14.673151 19591 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-48.ec2.internal' server FQDN: 'ip-172-16-10-48.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I1106 19:50:14.673157 19591 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I1106 19:50:14.673162 19591 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I1106 19:50:14.673173 19591 authenticator.cpp:318] Authentication success
I1106 19:50:14.673204 19593 authenticatee.cpp:299] Authentication success
I1106 19:50:14.673238 19593 master.cpp:7918] Successfully authenticated principal 'test-principal' at slave(378)@172.16.10.48:39946
I1106 19:50:14.673282 19593 slave.cpp:1145] Successfully authenticated with master master@172.16.10.48:39946
I1106 19:50:14.673336 19593 slave.cpp:1603] Will retry registration in 9.286328ms if necessary
I1106 19:50:14.673424 19593 master.cpp:5755] Received register agent message from slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.673454 19593 master.cpp:3847] Authorizing agent with principal 'test-principal'
I1106 19:50:14.673542 19593 master.cpp:5811] Authorized registration of agent at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.673576 19593 master.cpp:5904] Registering agent at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) with id d5905469-73fc-4219-b939-c6056f1f62a1-S0
I1106 19:50:14.673671 19593 registrar.cpp:495] Applied 1 operations in 11294ns; attempting to update the registry
I1106 19:50:14.673799 19591 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(798)@172.16.10.48:39946
I1106 19:50:14.676128 19590 registrar.cpp:552] Successfully updated the registry in 2.438912ms
I1106 19:50:14.676203 19590 master.cpp:5951] Admitted agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.676353 19586 slave.cpp:5003] Received ping from slave-observer(382)@172.16.10.48:39946
I1106 19:50:14.676491 19593 hierarchical.cpp:572] Added agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 (ip-172-16-10-48.ec2.internal) with disk:1024; cpus:2; mem:6957; ports:[31000-32000] (allocated: {})
I1106 19:50:14.676548 19593 hierarchical.cpp:2083] No allocations performed
I1106 19:50:14.676564 19593 hierarchical.cpp:1441] Performed allocation for 1 agents in 25958ns
I1106 19:50:14.676337 19590 master.cpp:5982] Registered agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) with [{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"cpus","scalar":{"value":2.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":6957.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
I1106 19:50:14.676610 19586 slave.cpp:1177] Registered with master master@172.16.10.48:39946; given agent ID d5905469-73fc-4219-b939-c6056f1f62a1-S0
I1106 19:50:14.676698 19589 status_update_manager.cpp:184] Resuming sending status updates
I1106 19:50:14.677018 19586 slave.cpp:1197] Checkpointing SlaveInfo to '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ymMv4I/meta/slaves/d5905469-73fc-4219-b939-c6056f1f62a1-S0/slave.info'
I1106 19:50:14.677549 19590 process.cpp:3938] Handling HTTP event for process 'master' with path: '/master/reserve'
I1106 19:50:14.677901 19591 http.cpp:1185] HTTP POST for /master/reserve from 172.16.10.48:37408
I1106 19:50:14.678048 19591 master.cpp:3632] Authorizing principal 'test-principal' to reserve resources '[{"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}]'
I1106 19:50:14.677865 19586 slave.cpp:1246] Forwarding total oversubscribed resources {}
I1106 19:50:14.678308 19586 master.cpp:6724] Received update of agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) with total oversubscribed resources {}
I1106 19:50:14.678537 19589 master.cpp:9175] Sending updated checkpointed resources disk(reservations: [(DYNAMIC,role1,test-principal)]):512 to agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.678658 19588 hierarchical.cpp:642] Agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 (ip-172-16-10-48.ec2.internal) updated with total resources disk:1024; cpus:2; mem:6957; ports:[31000-32000]
I1106 19:50:14.678714 19588 hierarchical.cpp:2083] No allocations performed
I1106 19:50:14.678730 19588 hierarchical.cpp:1441] Performed allocation for 1 agents in 25046ns
I1106 19:50:14.678838 19590 slave.cpp:3522] Updated checkpointed resources from {} to disk(reservations: [(DYNAMIC,role1,test-principal)]):512
I1106 19:50:14.679718 19588 process.cpp:3938] Handling HTTP event for process 'master' with path: '/master/create-volumes'
I1106 19:50:14.680076 19589 http.cpp:1185] HTTP POST for /master/create-volumes from 172.16.10.48:37410
I1106 19:50:14.680261 19589 master.cpp:3767] Authorizing principal 'test-principal' to create volumes '[{"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
../../src/tests/persistent_volume_endpoints_tests.cpp:1707: Failure
Value of: (response).get().status
  Actual: "409 Conflict"
Expected: Accepted().status
Which is: "202 Accepted"
W1106 19:50:14.681072 19563 process.cpp:3196] Attempted to spawn already running process version@172.16.10.48:39946
I1106 19:50:14.681740 19563 sched.cpp:232] Version: 1.4.3
I1106 19:50:14.681879 19588 sched.cpp:336] New master detected at master@172.16.10.48:39946
I1106 19:50:14.681912 19588 sched.cpp:412] Authenticating with master master@172.16.10.48:39946
I1106 19:50:14.681922 19588 sched.cpp:419] Using default CRAM-MD5 authenticatee
I1106 19:50:14.682008 19588 authenticatee.cpp:121] Creating new client SASL connection
I1106 19:50:14.682302 19588 master.cpp:7886] Authenticating scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.682348 19588 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(799)@172.16.10.48:39946
I1106 19:50:14.682417 19588 authenticator.cpp:98] Creating new server SASL connection
I1106 19:50:14.682715 19588 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I1106 19:50:14.682736 19588 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I1106 19:50:14.682763 19588 authenticator.cpp:204] Received SASL authentication start
I1106 19:50:14.682791 19588 authenticator.cpp:326] Authentication requires more steps
I1106 19:50:14.682834 19588 authenticatee.cpp:259] Received SASL authentication step
I1106 19:50:14.682881 19588 authenticator.cpp:232] Received SASL authentication step
I1106 19:50:14.682898 19588 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-48.ec2.internal' server FQDN: 'ip-172-16-10-48.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I1106 19:50:14.682905 19588 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I1106 19:50:14.682914 19588 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I1106 19:50:14.682924 19588 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-48.ec2.internal' server FQDN: 'ip-172-16-10-48.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I1106 19:50:14.682930 19588 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I1106 19:50:14.682936 19588 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I1106 19:50:14.682947 19588 authenticator.cpp:318] Authentication success
I1106 19:50:14.682986 19588 authenticatee.cpp:299] Authentication success
I1106 19:50:14.683037 19588 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(799)@172.16.10.48:39946
I1106 19:50:14.683037 19591 master.cpp:7918] Successfully authenticated principal 'test-principal' at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.683096 19588 sched.cpp:525] Successfully authenticated with master master@172.16.10.48:39946
I1106 19:50:14.683106 19588 sched.cpp:832] Sending SUBSCRIBE call to master@172.16.10.48:39946
I1106 19:50:14.683140 19588 sched.cpp:865] Will retry registration in 1.964577985secs if necessary
I1106 19:50:14.683200 19588 master.cpp:2938] Received SUBSCRIBE call for framework 'default' at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.683240 19588 master.cpp:2272] Authorizing framework principal 'test-principal' to receive offers for roles '{ role1 }'
I1106 19:50:14.683363 19588 master.cpp:3018] Subscribing framework default with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
I1106 19:50:14.683502 19591 hierarchical.cpp:297] Added framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.683517 19588 sched.cpp:755] Framework registered with d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.683542 19588 sched.cpp:769] Scheduler::registered took 13708ns
I1106 19:50:14.683750 19591 hierarchical.cpp:2173] No inverse offers to send out!
I1106 19:50:14.683770 19591 hierarchical.cpp:1441] Performed allocation for 1 agents in 176490ns
I1106 19:50:14.683887 19590 master.cpp:7720] Sending 1 offers to framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.684067 19590 sched.cpp:929] Scheduler::resourceOffers took 56933ns
../../src/tests/persistent_volume_endpoints_tests.cpp:1729: Failure
Value of: Resources(offer.resources()).contains( allocatedResources(volume, frameworkInfo.roles(0)))
  Actual: false
Expected: true
I1106 19:50:14.684456 19590 master.cpp:9229] Removing offer d5905469-73fc-4219-b939-c6056f1f62a1-O0
I1106 19:50:14.684501 19590 master.cpp:4197] Processing ACCEPT call for offers: [ d5905469-73fc-4219-b939-c6056f1f62a1-O0 ] on agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) for framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.684545 19590 master.cpp:3819] Authorizing principal 'test-principal' to destroy volumes '[{"allocation_info":{"role":"role1"},"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
W1106 19:50:14.684895 19591 master.cpp:2357] Dropping DESTROY offer operation from framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946: Persistent volumes not found
I1106 19:50:14.685034 19591 hierarchical.cpp:1125] Recovered disk(allocated: role1):1024; cpus(allocated: role1):2; mem(allocated: role1):6957; ports(allocated: role1):[31000-32000] (total: disk:1024; cpus:2; mem:6957; ports:[31000-32000], allocated: {}) on agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 from framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.702731 19588 hierarchical.cpp:2173] No inverse offers to send out!
I1106 19:50:14.702754 19588 hierarchical.cpp:1441] Performed allocation for 1 agents in 163049ns
I1106 19:50:14.702852 19589 master.cpp:7720] Sending 1 offers to framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.702989 19589 sched.cpp:929] Scheduler::resourceOffers took 34598ns
../../src/tests/persistent_volume_endpoints_tests.cpp:1752: Failure
Value of: Resources(offer.resources()) .contains(allocatedResources( dynamicallyReserved, frameworkInfo.roles(0)))
  Actual: false
Expected: true
disk(allocated: role1):1024; cpus(allocated: role1):2; mem(allocated: role1):6957; ports(allocated: role1):[31000-32000] vs disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512
I1106 19:50:14.703361 19588 master.cpp:9229] Removing offer d5905469-73fc-4219-b939-c6056f1f62a1-O1
I1106 19:50:14.703402 19588 master.cpp:4197] Processing ACCEPT call for offers: [ d5905469-73fc-4219-b939-c6056f1f62a1-O1 ] on agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) for framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.703439 19588 master.cpp:3700] Authorizing principal 'test-principal' to unreserve resources '[{"allocation_info":{"role":"role1"},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}]'
W1106 19:50:14.703660 19587 master.cpp:2357] Dropping UNRESERVE offer operation from framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946: Invalid UNRESERVE Operation: disk(allocated: role1):1024; cpus(allocated: role1):2; mem(allocated: role1):6957; ports(allocated: role1):[31000-32000] does not contain disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512
I1106 19:50:14.703806 19590 hierarchical.cpp:1125] Recovered disk(allocated: role1):1024; cpus(allocated: role1):2; mem(allocated: role1):6957; ports(allocated: role1):[31000-32000] (total: disk:1024; cpus:2; mem:6957; ports:[31000-32000], allocated: {}) on agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 from framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.753446 19588 hierarchical.cpp:2173] No inverse offers to send out!
I1106 19:50:14.753484 19588 hierarchical.cpp:1441] Performed allocation for 1 agents in 311283ns
I1106 19:50:14.753593 19591 master.cpp:7720] Sending 1 offers to framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.753777 19591 sched.cpp:929] Scheduler::resourceOffers took 41099ns
I1106 19:50:14.753924 19563 sched.cpp:2017] Asked to stop the driver
I1106 19:50:14.753976 19587 sched.cpp:1199] Stopping framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.754060 19587 master.cpp:8406] Processing TEARDOWN call for framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.754079 19587 master.cpp:8418] Removing framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.754091 19587 master.cpp:3308] Deactivating framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 (default) at scheduler-e2a22a67-59a9-402b-b461-084f673872d6@172.16.10.48:39946
I1106 19:50:14.754122 19591 hierarchical.cpp:401] Deactivated framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.754324 19587 master.cpp:9229] Removing offer d5905469-73fc-4219-b939-c6056f1f62a1-O2
I1106 19:50:14.754387 19590 slave.cpp:3214] Asked to shut down framework d5905469-73fc-4219-b939-c6056f1f62a1-0000 by master@172.16.10.48:39946
I1106 19:50:14.754402 19590 slave.cpp:3229] Cannot shut down unknown framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.754400 19592 hierarchical.cpp:1125] Recovered disk(allocated: role1):1024; cpus(allocated: role1):2; mem(allocated: role1):6957; ports(allocated: role1):[31000-32000] (total: disk:1024; cpus:2; mem:6957; ports:[31000-32000], allocated: {}) on agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 from framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.754510 19593 hierarchical.cpp:344] Removed framework d5905469-73fc-4219-b939-c6056f1f62a1-0000
I1106 19:50:14.755004 19563 slave.cpp:842] Agent terminating
I1106 19:50:14.755123 19591 master.cpp:1355] Agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal) disconnected
I1106 19:50:14.755143 19591 master.cpp:3345] Disconnecting agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.755159 19591 master.cpp:3364] Deactivating agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 at slave(378)@172.16.10.48:39946 (ip-172-16-10-48.ec2.internal)
I1106 19:50:14.755205 19591 hierarchical.cpp:672] Agent d5905469-73fc-4219-b939-c6056f1f62a1-S0 deactivated
I1106 19:50:14.757083 19563 master.cpp:1197] Master terminating
I1106 19:50:14.757325 19589 hierarchical.cpp:608] Removed agent d5905469-73fc-4219-b939-c6056f1f62a1-S0
[  FAILED  ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove (109 ms)
{code}

Saw this again.

{noformat}
06:14:51 [ RUN      ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove
06:14:51 I1203 06:14:50.630549 19784 cluster.cpp:173] Creating default 'local' authorizer
06:14:51 I1203 06:14:50.633529 19796 master.cpp:413] Master f1ffe054-ad44-45d4-9f39-84b048e1a359 (c16130e94783) started on 172.17.0.3:44340
06:14:51 I1203 06:14:50.633581 19796 master.cpp:416] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="1000secs" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authentication_v0_timeout="15secs" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/4vMyjy/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_unreachable_tasks_per_framework="1000" --memory_profiling="false" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --publish_per_framework_metrics="true" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --require_agent_domain="false" --role_sorter="drf" --roles="role1" --root_submissions="true" --version="false" --webui_dir="/tmp/SRC/build/mesos-1.8.0/_inst/share/mesos/webui" --work_dir="/tmp/4vMyjy/master" --zk_session_timeout="10secs"
06:14:51 I1203 06:14:50.634217 19796 master.cpp:465] Master only allowing authenticated frameworks to register
06:14:51 I1203 06:14:50.634236 19796 master.cpp:471] Master only allowing authenticated agents to register
06:14:51 I1203 06:14:50.634253 19796 master.cpp:477] Master only allowing authenticated HTTP frameworks to register
06:14:51 I1203 06:14:50.634270 19796 credentials.hpp:37] Loading credentials for authentication from '/tmp/4vMyjy/credentials'
06:14:51 I1203 06:14:50.634608 19796 master.cpp:521] Using default 'crammd5' authenticator
06:14:51 I1203 06:14:50.634840 19796 http.cpp:1042] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
06:14:51 I1203 06:14:50.635052 19796 http.cpp:1042] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
06:14:51 I1203 06:14:50.635200 19796 http.cpp:1042] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
06:14:51 I1203 06:14:50.635373 19796 master.cpp:602] Authorization enabled
06:14:51 W1203 06:14:50.635457 19796 master.cpp:665] The '--roles' flag is deprecated. This flag will be removed in the future. See the Mesos 0.27 upgrade notes for more information
06:14:51 I1203 06:14:50.635991 19800 whitelist_watcher.cpp:77] No whitelist given
06:14:51 I1203 06:14:50.636032 19793 hierarchical.cpp:175] Initialized hierarchical allocator process
06:14:51 I1203 06:14:50.638939 19796 master.cpp:2105] Elected as the leading master!
06:14:51 I1203 06:14:50.638975 19796 master.cpp:1660] Recovering from registrar
06:14:51 I1203 06:14:50.639200 19792 registrar.cpp:339] Recovering registrar
06:14:51 I1203 06:14:50.639927 19792 registrar.cpp:383] Successfully fetched the registry (0B) in 672768ns
06:14:51 I1203 06:14:50.640069 19792 registrar.cpp:487] Applied 1 operations in 48006ns; attempting to update the registry
06:14:51 I1203 06:14:50.640718 19792 registrar.cpp:544] Successfully updated the registry in 582912ns
06:14:51 I1203 06:14:50.640852 19792 registrar.cpp:416] Successfully recovered registrar
06:14:51 I1203 06:14:50.641299 19800 master.cpp:1774] Recovered 0 agents from the registry (135B); allowing 10mins for agents to reregister
06:14:51 I1203 06:14:50.641340 19799 hierarchical.cpp:215] Skipping recovery of hierarchical allocator: nothing to recover
06:14:51 W1203 06:14:50.647153 19784 process.cpp:2829] Attempted to spawn already running process files@172.17.0.3:44340
06:14:51 I1203 06:14:50.648453 19784 containerizer.cpp:305] Using isolation { environment_secret, posix/cpu, posix/mem, filesystem/posix, network/cni }
06:14:51 W1203 06:14:50.649060 19784 backend.cpp:76] Failed to create 'aufs' backend: AufsBackend requires root privileges
06:14:51 W1203 06:14:50.649088 19784 backend.cpp:76] Failed to create 'bind' backend: BindBackend requires root privileges
06:14:51 I1203 06:14:50.649119 19784 provisioner.cpp:298] Using default backend 'copy'
06:14:51 I1203 06:14:50.651358 19784 cluster.cpp:485] Creating default 'local' authorizer
06:14:51 I1203 06:14:50.653218 19791 slave.cpp:267] Mesos agent started on (409)@172.17.0.3:44340
06:14:51 I1203 06:14:50.653254 19791 slave.cpp:268] Flags at startup: --acls="" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/store/appc" --authenticate_http_readonly="true" --authenticate_http_readwrite="false" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authentication_timeout_max="1mins" --authentication_timeout_min="5secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_destroy_timeout="1mins" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/credential" --default_role="*" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/frameworks" --gc_delay="1weeks" --gc_disk_headroom="0.1" --gc_non_executor_container_sandboxes="false" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher="posix" --launcher_dir="/tmp/SRC/build/mesos-1.8.0/_build/sub/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --memory_profiling="false" --network_cni_metrics="true" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --reconfiguration_policy="equal" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="disk(*):1024" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ccjChn" --zk_session_timeout="10secs"
06:14:51 I1203 06:14:50.653681 19791 credentials.hpp:86] Loading credential for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/credential'
06:14:51 I1203 06:14:50.664860 19791 slave.cpp:300] Agent using credential for: test-principal
06:14:51 I1203 06:14:50.664887 19791 credentials.hpp:37] Loading credentials for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_8XYGfc/http_credentials'
06:14:51 I1203 06:14:50.665104 19791 http.cpp:1042] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
06:14:51 I1203 06:14:50.665453 19791 disk_profile_adaptor.cpp:80] Creating default disk profile adaptor module
06:14:51 I1203 06:14:50.666281 19791 slave.cpp:615] Agent resources: [{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"cpus","scalar":{"value":16.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":47268.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
06:14:51 I1203 06:14:50.666457 19791 slave.cpp:623] Agent attributes: [  ]
06:14:51 I1203 06:14:50.666471 19791 slave.cpp:632] Agent hostname: c16130e94783
06:14:51 I1203 06:14:50.666656 19800 task_status_update_manager.cpp:181] Pausing sending task status updates
06:14:51 I1203 06:14:50.667783 19796 state.cpp:66] Recovering state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ccjChn/meta'
06:14:51 I1203 06:14:50.668000 19798 slave.cpp:6915] Finished recovering checkpointed state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ccjChn/meta', beginning agent recovery
06:14:51 I1203 06:14:50.668131 19790 task_status_update_manager.cpp:207] Recovering task status update manager
06:14:51 I1203 06:14:50.668565 19785 containerizer.cpp:727] Recovering Mesos containers
06:14:51 I1203 06:14:50.668913 19785 containerizer.cpp:1053] Recovering isolators
06:14:51 I1203 06:14:50.669675 19791 containerizer.cpp:1092] Recovering provisioner
06:14:51 I1203 06:14:50.670477 19798 provisioner.cpp:494] Provisioner recovery complete
06:14:51 I1203 06:14:50.671273 19787 composing.cpp:339] Finished recovering all containerizers
06:14:51 I1203 06:14:50.671479 19799 slave.cpp:7144] Recovering executors
06:14:51 I1203 06:14:50.671607 19799 slave.cpp:7297] Finished recovery
06:14:51 I1203 06:14:50.672435 19796 slave.cpp:1260] New master detected at master@172.17.0.3:44340
06:14:51 I1203 06:14:50.672449 19789 task_status_update_manager.cpp:181] Pausing sending task status updates
06:14:51 I1203 06:14:50.672569 19796 slave.cpp:1325] Detecting new master
06:14:51 I1203 06:14:50.676017 19794 slave.cpp:1352] Authenticating with master master@172.17.0.3:44340
06:14:51 I1203 06:14:50.676092 19794 slave.cpp:1361] Using default CRAM-MD5 authenticatee
06:14:51 I1203 06:14:50.676373 19788 authenticatee.cpp:121] Creating new client SASL connection
06:14:51 I1203 06:14:50.676667 19793 master.cpp:9699] Authenticating slave(409)@172.17.0.3:44340
06:14:51 I1203 06:14:50.676842 19786 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(842)@172.17.0.3:44340
06:14:51 I1203 06:14:50.677129 19800 authenticator.cpp:98] Creating new server SASL connection
06:14:51 I1203 06:14:50.677328 19790 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
06:14:51 I1203 06:14:50.677358 19790 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
06:14:51 I1203 06:14:50.677481 19787 authenticator.cpp:204] Received SASL authentication start
06:14:51 I1203 06:14:50.677558 19787 authenticator.cpp:326] Authentication requires more steps
06:14:51 I1203 06:14:50.677686 19787 authenticatee.cpp:259] Received SASL authentication step
06:14:51 I1203 06:14:50.677857 19799 authenticator.cpp:232] Received SASL authentication step
06:14:51 I1203 06:14:50.677898 19799 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'c16130e94783' server FQDN: 'c16130e94783' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
06:14:51 I1203 06:14:50.677924 19799 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
06:14:51 I1203 06:14:50.677968 19799 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
06:14:51 I1203 06:14:50.678011 19799 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'c16130e94783' server FQDN: 'c16130e94783' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
06:14:51 I1203 06:14:50.678045 19799 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
06:14:51 I1203 06:14:50.678059 19799 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
06:14:51 I1203 06:14:50.678077 19799 authenticator.cpp:318] Authentication success
06:14:51 I1203 06:14:50.678275 19785 authenticatee.cpp:299] Authentication success
06:14:51 I1203 06:14:50.678321 19797 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(842)@172.17.0.3:44340
06:14:51 I1203 06:14:50.678395 19791 master.cpp:9731] Successfully authenticated principal 'test-principal' at slave(409)@172.17.0.3:44340
06:14:51 I1203 06:14:50.678874 19789 slave.cpp:1452] Successfully authenticated with master master@172.17.0.3:44340
06:14:51 I1203 06:14:50.679395 19789 slave.cpp:1883] Will retry registration in 11.421172ms if necessary
06:14:51 I1203 06:14:50.679622 19793 master.cpp:6650] Received register agent message from slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 I1203 06:14:50.679862 19793 master.cpp:3986] Authorizing agent providing resources 'disk:1024; cpus:16; mem:47268; ports:[31000-32000]' with principal 'test-principal'
06:14:51 I1203 06:14:50.680654 19790 master.cpp:6717] Authorized registration of agent at slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 I1203 06:14:50.680759 19790 master.cpp:6832] Registering agent at slave(409)@172.17.0.3:44340 (c16130e94783) with id f1ffe054-ad44-45d4-9f39-84b048e1a359-S0
06:14:51 I1203 06:14:50.681296 19787 registrar.cpp:487] Applied 1 operations in 234023ns; attempting to update the registry
06:14:51 I1203 06:14:50.681888 19787 registrar.cpp:544] Successfully updated the registry in 524800ns
06:14:51 I1203 06:14:50.682076 19798 master.cpp:6880] Admitted agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 I1203 06:14:50.682688 19798 master.cpp:6925] Registered agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783) with disk:1024; cpus:16; mem:47268; ports:[31000-32000]
06:14:51 I1203 06:14:50.682936 19794 slave.cpp:1485] Registered with master master@172.17.0.3:44340; given agent ID f1ffe054-ad44-45d4-9f39-84b048e1a359-S0
06:14:51 I1203 06:14:50.683022 19785 hierarchical.cpp:603] Added agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 (c16130e94783) with disk:1024; cpus:16; mem:47268; ports:[31000-32000] (allocated: {})
06:14:51 I1203 06:14:50.683061 19800 task_status_update_manager.cpp:188] Resuming sending task status updates
06:14:51 I1203 06:14:50.683341 19785 hierarchical.cpp:1566] Performed allocation for 1 agents in 107782ns
06:14:51 I1203 06:14:50.686941 19787 process.cpp:3588] Handling HTTP event for process 'master' with path: '/master/reserve'
06:14:51 I1203 06:14:50.688966 19800 http.cpp:1182] HTTP POST for /master/reserve from 172.17.0.3:53724
06:14:51 I1203 06:14:50.689653 19800 master.cpp:3631] Authorizing principal 'test-principal' to reserve resources 'disk(reservations: [(DYNAMIC,role1,test-principal)]):512'
06:14:51 I1203 06:14:50.691617 19799 master.cpp:11404] Sending operation '' (uuid: 36dc1616-9449-401d-91f5-e1b7012500d1) to agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 I1203 06:14:50.694936 19791 process.cpp:3588] Handling HTTP event for process 'master' with path: '/master/create-volumes'
06:14:51 I1203 06:14:50.696419 19798 http.cpp:1182] HTTP POST for /master/create-volumes from 172.17.0.3:53726
06:14:51 I1203 06:14:50.697499 19798 master.cpp:3766] Authorizing principal 'test-principal' to create volumes '[{"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
06:14:51 I1203 06:14:50.698664 19794 slave.cpp:1505] Checkpointing SlaveInfo to '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ccjChn/meta/slaves/f1ffe054-ad44-45d4-9f39-84b048e1a359-S0/slave.info'
06:14:51 I1203 06:14:50.699520 19794 slave.cpp:1554] Forwarding agent update {"operations":{},"resource_version_uuid":{"value":"hLMx/13qRyKWO+x0J+r49g=="},"slave_id":{"value":"f1ffe054-ad44-45d4-9f39-84b048e1a359-S0"},"update_oversubscribed_resources":false}
06:14:51 W1203 06:14:50.700134 19790 master.cpp:8049] Performing explicit reconciliation with agent for known operation 36dc1616-9449-401d-91f5-e1b7012500d1 since it was not present in original reconciliation message from agent
06:14:51 I1203 06:14:50.700496 19794 slave.cpp:4208] Updated checkpointed resources from {} to disk(reservations: [(DYNAMIC,role1,test-principal)]):512
06:14:51 I1203 06:14:50.700587 19794 slave.cpp:7996] Updating the state of operation with no ID (uuid: 36dc1616-9449-401d-91f5-e1b7012500d1) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
06:14:51 I1203 06:14:50.700654 19790 master.cpp:11404] Sending operation '' (uuid: 6cc9c40f-3deb-4a9f-97c9-9e6c84bd197b) to agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 I1203 06:14:50.700845 19790 master.cpp:11154] Updating the state of operation '' (uuid: 36dc1616-9449-401d-91f5-e1b7012500d1) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
06:14:51 E1203 06:14:50.701025 19790 master.cpp:8541] Failed to find the operation '' (uuid: 36dc1616-9449-401d-91f5-e1b7012500d1) for an operator API call on agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0
06:14:51 W1203 06:14:50.701881 19784 process.cpp:2829] Attempted to spawn already running process version@172.17.0.3:44340
06:14:51 I1203 06:14:50.701889 19789 hierarchical.cpp:703] Agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 (c16130e94783) updated with total resources disk:512; cpus:16; mem:47268; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):512
06:14:51 I1203 06:14:50.702230 19789 hierarchical.cpp:1566] Performed allocation for 1 agents in 151410ns
06:14:51 I1203 06:14:50.702904 19784 sched.cpp:232] Version: 1.8.0
06:14:51 I1203 06:14:50.703490 19790 sched.cpp:336] New master detected at master@172.17.0.3:44340
06:14:51 I1203 06:14:50.703586 19790 sched.cpp:401] Authenticating with master master@172.17.0.3:44340
06:14:51 I1203 06:14:50.703614 19790 sched.cpp:408] Using default CRAM-MD5 authenticatee
06:14:51 I1203 06:14:50.703892 19793 authenticatee.cpp:121] Creating new client SASL connection
06:14:51 I1203 06:14:50.704115 19792 master.cpp:9699] Authenticating scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.704282 19798 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(843)@172.17.0.3:44340
06:14:51 I1203 06:14:50.704605 19789 authenticator.cpp:98] Creating new server SASL connection
06:14:51 I1203 06:14:50.704841 19796 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
06:14:51 I1203 06:14:50.704885 19796 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
06:14:51 I1203 06:14:50.704991 19796 authenticator.cpp:204] Received SASL authentication start
06:14:51 I1203 06:14:50.705054 19796 authenticator.cpp:326] Authentication requires more steps
06:14:51 I1203 06:14:50.705166 19796 authenticatee.cpp:259] Received SASL authentication step
06:14:51 I1203 06:14:50.705278 19796 authenticator.cpp:232] Received SASL authentication step
06:14:51 I1203 06:14:50.705312 19796 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'c16130e94783' server FQDN: 'c16130e94783' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
06:14:51 I1203 06:14:50.705325 19796 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
06:14:51 I1203 06:14:50.705364 19796 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
06:14:51 I1203 06:14:50.705390 19796 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'c16130e94783' server FQDN: 'c16130e94783' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
06:14:51 I1203 06:14:50.705405 19796 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
06:14:51 I1203 06:14:50.705413 19796 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
06:14:51 I1203 06:14:50.705427 19796 authenticator.cpp:318] Authentication success
06:14:51 I1203 06:14:50.705507 19791 authenticatee.cpp:299] Authentication success
06:14:51 I1203 06:14:50.705581 19787 master.cpp:9731] Successfully authenticated principal 'test-principal' at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.705605 19788 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(843)@172.17.0.3:44340
06:14:51 I1203 06:14:50.705850 19786 sched.cpp:513] Successfully authenticated with master master@172.17.0.3:44340
06:14:51 I1203 06:14:50.705879 19786 sched.cpp:817] Sending SUBSCRIBE call to master@172.17.0.3:44340
06:14:51 I1203 06:14:50.705986 19786 sched.cpp:850] Will retry registration in 518.83595ms if necessary
06:14:51 I1203 06:14:50.706197 19798 master.cpp:2876] Received SUBSCRIBE call for framework 'default' at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.706224 19798 master.cpp:2177] Authorizing framework principal 'test-principal' to receive offers for roles '{ role1 }'
06:14:51 I1203 06:14:50.706786 19795 master.cpp:2957] Subscribing framework default with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
06:14:51 I1203 06:14:50.709362 19795 master.cpp:9929] Adding framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340 with roles {  } suppressed
06:14:51 I1203 06:14:50.709913 19793 sched.cpp:744] Framework registered with f1ffe054-ad44-45d4-9f39-84b048e1a359-0000
06:14:51 I1203 06:14:50.709960 19793 sched.cpp:758] Scheduler::registered took 25382ns
06:14:51 I1203 06:14:50.710316 19796 hierarchical.cpp:304] Added framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000
06:14:51 I1203 06:14:50.711463 19796 hierarchical.cpp:1566] Performed allocation for 1 agents in 1.027463ms
06:14:51 I1203 06:14:50.711977 19787 master.cpp:9514] Sending offers [ f1ffe054-ad44-45d4-9f39-84b048e1a359-O0 ] to framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.712510 19787 sched.cpp:914] Scheduler::resourceOffers took 111020ns
06:14:51 ../../../src/tests/persistent_volume_endpoints_tests.cpp:1728: Failure
06:14:51 Value of: Resources(offer.resources()).contains( allocatedResources(volume, frameworkInfo.roles(0)))
06:14:51   Actual: false
06:14:51 Expected: true
06:14:51 I1203 06:14:50.714552 19797 master.cpp:11513] Removing offer f1ffe054-ad44-45d4-9f39-84b048e1a359-O0
06:14:51 I1203 06:14:50.714890 19797 master.cpp:4511] Processing ACCEPT call for offers: [ f1ffe054-ad44-45d4-9f39-84b048e1a359-O0 ] on agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783) for framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.715009 19797 master.cpp:3818] Authorizing principal 'test-principal' to destroy volumes '[{"allocation_info":{"role":"role1"},"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
06:14:51 W1203 06:14:50.716142 19791 master.cpp:2258] Dropping DESTROY operation from framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340: disk(allocated: role1):512; cpus(allocated: role1):16; mem(allocated: role1):47268; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512 does not contain disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1
06:14:51 I1203 06:14:50.716881 19788 hierarchical.cpp:1238] Recovered disk(allocated: role1):512; cpus(allocated: role1):16; mem(allocated: role1):47268; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512 (total: disk:512; cpus:16; mem:47268; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):512, allocated: {}) on agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 from framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000
06:14:51 I1203 06:14:50.716955 19788 hierarchical.cpp:1284] Framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 filtered agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 for 5secs
06:14:51 I1203 06:14:50.721640 19794 slave.cpp:4208] Updated checkpointed resources from disk(reservations: [(DYNAMIC,role1,test-principal)]):512 to disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1
06:14:51 I1203 06:14:50.721756 19794 slave.cpp:7996] Updating the state of operation with no ID (uuid: 6cc9c40f-3deb-4a9f-97c9-9e6c84bd197b) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
06:14:51 I1203 06:14:50.722131 19792 master.cpp:11154] Updating the state of operation '' (uuid: 6cc9c40f-3deb-4a9f-97c9-9e6c84bd197b) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
06:14:51 I1203 06:14:50.722681 19797 master.cpp:6008] Processing REVIVE call for framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.722816 19796 hierarchical.cpp:1387] Revived offers for roles { role1 } of framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000
06:14:51 I1203 06:14:50.723876 19796 hierarchical.cpp:1566] Performed allocation for 1 agents in 922924ns
06:14:51 I1203 06:14:50.724367 19787 master.cpp:9514] Sending offers [ f1ffe054-ad44-45d4-9f39-84b048e1a359-O1 ] to framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.724879 19790 sched.cpp:914] Scheduler::resourceOffers took 114944ns
06:14:51 I1203 06:14:50.726783 19800 master.cpp:11513] Removing offer f1ffe054-ad44-45d4-9f39-84b048e1a359-O1
06:14:51 I1203 06:14:50.727231 19800 master.cpp:4511] Processing ACCEPT call for offers: [ f1ffe054-ad44-45d4-9f39-84b048e1a359-O1 ] on agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783) for framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340
06:14:51 I1203 06:14:50.727365 19800 master.cpp:3699] Authorizing principal 'test-principal' to unreserve resources '[{"allocation_info":{"role":"role1"},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}]'
06:14:51 I1203 06:14:50.728447 19796 master.cpp:4945] Applying UNRESERVE operation for resources [{"allocation_info":{"role":"role1"},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":512.0},"type":"SCALAR"}] from framework f1ffe054-ad44-45d4-9f39-84b048e1a359-0000 (default) at scheduler-4bf4800e-9701-45a3-b426-846ed6927b74@172.17.0.3:44340 to agent f1ffe054-ad44-45d4-9f39-84b048e1a359-S0 at slave(409)@172.17.0.3:44340 (c16130e94783)
06:14:51 F1203 06:14:50.729040 19796 master.cpp:12515] CHECK_SOME(resources): disk:512; cpus:16; mem:47268; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1 does not contain disk(reservations: [(DYNAMIC,role1,test-principal)]):512 
06:14:51 *** Check failure stack trace: ***
06:14:51     @     0x7f343b43aa8d  google::LogMessage::Fail()
06:14:51     @     0x7f343b439ebc  google::LogMessage::SendToLog()
06:14:51     @     0x7f343b43a76c  google::LogMessage::Flush()
06:14:51     @     0x7f343b43db28  google::LogMessageFatal::~LogMessageFatal()
06:14:51     @     0x564179861327  _CheckFatal::~_CheckFatal()
06:14:51     @     0x7f3438c60f12  mesos::internal::master::Slave::apply()
06:14:51     @     0x7f3438c3ff7e  mesos::internal::master::Master::_apply()
06:14:51     @     0x7f3438c355d9  mesos::internal::master::Master::_accept()
06:14:51     @     0x7f3438d7cf49  _ZZN7process8dispatchIN5mesos8internal6master6MasterERKNS1_11FrameworkIDERKNS1_7SlaveIDERKNS1_9ResourcesEONS1_9scheduler11Call_AcceptERKNS_6FutureISt6vectorINSH_IbEESaISJ_EEEES7_SA_SD_SF_SO_EEvRKNS_3PIDIT_EEMSQ_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_ENKUlOS5_OS8_OSB_SG_OSM_PNS_11ProcessBaseEE_clES1B_S1C_S1D_SG_S1E_S1G_
06:14:51     @     0x7f3438d7c9b3  _ZN5cpp176invokeIZN7process8dispatchIN5mesos8internal6master6MasterERKNS3_11FrameworkIDERKNS3_7SlaveIDERKNS3_9ResourcesEONS3_9scheduler11Call_AcceptERKNS1_6FutureISt6vectorINSJ_IbEESaISL_EEEES9_SC_SF_SH_SQ_EEvRKNS1_3PIDIT_EEMSS_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS7_OSA_OSD_SI_OSO_PNS1_11ProcessBaseEE_JS7_SA_SD_SH_SO_S1I_EEEDTclclsr3stdE7forwardISS_Efp_Espclsr3stdE7forwardIT0_Efp0_EEEOSS_DpOS1K_
06:14:51     @     0x7f3438d7c8f5  _ZN6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS4_11FrameworkIDERKNS4_7SlaveIDERKNS4_9ResourcesEONS4_9scheduler11Call_AcceptERKNS2_6FutureISt6vectorINSK_IbEESaISM_EEEESA_SD_SG_SI_SR_EEvRKNS2_3PIDIT_EEMST_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS8_OSB_OSE_SJ_OSP_PNS2_11ProcessBaseEE_JS8_SB_SE_SI_SP_St12_PlaceholderILi1EEEE13invoke_expandIS1K_St5tupleIJS8_SB_SE_SI_SP_S1M_EES1P_IJOS1J_EEJLm0ELm1ELm2ELm3ELm4ELm5EEEEDTclsr5cpp17E6invokeclsr3stdE7forwardIST_Efp_Espcl6expandclsr3stdE3getIXT2_EEclsr3stdE7forwardISX_Efp0_EEclsr3stdE7forwardISY_Efp2_EEEEOST_OSX_N5cpp1416integer_sequenceImJXspT2_EEEEOSY_
06:14:51     @     0x7f3438d7c77b  _ZNO6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS4_11FrameworkIDERKNS4_7SlaveIDERKNS4_9ResourcesEONS4_9scheduler11Call_AcceptERKNS2_6FutureISt6vectorINSK_IbEESaISM_EEEESA_SD_SG_SI_SR_EEvRKNS2_3PIDIT_EEMST_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOS8_OSB_OSE_SJ_OSP_PNS2_11ProcessBaseEE_JS8_SB_SE_SI_SP_St12_PlaceholderILi1EEEEclIJS1J_EEEDTcl13invoke_expandclL_ZSt4moveIRS1K_EONSt16remove_referenceIST_E4typeEOST_EdtdefpT1fEclL_ZS1P_IRSt5tupleIJS8_SB_SE_SI_SP_S1M_EEES1U_S1V_EdtdefpT10bound_argsEcvN5cpp1416integer_sequenceImJLm0ELm1ELm2ELm3ELm4ELm5EEEE_Eclsr3stdE16forward_as_tuplespclsr3stdE7forwardIT_Efp_EEEEDpOS22_
06:14:51     @     0x7f3438d7c702  _ZN5cpp176invokeIN6lambda8internal7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS6_11FrameworkIDERKNS6_7SlaveIDERKNS6_9ResourcesEONS6_9scheduler11Call_AcceptERKNS4_6FutureISt6vectorINSM_IbEESaISO_EEEESC_SF_SI_SK_ST_EEvRKNS4_3PIDIT_EEMSV_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSA_OSD_OSG_SL_OSR_PNS4_11ProcessBaseEE_JSA_SD_SG_SK_SR_St12_PlaceholderILi1EEEEEJS1L_EEEDTclclsr3stdE7forwardISV_Efp_Espclsr3stdE7forwardIT0_Efp0_EEEOSV_DpOS1Q_
06:14:51     @     0x7f3438d7c6c6  _ZN6lambda8internal6InvokeIvEclINS0_7PartialIZN7process8dispatchIN5mesos8internal6master6MasterERKNS7_11FrameworkIDERKNS7_7SlaveIDERKNS7_9ResourcesEONS7_9scheduler11Call_AcceptERKNS5_6FutureISt6vectorINSN_IbEESaISP_EEEESD_SG_SJ_SL_SU_EEvRKNS5_3PIDIT_EEMSW_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSB_OSE_OSH_SM_OSS_PNS5_11ProcessBaseEE_JSB_SE_SH_SL_SS_St12_PlaceholderILi1EEEEEJS1M_EEEvOSW_DpOT0_
06:14:51     @     0x7f3438d7c18a  _ZNO6lambda12CallableOnceIFvPN7process11ProcessBaseEEE10CallableFnINS_8internal7PartialIZNS1_8dispatchIN5mesos8internal6master6MasterERKNSA_11FrameworkIDERKNSA_7SlaveIDERKNSA_9ResourcesEONSA_9scheduler11Call_AcceptERKNS1_6FutureISt6vectorINSQ_IbEESaISS_EEEESG_SJ_SM_SO_SX_EEvRKNS1_3PIDIT_EEMSZ_FvT0_T1_T2_T3_T4_EOT5_OT6_OT7_OT8_OT9_EUlOSE_OSH_OSK_SP_OSV_S3_E_JSE_SH_SK_SO_SV_St12_PlaceholderILi1EEEEEEclEOS3_
06:14:51     @     0x7f343b31364b  _ZNO6lambda12CallableOnceIFvPN7process11ProcessBaseEEEclES3_
06:14:51     @     0x7f343b2d9949  process::ProcessBase::consume()
06:14:51     @     0x7f343b352259  _ZNO7process13DispatchEvent7consumeEPNS_13EventConsumerE
06:14:51     @     0x56417984ab44  process::ProcessBase::serve()
06:14:51     @     0x7f343b2d6490  process::ProcessManager::resume()
06:14:51     @     0x7f343b2fe39b  process::ProcessManager::init_threads()::$_15::operator()()
06:14:51     @     0x7f343b2fe245  _ZNSt12_Bind_simpleIFZN7process14ProcessManager12init_threadsEvE4$_15vEE9_M_invokeIJEEEvSt12_Index_tupleIJXspT_EEE
06:14:51     @     0x7f343b2fe215  std::_Bind_simple<>::operator()()
06:14:51     @     0x7f343b2fe109  std::thread::_Impl<>::_M_run()
06:14:51     @     0x7f34314aec80  (unknown)
06:14:51     @     0x7f3430cc16ba  start_thread
06:14:51     @     0x7f34309f741d  (unknown)
06:14:51 Makefile:14869: recipe for target 'check-local' failed
06:14:51 make[4]: *** [check-local] Aborted
06:14:51 make[4]: Leaving directory '/tmp/SRC/build/mesos-1.8.0/_build/sub/src'
06:14:51 Makefile:14011: recipe for target 'check-am' failed
06:14:51 make[3]: *** [check-am] Error 2
06:14:51 make[3]: Leaving directory '/tmp/SRC/build/mesos-1.8.0/_build/sub/src'
06:14:51 Makefile:14015: recipe for target 'check' failed
06:14:51 make[2]: *** [check] Error 2
06:14:51 make[2]: Leaving directory '/tmp/SRC/build/mesos-1.8.0/_build/sub/src'
06:14:51 Makefile:786: recipe for target 'check-recursive' failed
06:14:51 make[1]: *** [check-recursive] Error 1
06:14:51 make[1]: Leaving directory '/tmp/SRC/build/mesos-1.8.0/_build/sub'
06:14:51 Makefile:992: recipe for target 'distcheck' failed
06:14:51 make: *** [distcheck] Error 1
{noformat}

This looks like a legitimate bug. Here is the sequence of events that can trigger the bug

- agent (re)registers with the master
- operation calls are made to the master (let’s say create volume)
- the allocator is speculatively updated in https://github.com/apache/mesos/blob/master/src/master/master.cpp#L11315
- before agent resource gets updated, it sends `UpdateSlaveMessage` when getting the (re)registered message in https://github.com/apache/mesos/blob/master/src/slave/slave.cpp#L1551 and https://github.com/apache/mesos/blob/master/src/slave/slave.cpp#L1633
- the `UpdateSlaveMessage` triggers  allocator to update the total resources with STALE info sent from the agent https://github.com/apache/mesos/blob/master/src/master/master.cpp#L8205, thus updates from the previous operation is overwritten and LOST
- agent finishes the operation and informs the master through `UpdateOperationStatusMessage`
- but for the speculative operation, we do not update the allocator https://github.com/apache/mesos/blob/master/src/master/master.cpp#L11177

Thus, the speculative operation failed to be applied on the allocator but successfully applied to the agent.

For resource provider operations, we use  {{resource_version_uuid}} to resolve this.

It seems to me that we should to the same in {{Slave::applyOperation}} as well:
 Check if {{ApplyOperationMessage.resource_version_uuid}} equals to {{resourceVersion}},
 and only apply the speculative operation if the version matches.

However, we only have {{resource_version_uuid}} since 1.5 (with the {{RESOURCE_PROVIDER}} agent capability),
 we could not use the same strategy to fix this in 1.4 if we want to (1.4 is no longer supported though).

This is something different from previous ones.
{code:java}
E0110 17:13:09.326659 13916 master.cpp:8586] Failed to find the operation '' (uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operator API call on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
{code}
Full log:
{code:java}
[ RUN ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove
I0110 17:12:59.303460 13893 cluster.cpp:174] Creating default 'local' authorizer
I0110 17:12:59.304430 13912 master.cpp:416] Master ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b (ip-172-16-10-92.ec2.internal) started on 172.16.10.92:42320
I0110 17:12:59.304451 13912 master.cpp:419] Flags at startup: --acls="" --agent_ping_timeout="15secs" --agent_reregister_timeout="10mins" --allocation_interval="1000secs" --allocator="hierarchical" --authenticate_agents="true" --authenticate_frameworks="true" --authenticate_http_frameworks="true" --authenticate_http_readonly="true" --authenticate_http_readwrite="true" --authentication_v0_timeout="15secs" --authenticators="crammd5" --authorizers="local" --credentials="/tmp/PfFTwT/credentials" --filter_gpu_resources="true" --framework_sorter="drf" --help="false" --hostname_lookup="true" --http_authenticators="basic" --http_framework_authenticators="basic" --initialize_driver_logging="true" --log_auto_initialize="true" --logbufsecs="0" --logging_level="INFO" --max_agent_ping_timeouts="5" --max_completed_frameworks="50" --max_completed_tasks_per_framework="1000" --max_operator_event_stream_subscribers="1000" --max_unreachable_tasks_per_framework="1000" --memory_profiling="false" --min_allocatable_resources="cpus:0.01|mem:32" --port="5050" --publish_per_framework_metrics="true" --quiet="false" --recovery_agent_removal_limit="100%" --registry="in_memory" --registry_fetch_timeout="1mins" --registry_gc_interval="15mins" --registry_max_agent_age="2weeks" --registry_max_agent_count="102400" --registry_store_timeout="100secs" --registry_strict="false" --require_agent_domain="false" --role_sorter="drf" --roles="role1" --root_submissions="true" --version="false" --webui_dir="/usr/local/share/mesos/webui" --work_dir="/tmp/PfFTwT/master" --zk_session_timeout="10secs"
I0110 17:12:59.304585 13912 master.cpp:468] Master only allowing authenticated frameworks to register
I0110 17:12:59.304595 13912 master.cpp:474] Master only allowing authenticated agents to register
I0110 17:12:59.304603 13912 master.cpp:480] Master only allowing authenticated HTTP frameworks to register
I0110 17:12:59.304615 13912 credentials.hpp:37] Loading credentials for authentication from '/tmp/PfFTwT/credentials'
I0110 17:12:59.304684 13912 master.cpp:524] Using default 'crammd5' authenticator
I0110 17:12:59.304744 13912 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readonly'
I0110 17:12:59.304831 13912 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-readwrite'
I0110 17:12:59.304889 13912 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-master-scheduler'
I0110 17:12:59.304941 13912 master.cpp:605] Authorization enabled
W0110 17:12:59.304967 13912 master.cpp:668] The '--roles' flag is deprecated. This flag will be removed in the future. See the Mesos 0.27 upgrade notes for more information
I0110 17:12:59.305047 13919 hierarchical.cpp:176] Initialized hierarchical allocator process
I0110 17:12:59.305128 13918 whitelist_watcher.cpp:77] No whitelist given
I0110 17:12:59.305600 13914 master.cpp:2085] Elected as the leading master!
I0110 17:12:59.305622 13914 master.cpp:1640] Recovering from registrar
I0110 17:12:59.305698 13913 registrar.cpp:339] Recovering registrar
I0110 17:12:59.305853 13912 registrar.cpp:383] Successfully fetched the registry (0B) in 118016ns
I0110 17:12:59.305899 13912 registrar.cpp:487] Applied 1 operations in 8238ns; attempting to update the registry
I0110 17:12:59.306036 13912 registrar.cpp:544] Successfully updated the registry in 112128ns
I0110 17:12:59.306092 13912 registrar.cpp:416] Successfully recovered registrar
I0110 17:12:59.306217 13916 master.cpp:1754] Recovered 0 agents from the registry (172B); allowing 10mins for agents to reregister
I0110 17:12:59.306258 13919 hierarchical.cpp:216] Skipping recovery of hierarchical allocator: nothing to recover
W0110 17:12:59.307780 13893 process.cpp:2829] Attempted to spawn already running process files@172.16.10.92:42320
I0110 17:12:59.308149 13893 containerizer.cpp:305] Using isolation { environment_secret, posix/cpu, posix/mem, filesystem/posix, network/cni }
I0110 17:12:59.310348 13893 linux_launcher.cpp:144] Using /sys/fs/cgroup/freezer as the freezer hierarchy for the Linux launcher
I0110 17:12:59.310752 13893 provisioner.cpp:298] Using default backend 'overlay'
I0110 17:12:59.311290 13893 cluster.cpp:486] Creating default 'local' authorizer
I0110 17:12:59.311683 13919 slave.cpp:268] Mesos agent started on (427)@172.16.10.92:42320
I0110 17:12:59.311703 13919 slave.cpp:269] Flags at startup: --acls="" --allow_containerizer_ptrace="false" --appc_simple_discovery_uri_prefix="http://" --appc_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/store/appc" --authenticate_http_readonly="true" --authenticate_http_readwrite="false" --authenticatee="crammd5" --authentication_backoff_factor="1secs" --authentication_timeout_max="1mins" --authentication_timeout_min="5secs" --authorizer="local" --cgroups_cpu_enable_pids_and_tids_count="false" --cgroups_destroy_timeout="1mins" --cgroups_enable_cfs="false" --cgroups_hierarchy="/sys/fs/cgroup" --cgroups_limit_swap="false" --cgroups_root="mesos" --container_disk_watch_interval="15secs" --containerizers="mesos" --credential="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/credential" --default_role="*" --disallow_sharing_agent_pid_namespace="false" --disk_watch_interval="1mins" --docker="docker" --docker_kill_orphans="true" --docker_registry="https://registry-1.docker.io" --docker_remove_delay="6hrs" --docker_socket="/var/run/docker.sock" --docker_stop_timeout="0ns" --docker_store_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/store/docker" --docker_volume_checkpoint_dir="/var/run/mesos/isolators/docker/volume" --enforce_container_disk_quota="false" --executor_registration_timeout="1mins" --executor_reregistration_timeout="2secs" --executor_shutdown_grace_period="5secs" --fetcher_cache_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/fetch" --fetcher_cache_size="2GB" --fetcher_stall_timeout="1mins" --frameworks_home="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/frameworks" --gc_delay="1weeks" --gc_disk_headroom="0.1" --gc_non_executor_container_sandboxes="false" --help="false" --hostname_lookup="true" --http_command_executor="false" --http_credentials="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/http_credentials" --http_heartbeat_interval="30secs" --initialize_driver_logging="true" --isolation="posix/cpu,posix/mem" --launcher="linux" --launcher_dir="/home/ubuntu/workspace/mesos/Mesos_CI-build/FLAG/Plain/label/mesos-ec2-ubuntu-16.04/mesos/build/src" --logbufsecs="0" --logging_level="INFO" --max_completed_executors_per_framework="150" --memory_profiling="false" --network_cni_metrics="true" --network_cni_root_dir_persist="false" --oversubscribed_resources_interval="15secs" --perf_duration="10secs" --perf_interval="1mins" --port="5051" --qos_correction_interval_min="0ns" --quiet="false" --reconfiguration_policy="equal" --recover="reconnect" --recovery_timeout="15mins" --registration_backoff_factor="10ms" --resources="disk(*):1024" --revocable_cpu_low_priority="true" --runtime_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD" --sandbox_directory="/mnt/mesos/sandbox" --strict="true" --switch_user="true" --systemd_enable_support="true" --systemd_runtime_directory="/run/systemd/system" --version="false" --work_dir="/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_AdzCvL" --zk_session_timeout="10secs"
I0110 17:12:59.311885 13919 credentials.hpp:86] Loading credential for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/credential'
I0110 17:12:59.311926 13919 slave.cpp:301] Agent using credential for: test-principal
I0110 17:12:59.311941 13919 credentials.hpp:37] Loading credentials for authentication from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_ynTluD/http_credentials'
I0110 17:12:59.312007 13919 http.cpp:965] Creating default 'basic' HTTP authenticator for realm 'mesos-agent-readonly'
I0110 17:12:59.312136 13919 disk_profile_adaptor.cpp:80] Creating default disk profile adaptor module
I0110 17:12:59.312563 13919 slave.cpp:616] Agent resources: [{"name":"disk","scalar":{"value":1024.0},"type":"SCALAR"},{"name":"cpus","scalar":{"value":8.0},"type":"SCALAR"},{"name":"mem","scalar":{"value":14013.0},"type":"SCALAR"},{"name":"ports","ranges":{"range":[{"begin":31000,"end":32000}]},"type":"RANGES"}]
I0110 17:12:59.312618 13919 slave.cpp:624] Agent attributes: [ ]
I0110 17:12:59.312631 13919 slave.cpp:633] Agent hostname: ip-172-16-10-92.ec2.internal
I0110 17:12:59.312713 13913 status_update_manager_process.hpp:379] Pausing operation status update manager
I0110 17:12:59.312901 13912 task_status_update_manager.cpp:181] Pausing sending task status updates
I0110 17:12:59.312921 13917 state.cpp:66] Recovering state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_AdzCvL/meta'
I0110 17:12:59.312965 13913 slave.cpp:7007] Finished recovering checkpointed state from '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_AdzCvL/meta', beginning agent recovery
I0110 17:12:59.313026 13916 task_status_update_manager.cpp:207] Recovering task status update manager
I0110 17:12:59.313138 13912 containerizer.cpp:727] Recovering Mesos containers
I0110 17:12:59.313205 13912 linux_launcher.cpp:286] Recovering Linux launcher
I0110 17:12:59.313335 13912 containerizer.cpp:1053] Recovering isolators
I0110 17:12:59.313606 13913 containerizer.cpp:1092] Recovering provisioner
I0110 17:12:59.313724 13913 provisioner.cpp:494] Provisioner recovery complete
I0110 17:12:59.313973 13915 composing.cpp:339] Finished recovering all containerizers
I0110 17:12:59.314034 13912 slave.cpp:7236] Recovering executors
I0110 17:12:59.314071 13912 slave.cpp:7389] Finished recovery
I0110 17:12:59.314304 13914 slave.cpp:1268] New master detected at master@172.16.10.92:42320
I0110 17:12:59.314319 13916 task_status_update_manager.cpp:181] Pausing sending task status updates
I0110 17:12:59.314306 13918 status_update_manager_process.hpp:379] Pausing operation status update manager
I0110 17:12:59.314371 13914 slave.cpp:1333] Detecting new master
I0110 17:12:59.315553 13917 slave.cpp:1360] Authenticating with master master@172.16.10.92:42320
I0110 17:12:59.315582 13917 slave.cpp:1369] Using default CRAM-MD5 authenticatee
I0110 17:12:59.315654 13919 authenticatee.cpp:121] Creating new client SASL connection
I0110 17:12:59.315999 13919 master.cpp:9779] Authenticating slave(427)@172.16.10.92:42320
I0110 17:12:59.316053 13916 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(880)@172.16.10.92:42320
I0110 17:12:59.316126 13918 authenticator.cpp:98] Creating new server SASL connection
I0110 17:12:59.316473 13918 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I0110 17:12:59.316495 13918 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I0110 17:12:59.316529 13918 authenticator.cpp:204] Received SASL authentication start
I0110 17:12:59.316555 13918 authenticator.cpp:326] Authentication requires more steps
I0110 17:12:59.316608 13918 authenticatee.cpp:259] Received SASL authentication step
I0110 17:12:59.316668 13918 authenticator.cpp:232] Received SASL authentication step
I0110 17:12:59.316684 13918 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-92.ec2.internal' server FQDN: 'ip-172-16-10-92.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I0110 17:12:59.316690 13918 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I0110 17:12:59.316699 13918 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I0110 17:12:59.316707 13918 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-92.ec2.internal' server FQDN: 'ip-172-16-10-92.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I0110 17:12:59.316714 13918 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I0110 17:12:59.316720 13918 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I0110 17:12:59.316740 13918 authenticator.cpp:318] Authentication success
I0110 17:12:59.316792 13913 authenticatee.cpp:299] Authentication success
I0110 17:12:59.316818 13919 master.cpp:9811] Successfully authenticated principal 'test-principal' at slave(427)@172.16.10.92:42320
I0110 17:12:59.316870 13916 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(880)@172.16.10.92:42320
I0110 17:12:59.317049 13915 slave.cpp:1460] Successfully authenticated with master master@172.16.10.92:42320
I0110 17:12:59.317137 13915 slave.cpp:1893] Will retry registration in 4.361204ms if necessary
I0110 17:12:59.317167 13914 master.cpp:6695] Received register agent message from slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.317235 13914 master.cpp:3958] Authorizing agent providing resources 'disk:1024; cpus:8; mem:14013; ports:[31000-32000]' with principal 'test-principal'
I0110 17:12:59.317373 13918 master.cpp:6762] Authorized registration of agent at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.317409 13918 master.cpp:6877] Registering agent at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal) with id ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.317519 13918 registrar.cpp:487] Applied 1 operations in 30113ns; attempting to update the registry
I0110 17:12:59.317701 13916 registrar.cpp:544] Successfully updated the registry in 154112ns
I0110 17:12:59.317761 13912 master.cpp:6925] Admitted agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.317893 13912 master.cpp:6970] Registered agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal) with disk:1024; cpus:8; mem:14013; ports:[31000-32000]
I0110 17:12:59.317966 13914 hierarchical.cpp:604] Added agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 (ip-172-16-10-92.ec2.internal) with disk:1024; cpus:8; mem:14013; ports:[31000-32000] (allocated: {})
I0110 17:12:59.317994 13919 slave.cpp:1493] Registered with master master@172.16.10.92:42320; given agent ID ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.318058 13918 task_status_update_manager.cpp:188] Resuming sending task status updates
I0110 17:12:59.318100 13914 hierarchical.cpp:1567] Performed allocation for 1 agents in 15631ns
I0110 17:12:59.318140 13917 status_update_manager_process.hpp:385] Resuming operation status update manager
I0110 17:12:59.318176 13919 slave.cpp:1514] Checkpointing SlaveInfo to '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_AdzCvL/meta/slaves/ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0/slave.info'
I0110 17:12:59.318497 13919 slave.cpp:1563] Forwarding agent update {"operations":{},"resource_version_uuid":{"value":"tcDDjn5hT+mvVAudPNlv+g=="},"slave_id":{"value":"ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0"},"update_oversubscribed_resources":false}
I0110 17:12:59.318639 13913 master.cpp:8029] Ignoring update on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal) as it reports no changes
I0110 17:12:59.318768 13916 process.cpp:3588] Handling HTTP event for process 'master' with path: '/master/reserve'
I0110 17:12:59.319090 13917 http.cpp:1105] HTTP POST for /master/reserve from 172.16.10.92:54608
I0110 17:12:59.319257 13917 master.cpp:3616] Authorizing principal 'test-principal' to reserve resources 'disk(reservations: [(DYNAMIC,role1,test-principal)]):512'
I0110 17:12:59.319600 13914 master.cpp:11491] Sending operation '' (uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) to agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.320333 13919 process.cpp:3588] Handling HTTP event for process 'master' with path: '/master/create-volumes'
I0110 17:12:59.320580 13914 slave.cpp:4218] Updated checkpointed resources from {} to disk(reservations: [(DYNAMIC,role1,test-principal)]):512
I0110 17:12:59.320629 13914 slave.cpp:8090] Updating the state of operation with no ID (uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
I0110 17:12:59.320664 13916 http.cpp:1105] HTTP POST for /master/create-volumes from 172.16.10.92:54610
I0110 17:12:59.320679 13912 status_update_manager_process.hpp:152] Received operation status update OPERATION_FINISHED (Status UUID: 4f7930be-a440-4a6c-83c6-b3202952ef76) for operation UUID 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.320709 13912 status_update_manager_process.hpp:414] Creating operation status update stream 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 checkpoint=true
I0110 17:12:59.320822 13912 status_update_manager_process.hpp:929] Checkpointing UPDATE for operation status update OPERATION_FINISHED (Status UUID: 4f7930be-a440-4a6c-83c6-b3202952ef76) for operation UUID 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.320886 13916 master.cpp:3731] Authorizing principal 'test-principal' to create volumes '[{"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
I0110 17:12:59.321269 13919 master.cpp:11491] Sending operation '' (uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) to agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
W0110 17:12:59.321606 13893 process.cpp:2829] Attempted to spawn already running process version@172.16.10.92:42320
I0110 17:12:59.322281 13893 sched.cpp:232] Version: 1.8.0
I0110 17:12:59.322409 13914 sched.cpp:336] New master detected at master@172.16.10.92:42320
I0110 17:12:59.322443 13914 sched.cpp:401] Authenticating with master master@172.16.10.92:42320
I0110 17:12:59.322453 13914 sched.cpp:408] Using default CRAM-MD5 authenticatee
I0110 17:12:59.322484 13919 slave.cpp:4218] Updated checkpointed resources from disk(reservations: [(DYNAMIC,role1,test-principal)]):512 to disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1
I0110 17:12:59.322535 13916 authenticatee.cpp:121] Creating new client SASL connection
I0110 17:12:59.322540 13919 slave.cpp:8090] Updating the state of operation with no ID (uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) for an operation API call (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
I0110 17:12:59.322859 13916 master.cpp:9779] Authenticating scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.322917 13917 authenticator.cpp:414] Starting authentication session for crammd5-authenticatee(881)@172.16.10.92:42320
I0110 17:12:59.322993 13914 authenticator.cpp:98] Creating new server SASL connection
I0110 17:12:59.323290 13914 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I0110 17:12:59.323316 13914 authenticatee.cpp:239] Attempting to authenticate with mechanism 'CRAM-MD5'
I0110 17:12:59.323371 13914 authenticator.cpp:204] Received SASL authentication start
I0110 17:12:59.323411 13914 authenticator.cpp:326] Authentication requires more steps
I0110 17:12:59.323467 13914 authenticatee.cpp:259] Received SASL authentication step
I0110 17:12:59.323523 13916 authenticator.cpp:232] Received SASL authentication step
I0110 17:12:59.323547 13916 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-92.ec2.internal' server FQDN: 'ip-172-16-10-92.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: false 
I0110 17:12:59.323562 13916 auxprop.cpp:181] Looking up auxiliary property '*userPassword'
I0110 17:12:59.323580 13916 auxprop.cpp:181] Looking up auxiliary property '*cmusaslsecretCRAM-MD5'
I0110 17:12:59.323597 13916 auxprop.cpp:109] Request to lookup properties for user: 'test-principal' realm: 'ip-172-16-10-92.ec2.internal' server FQDN: 'ip-172-16-10-92.ec2.internal' SASL_AUXPROP_VERIFY_AGAINST_HASH: false SASL_AUXPROP_OVERRIDE: false SASL_AUXPROP_AUTHZID: true 
I0110 17:12:59.323611 13916 auxprop.cpp:131] Skipping auxiliary property '*userPassword' since SASL_AUXPROP_AUTHZID == true
I0110 17:12:59.323622 13916 auxprop.cpp:131] Skipping auxiliary property '*cmusaslsecretCRAM-MD5' since SASL_AUXPROP_AUTHZID == true
I0110 17:12:59.323640 13916 authenticator.cpp:318] Authentication success
I0110 17:12:59.323709 13917 master.cpp:9811] Successfully authenticated principal 'test-principal' at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.323731 13914 authenticatee.cpp:299] Authentication success
I0110 17:12:59.323758 13916 authenticator.cpp:432] Authentication session cleanup for crammd5-authenticatee(881)@172.16.10.92:42320
I0110 17:12:59.323858 13913 sched.cpp:513] Successfully authenticated with master master@172.16.10.92:42320
I0110 17:12:59.323880 13913 sched.cpp:817] Sending SUBSCRIBE call to master@172.16.10.92:42320
I0110 17:12:59.323923 13913 sched.cpp:850] Will retry registration in 1.431265508secs if necessary
I0110 17:12:59.324045 13919 master.cpp:2861] Received SUBSCRIBE call for framework 'default' at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.324087 13919 master.cpp:2157] Authorizing framework principal 'test-principal' to receive offers for roles '{ role1 }'
I0110 17:12:59.324192 13913 master.cpp:2942] Subscribing framework default with checkpointing disabled and capabilities [ MULTI_ROLE, RESERVATION_REFINEMENT ]
I0110 17:12:59.324609 13913 master.cpp:10009] Adding framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320 with roles { } suppressed
I0110 17:12:59.324750 13916 sched.cpp:744] Framework registered with ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:12:59.324800 13916 sched.cpp:758] Scheduler::registered took 20241ns
I0110 17:12:59.324818 13918 hierarchical.cpp:305] Added framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:12:59.324986 13918 hierarchical.cpp:1567] Performed allocation for 1 agents in 110553ns
I0110 17:12:59.325088 13917 master.cpp:9594] Sending offers [ ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-O0 ] to framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.325254 13913 sched.cpp:914] Scheduler::resourceOffers took 40786ns
I0110 17:12:59.325376 13912 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: 4f7930be-a440-4a6c-83c6-b3202952ef76) for operation UUID 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.325464 13917 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operator API call
I0110 17:12:59.325487 13912 status_update_manager_process.hpp:152] Received operation status update OPERATION_FINISHED (Status UUID: bdcec067-c5a5-4477-bc93-e9180a9cfd7e) for operation UUID 278fbfe1-f632-41a2-8140-2b9d046fa1b1 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.325518 13912 status_update_manager_process.hpp:414] Creating operation status update stream 278fbfe1-f632-41a2-8140-2b9d046fa1b1 checkpoint=true
I0110 17:12:59.325583 13917 master.cpp:11237] Updating the state of operation '' (uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
I0110 17:12:59.325623 13912 status_update_manager_process.hpp:929] Checkpointing UPDATE for operation status update OPERATION_FINISHED (Status UUID: bdcec067-c5a5-4477-bc93-e9180a9cfd7e) for operation UUID 278fbfe1-f632-41a2-8140-2b9d046fa1b1 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
W0110 17:12:59.325707 13918 slave.cpp:4625] Dropping operation update acknowledgement with status_uuid 4f7930be-a440-4a6c-83c6-b3202952ef76 and operation_uuid 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 because the operation was not found
I0110 17:12:59.325850 13913 master.cpp:11600] Removing offer ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-O0
I0110 17:12:59.325945 13913 master.cpp:4479] Processing ACCEPT call for offers: [ ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-O0 ] on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.325999 13913 master.cpp:3773] Authorizing principal 'test-principal' to destroy volumes '[{"allocation_info":{"role":"role1"},"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}]'
I0110 17:12:59.326165 13913 master.cpp:6043] Processing REVIVE call for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:12:59.326231 13914 hierarchical.cpp:1388] Revived offers for roles { role1 } of framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:12:59.326318 13914 hierarchical.cpp:1567] Performed allocation for 1 agents in 39458ns
I0110 17:12:59.326310 13913 master.cpp:5087] Applying DESTROY operation for volumes [{"allocation_info":{"role":"role1"},"disk":{"persistence":{"id":"id1","principal":"test-principal"},"volume":{"container_path":"volume_path","mode":"RW"}},"name":"disk","reservations":[{"principal":"test-principal","role":"role1","type":"DYNAMIC"}],"scalar":{"value":1.0},"type":"SCALAR"}] from framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320 to agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.326472 13913 master.cpp:11491] Sending operation '' (uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) to agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:12:59.326841 13913 hierarchical.cpp:970] Updated allocation of framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 from disk(allocated: role1):512; cpus(allocated: role1):8; mem(allocated: role1):14013; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1 to disk(allocated: role1):512; cpus(allocated: role1):8; mem(allocated: role1):14013; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512
I0110 17:12:59.326948 13913 hierarchical.cpp:1239] Recovered disk(allocated: role1):512; cpus(allocated: role1):8; mem(allocated: role1):14013; ports(allocated: role1):[31000-32000]; disk(allocated: role1)(reservations: [(DYNAMIC,role1,test-principal)]):512 (total: disk:512; cpus:8; mem:14013; ports:[31000-32000]; disk(reservations: [(DYNAMIC,role1,test-principal)]):512, allocated: {}) on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 from framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:12:59.326980 13913 hierarchical.cpp:1285] Framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 filtered agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 for 5secs
I0110 17:12:59.327142 13916 slave.cpp:4302] Deleting persistent volume 'id1' at '/tmp/PersistentVolumeEndpointsTest_EndpointCreateThenOfferRemove_AdzCvL/volumes/roles/role1/id1'
I0110 17:12:59.327240 13916 slave.cpp:4218] Updated checkpointed resources from disk(reservations: [(DYNAMIC,role1,test-principal)]):511; disk(reservations: [(DYNAMIC,role1,test-principal)])[id1:volume_path]:1 to disk(reservations: [(DYNAMIC,role1,test-principal)]):512
I0110 17:12:59.327303 13916 slave.cpp:8090] Updating the state of operation with no ID (uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (latest state: OPERATION_FINISHED, status update state: OPERATION_FINISHED)
I0110 17:12:59.329543 13912 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: bdcec067-c5a5-4477-bc93-e9180a9cfd7e) for operation UUID 278fbfe1-f632-41a2-8140-2b9d046fa1b1 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.329624 13919 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) for an operator API call
I0110 17:12:59.329641 13912 status_update_manager_process.hpp:152] Received operation status update OPERATION_FINISHED (Status UUID: 7cb16742-95c3-416d-a71a-8a40f3f90f2b) for operation UUID 47f2636a-8506-4903-8a08-ff69578a6b8f of framework 'ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000' on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.329674 13912 status_update_manager_process.hpp:414] Creating operation status update stream 47f2636a-8506-4903-8a08-ff69578a6b8f checkpoint=true
I0110 17:12:59.329694 13919 master.cpp:11237] Updating the state of operation '' (uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) for an operator API call (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
W0110 17:12:59.329764 13919 slave.cpp:4625] Dropping operation update acknowledgement with status_uuid bdcec067-c5a5-4477-bc93-e9180a9cfd7e and operation_uuid 278fbfe1-f632-41a2-8140-2b9d046fa1b1 because the operation was not found
I0110 17:12:59.329777 13912 status_update_manager_process.hpp:929] Checkpointing UPDATE for operation status update OPERATION_FINISHED (Status UUID: 7cb16742-95c3-416d-a71a-8a40f3f90f2b) for operation UUID 47f2636a-8506-4903-8a08-ff69578a6b8f of framework 'ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000' on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.334693 13912 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: 7cb16742-95c3-416d-a71a-8a40f3f90f2b) for operation UUID 47f2636a-8506-4903-8a08-ff69578a6b8f of framework 'ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000' on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:12:59.334766 13916 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:12:59.334833 13916 master.cpp:11237] Updating the state of operation '' (uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (latest state: OPERATION_PENDING, status update state: OPERATION_FINISHED)
W0110 17:12:59.334923 13914 slave.cpp:4625] Dropping operation update acknowledgement with status_uuid 7cb16742-95c3-416d-a71a-8a40f3f90f2b and operation_uuid 47f2636a-8506-4903-8a08-ff69578a6b8f because the operation was not found
W0110 17:13:09.326414 13918 status_update_manager_process.hpp:561] Resending operation status update OPERATION_FINISHED (Status UUID: 4f7930be-a440-4a6c-83c6-b3202952ef76) for operation UUID 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.326493 13918 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: 4f7930be-a440-4a6c-83c6-b3202952ef76) for operation UUID 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.326570 13916 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operator API call
E0110 17:13:09.326659 13916 master.cpp:8586] Failed to find the operation '' (uuid: 825f65eb-3ba1-4dfa-bdfa-8eb29194ace3) for an operator API call on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
W0110 17:13:09.330664 13919 status_update_manager_process.hpp:561] Resending operation status update OPERATION_FINISHED (Status UUID: bdcec067-c5a5-4477-bc93-e9180a9cfd7e) for operation UUID 278fbfe1-f632-41a2-8140-2b9d046fa1b1 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.330706 13919 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: bdcec067-c5a5-4477-bc93-e9180a9cfd7e) for operation UUID 278fbfe1-f632-41a2-8140-2b9d046fa1b1 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.330785 13919 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) for an operator API call
E0110 17:13:09.330888 13917 master.cpp:8586] Failed to find the operation '' (uuid: 278fbfe1-f632-41a2-8140-2b9d046fa1b1) for an operator API call on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
W0110 17:13:09.334813 13913 status_update_manager_process.hpp:561] Resending operation status update OPERATION_FINISHED (Status UUID: 7cb16742-95c3-416d-a71a-8a40f3f90f2b) for operation UUID 47f2636a-8506-4903-8a08-ff69578a6b8f of framework 'ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000' on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.334851 13913 status_update_manager_process.hpp:528] Forwarding operation status update OPERATION_FINISHED (Status UUID: 7cb16742-95c3-416d-a71a-8a40f3f90f2b) for operation UUID 47f2636a-8506-4903-8a08-ff69578a6b8f of framework 'ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000' on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
I0110 17:13:09.334918 13913 slave.cpp:5858] Forwarding status update of unknown operation with no ID (operation_uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
E0110 17:13:09.334988 13913 master.cpp:8586] Failed to find the operation '' (uuid: 47f2636a-8506-4903-8a08-ff69578a6b8f) for framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 on agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
../../src/tests/persistent_volume_endpoints_tests.cpp:1745: Failure
Failed to wait 15secs for offers
I0110 17:13:14.326447 13912 master.cpp:1386] Framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320 disconnected
I0110 17:13:14.326498 13912 master.cpp:3237] Deactivating framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
../../src/tests/persistent_volume_endpoints_tests.cpp:1739: Failure
Actual function call count doesn't match EXPECT_CALL(sched, resourceOffers(&driver, _))...
Expected: to be called once
Actual: never called - unsatisfied and active
I0110 17:13:14.326531 13912 master.cpp:3214] Disconnecting framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:13:14.326555 13912 master.cpp:1401] Giving framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320 0ns to failover
I0110 17:13:14.326592 13917 hierarchical.cpp:419] Deactivated framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:13:14.327801 13914 master.cpp:9386] Framework failover timeout, removing framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:13:14.327831 13914 master.cpp:10326] Removing framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 (default) at scheduler-a1962bae-1adb-4180-b61e-b3a3b379f0a3@172.16.10.92:42320
I0110 17:13:14.327924 13919 slave.cpp:3912] Asked to shut down framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000 by master@172.16.10.92:42320
I0110 17:13:14.327958 13919 slave.cpp:3927] Cannot shut down unknown framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:13:14.328553 13893 slave.cpp:922] Agent terminating
I0110 17:13:14.328589 13914 hierarchical.cpp:358] Removed framework ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-0000
I0110 17:13:14.328873 13913 master.cpp:1271] Agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal) disconnected
I0110 17:13:14.328903 13913 master.cpp:3274] Disconnecting agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:13:14.329061 13913 master.cpp:3293] Deactivating agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 at slave(427)@172.16.10.92:42320 (ip-172-16-10-92.ec2.internal)
I0110 17:13:14.329120 13918 hierarchical.cpp:802] Agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0 deactivated
I0110 17:13:14.332054 13893 master.cpp:1111] Master terminating
I0110 17:13:14.332238 13912 hierarchical.cpp:644] Removed agent ae22a9c8-0ef6-4f1e-b1eb-7b55f6e4508b-S0
[ FAILED ] PersistentVolumeEndpointsTest.EndpointCreateThenOfferRemove (15031 ms){code}
commit b53139b789b67302d8efca0bde214f9e7b22dfa4 (upstream/master, origin/master, origin/HEAD, master)

