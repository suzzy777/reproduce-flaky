A dead DN listed in dfs_hosts_allow.txt by IP and in dfs_hosts_exclude.txt by hostname ends up being displayed twice in {{dfsnodelist.jsp?whatNodes=DEAD}} after the NN restarts because {{getDatanodeListForReport}} does not handle such a "pseudo-duplicate" correctly:
# the "Remove any nodes we know about from the map" loop no longer has the knowledge to remove the spurious entries
# the "The remaining nodes are ones that are referenced by the hosts files" loop does not do hostname lookups, so does not know that the IP and hostname refer to the same host.

Relatedly, such an IP-based dfs_hosts entry results in a cosmetic problem in the JSP output:  The *Node* column shows ":50010" as the nodename, with HTML markup {{<a href="http://:50075/browseDirectory.jsp?namenodeInfoPort=50070&amp;dir=%2F&amp;nnaddr=172.29.97.196:8020" title="172.29.97.216:50010">:50010</a>}}.