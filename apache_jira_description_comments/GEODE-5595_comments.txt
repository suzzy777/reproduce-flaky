Not able to reproduce locally and there are limited test artifacts are available, but this snippet from the logs may be of some help:
{code}
[info 2018/08/17 01:36:05.013 UTC <Test worker> tid=0x19] Running in local mode since no locators were specified.

[info 2018/08/17 01:36:05.016 UTC <Test worker> tid=0x19] Initializing region _monitoringRegion_172.17.0.11<v-1>0

[info 2018/08/17 01:36:05.016 UTC <Test worker> tid=0x19] Initialization of region _monitoringRegion_172.17.0.11<v-1>0 completed

[info 2018/08/17 01:36:05.100 UTC <Test worker> tid=0x19] Loading previously deployed jars

[info 2018/08/17 01:36:05.109 UTC <Test worker> tid=0x19] Updating membership port.  Port changed from 0 to 41,776.  ID is now 2c33e0b1be22(1:loner):0:8b778645

[vm0] [info 2018/08/17 01:36:05.117 UTC <Client Queue Initialization  Thread 0> tid=0x703] :Cache server: Initializing primary server-to-client communication socket: Socket[addr=/127.0.0.1,port=41784,localport=25231]

[vm0] [warn 2018/08/17 01:36:05.120 UTC <Client Queue Initialization  Thread 0> tid=0x703] A previous connection attempt from this client is still being processed: identity(172.17.0.11(1:loner):41776:8b778645,connection=1,durableAttributes=
DurableClientAttributes[id=testBug40165ClientReconnects_client; timeout=60])

[vm0] [warn 2018/08/17 01:36:05.120 UTC <Client Queue Initialization  Thread 0> tid=0x703] CacheClientNotifier: Unsuccessfully registered client with identifier  identity(172.17.0.11(1:loner):41776:8b778645,connection=1,durableAttributes=DurableClientAttributes[id=testBug40165ClientReconnects_client; timeout=60]) and response code 60

[warn 2018/08/17 01:36:05.121 UTC <Test worker> tid=0x19] Cache Client Updater Thread  on 2c33e0b1be22(366)<v26>:32770 port 25231 (localhost:25231): Caught following exception while attempting to create a server-to-client communication socket and will exit: org.apache.geode.cache.client.ServerRefusedConnectionException: <null inet_addr hostname><ec>:25231 refused connection: A previous connection attempt from this client is still being processed: identity(172.17.0.11(1:loner):41776:8b778645,connection=1,durableAttributes=DurableClientAttributes[id=testBug40165ClientReconnects_client; timeout=60])

[vm0] [info 2018/08/17 01:36:05.122 UTC <ServerConnection on port 25231 Thread 3> tid=0x709] Server connection from [identity(172.17.0.11(1:loner):41776:8b778645,connection=1,durableAttributes=DurableClientAttributes[id=testBug40165ClientReconnects_client; timeout=60]); port=41780]: connection disconnect detected by EOF.

[error 2018/08/17 01:36:05.122 UTC <Test worker> tid=0x19] Could not find any server to create primary client queue on. Number of excluded servers is 1 and exception is no exception.

[error 2018/08/17 01:36:05.122 UTC <Test worker> tid=0x19] Could not initialize a primary queue on startup. No queue servers available.

[info 2018/08/17 01:36:05.123 UTC <Test worker> tid=0x19] Pool DeltaPropagationDUnitTest started with multiuser-authentication=false
{code}

Failed on CI again: https://concourse.apachegeode-ci.info/teams/main/pipelines/develop/jobs/DistributedTest/builds/364

With stack trace:

{code:java}
org.apache.geode.internal.cache.DeltaPropagationDUnitTest > testBug40165ClientReconnects FAILED
	
    org.apache.geode.cache.NoSubscriptionServersAvailableException: org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
	
        at org.apache.geode.cache.client.internal.QueueManagerImpl.getAllConnections(QueueManagerImpl.java:187)
	
        at org.apache.geode.cache.client.internal.OpExecutorImpl.executeOnQueuesAndReturnPrimaryResult(OpExecutorImpl.java:548)
	
        at org.apache.geode.cache.client.internal.PoolImpl.executeOnQueuesAndReturnPrimaryResult(PoolImpl.java:855)
	
        at org.apache.geode.cache.client.internal.RegisterInterestOp.execute(RegisterInterestOp.java:58)
	
        at org.apache.geode.cache.client.internal.ServerRegionProxy.registerInterest(ServerRegionProxy.java:355)
	
        at org.apache.geode.internal.cache.LocalRegion.processSingleInterest(LocalRegion.java:3796)
	
        at org.apache.geode.internal.cache.LocalRegion.registerInterest(LocalRegion.java:3887)
	
        at org.apache.geode.internal.cache.LocalRegion.registerInterest(LocalRegion.java:3685)
	
        at org.apache.geode.internal.cache.LocalRegion.registerInterest(LocalRegion.java:3680)
	
        at org.apache.geode.internal.cache.LocalRegion.registerInterest(LocalRegion.java:3675)
	
        at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createDurableCacheClient(DeltaPropagationDUnitTest.java:1305)
	
        at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.testBug40165ClientReconnects(DeltaPropagationDUnitTest.java:647)
	

	
        Caused by:
	
        org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
	
            at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:585)
	
            at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:296)
	
            at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:352)
	
            at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:176)
	
            at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:162)
	
            at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
	
            at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createDurableCacheClient(DeltaPropagationDUnitTest.java:1295)
	
            ... 1 more

{code}


Occurred again:
https://concourse.apachegeode-ci.info/teams/main/pipelines/develop/jobs/DistributedTest/builds/17

six failures in mass-test-run completed around 10/1/2018. Here's one: [https://concourse.apachegeode-ci.info/teams/main/pipelines/mass-test-run/jobs/DistributedTest/builds/981]

Not only that, but there are a slew of tickets over the past two years, pertaining to this same test. Broken, fixed, broken again.

Interestingly, searching for the error message turns up 9 bugs (5 open!), including on current SWAT bug: [https://issues.apache.org/jira/issues/?jql=text%20~%20%22%5C%22NoSubscriptionServersAvailableException%3A%20Could%20not%20initialize%20a%20primary%20queue%20on%20startup%5C%22%22%20ORDER%20BY%20key%20ASC%2C%20created%20DESC]

and searching for the test method name turns up a list of 6 tickets (2 open!) with some overlap: [https://issues.apache.org/jira/issues/?jql=text%20~%20testBug40165ClientReconnects%20ORDER%20BY%20key%20ASC%2C%20created%20DESC]

[~klund]'s comment https://issues.apache.org/jira/browse/GEODE-3742?focusedCommentId=16469482&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16469482 is apt:
{quote}Every dunit or integrationTest that creates durable cache clients is intermittently hitting this same failure. One example is GEODE-5177 – to fix that ticket I simply removed use of durable client queue which wasn't necessary for InitializedDiskRegionWithIoExceptionRegressionTest.
{quote}
Good info at GEODE-3742

Failures in PR Pipeline Distributed Tests.
{noformat}
org.apache.geode.internal.cache.tier.sockets.DurableClientCQDUnitTest > testRejectClientWhenDrainingCq FAILED
    org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.tier.sockets.DurableClientTestBase$$Lambda$25/580094464.run in VM 2 running on Host 72c640476d53 with 4 VMs
        at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:361)
        at org.apache.geode.internal.cache.tier.sockets.DurableClientTestBase.startDurableClient(DurableClientTestBase.java:693)
        at org.apache.geode.internal.cache.tier.sockets.DurableClientCQDUnitTest.testRejectClientWhenDrainingCq(DurableClientCQDUnitTest.java:518)

        Caused by:
        org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.

> Task :geode-core:distributedTest

org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest > untrustedClientIsRejected[0] FAILED
    org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest$$Lambda$48/1922488433.run in VM 2 running on Host 2ac94cb7785e with 4 VMs
        at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:361)
        at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.untrustedClientIsRejected(CacheServerSSLConnectionDUnitTest.java:546)

        Caused by:
        org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
            at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
            at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
            at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
            at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
            at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
            at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
            at org.apache.geode.internal.cache.GemFireCacheImpl.determineDefaultPool(GemFireCacheImpl.java:2909)
            at org.apache.geode.internal.cache.GemFireCacheImpl.getDefaultPool(GemFireCacheImpl.java:1160)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.getDefaultPool(ClientRegionFactoryImpl.java:101)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.createRegionAttributes(ClientRegionFactoryImpl.java:229)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.create(ClientRegionFactoryImpl.java:212)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.setUpClientVM(CacheServerSSLConnectionDUnitTest.java:293)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.setUpClientVMTask(CacheServerSSLConnectionDUnitTest.java:322)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.lambda$untrustedClientIsRejected$83af0fb3$1(CacheServerSSLConnectionDUnitTest.java:546)

org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest > untrustedClientIsRejected[1] FAILED
    org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest$$Lambda$48/1922488433.run in VM 2 running on Host 2ac94cb7785e with 4 VMs
        at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:361)
        at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.untrustedClientIsRejected(CacheServerSSLConnectionDUnitTest.java:546)

        Caused by:
        org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
            at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
            at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
            at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
            at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
            at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
            at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
            at org.apache.geode.internal.cache.GemFireCacheImpl.determineDefaultPool(GemFireCacheImpl.java:2909)
            at org.apache.geode.internal.cache.GemFireCacheImpl.getDefaultPool(GemFireCacheImpl.java:1160)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.getDefaultPool(ClientRegionFactoryImpl.java:101)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.createRegionAttributes(ClientRegionFactoryImpl.java:229)
            at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.create(ClientRegionFactoryImpl.java:212)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.setUpClientVM(CacheServerSSLConnectionDUnitTest.java:293)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.setUpClientVMTask(CacheServerSSLConnectionDUnitTest.java:322)
            at org.apache.geode.cache.client.internal.CacheServerSSLConnectionDUnitTest.lambda$untrustedClientIsRejected$83af0fb3$1(CacheServerSSLConnectionDUnitTest.java:546)

org.apache.geode.internal.cache.tier.sockets.BackwardCompatibilityHigherVersionClientDUnitTest > testHigherVersionedClient FAILED
    org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.tier.sockets.BackwardCompatibilityHigherVersionClientDUnitTest$$Lambda$26/239934498.run in VM 1 running on Host 267bf91587fd with 4 VMs
        at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
        at org.apache.geode.test.dunit.VM.invoke(VM.java:361)
        at org.apache.geode.internal.cache.tier.sockets.BackwardCompatibilityHigherVersionClientDUnitTest.testHigherVersionedClient(BackwardCompatibilityHigherVersionClientDUnitTest.java:163)

        Caused by:
        org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
            at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
            at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
            at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
            at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
            at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
            at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
            at org.apache.geode.internal.cache.tier.sockets.BackwardCompatibilityHigherVersionClientDUnitTest.createClientCache(BackwardCompatibilityHigherVersionClientDUnitTest.java:105)
            at org.apache.geode.internal.cache.tier.sockets.BackwardCompatibilityHigherVersionClientDUnitTest.lambda$testHigherVersionedClient$3a2f4b1$1(BackwardCompatibilityHigherVersionClientDUnitTest.java:164)

org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest > expectConnectionFailureWhenNoHostNameInServerKey FAILED
    org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
        at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
        at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
        at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
        at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
        at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
        at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
        at org.apache.geode.internal.cache.GemFireCacheImpl.determineDefaultPool(GemFireCacheImpl.java:2909)
        at org.apache.geode.internal.cache.GemFireCacheImpl.getDefaultPool(GemFireCacheImpl.java:1160)
        at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.getDefaultPool(ClientRegionFactoryImpl.java:101)
        at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.createRegionAttributes(ClientRegionFactoryImpl.java:229)
        at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.create(ClientRegionFactoryImpl.java:212)
        at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.validateClientConnection(ClientServerHostNameVerificationDistributedTest.java:210)
        at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.expectConnectionFailureWhenNoHostNameInServerKey(ClientServerHostNameVerificationDistributedTest.java:146)

org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest > connectionSuccessfulWhenHostNameOfLocatorAndServer FAILED
    java.lang.AssertionError: Suspicious strings were written to the log during this run.
    Fix the strings or use IgnoredException.addIgnoredException to ignore.
    -----------------------------------------------------------------------
    Found suspect string in log4j at line 1398

    [fatal 2018/10/29 18:57:57.039 UTC <poolTimer-DEFAULT-2> tid=131] SSL Error in connecting to peer 131f578a6186/172.17.0.10[38169].
    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
    	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)
    	at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)
    	at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)
    	at sun.security.ssl.Handshaker.process_record(Handshaker.java:987)
    	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)
    	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)
    	at org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:1069)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:932)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:894)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:883)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.getServerVersion(TcpClient.java:292)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.requestToServer(TcpClient.java:191)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocatorUsingConnection(AutoConnectionSourceImpl.java:200)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocator(AutoConnectionSourceImpl.java:190)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryLocators(AutoConnectionSourceImpl.java:278)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl$UpdateLocatorListTask.run2(AutoConnectionSourceImpl.java:486)
    	at org.apache.geode.cache.client.internal.PoolImpl$PoolTask.run(PoolImpl.java:1309)
    	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
    	at org.apache.geode.internal.ScheduledThreadPoolExecutorWithKeepAlive$DelegatingScheduledFuture.run(ScheduledThreadPoolExecutorWithKeepAlive.java:271)
    	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    	at java.lang.Thread.run(Thread.java:748)
    Caused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:362)
    	at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:270)
    	at sun.security.validator.Validator.validate(Validator.java:262)
    	at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)
    	at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)
    	at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)
    	... 24 more
    Caused by: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)
    	at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)
    	at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:357)
    	... 30 more
    Caused by: java.security.SignatureException: Signature does not match.
    	at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:449)
    	at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)
    	at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
    	... 35 more

    -----------------------------------------------------------------------
    Found suspect string in log4j at line 1453

    [fatal 2018/10/29 18:57:57.040 UTC <poolTimer-DEFAULT-3> tid=132] SSL Error in connecting to peer 131f578a6186/172.17.0.10[38169].
    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
    	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)
    	at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)
    	at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)
    	at sun.security.ssl.Handshaker.process_record(Handshaker.java:987)
    	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)
    	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)
    	at org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:1069)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:932)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:894)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:883)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.getServerVersion(TcpClient.java:292)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.requestToServer(TcpClient.java:191)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocatorUsingConnection(AutoConnectionSourceImpl.java:200)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocator(AutoConnectionSourceImpl.java:190)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryLocators(AutoConnectionSourceImpl.java:278)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.findServer(AutoConnectionSourceImpl.java:155)
    	at org.apache.geode.cache.client.internal.ConnectionFactoryImpl.createClientToServerConnection(ConnectionFactoryImpl.java:191)
    	at org.apache.geode.cache.client.internal.pooling.ConnectionManagerImpl.prefillConnection(ConnectionManagerImpl.java:742)
    	at org.apache.geode.cache.client.internal.pooling.ConnectionManagerImpl.prefill(ConnectionManagerImpl.java:688)
    	at org.apache.geode.cache.client.internal.pooling.ConnectionManagerImpl$PrefillConnectionsTask.run2(ConnectionManagerImpl.java:830)
    	at org.apache.geode.cache.client.internal.PoolImpl$PoolTask.run(PoolImpl.java:1309)
    	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    	at java.lang.Thread.run(Thread.java:748)
    Caused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:362)
    	at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:270)
    	at sun.security.validator.Validator.validate(Validator.java:262)
    	at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)
    	at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)
    	at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)
    	... 25 more
    Caused by: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)
    	at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)
    	at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:357)
    	... 31 more
    Caused by: java.security.SignatureException: Signature does not match.
    	at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:424)
    	at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)
    	at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
    	... 36 more

    -----------------------------------------------------------------------
    Found suspect string in log4j at line 1509

    [fatal 2018/10/29 18:57:57.039 UTC <Test worker> tid=25] SSL Error in connecting to peer 131f578a6186/172.17.0.10[38169].
    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
    	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)
    	at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)
    	at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)
    	at sun.security.ssl.Handshaker.process_record(Handshaker.java:987)
    	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)
    	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)
    	at org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:1069)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:932)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:894)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:883)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.getServerVersion(TcpClient.java:292)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.requestToServer(TcpClient.java:191)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocatorUsingConnection(AutoConnectionSourceImpl.java:200)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocator(AutoConnectionSourceImpl.java:190)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryLocators(AutoConnectionSourceImpl.java:278)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.findServersForQueue(AutoConnectionSourceImpl.java:170)
    	at org.apache.geode.cache.client.internal.QueueManagerImpl.findQueueServers(QueueManagerImpl.java:808)
    	at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:417)
    	at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
    	at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
    	at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
    	at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
    	at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
    	at org.apache.geode.internal.cache.GemFireCacheImpl.determineDefaultPool(GemFireCacheImpl.java:2909)
    	at org.apache.geode.internal.cache.GemFireCacheImpl.getDefaultPool(GemFireCacheImpl.java:1160)
    	at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.getDefaultPool(ClientRegionFactoryImpl.java:101)
    	at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.createRegionAttributes(ClientRegionFactoryImpl.java:229)
    	at org.apache.geode.cache.client.internal.ClientRegionFactoryImpl.create(ClientRegionFactoryImpl.java:212)
    	at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.validateClientConnection(ClientServerHostNameVerificationDistributedTest.java:222)
    	at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.connectionSuccessfulWhenHostNameOfLocatorAndServer(ClientServerHostNameVerificationDistributedTest.java:92)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
    	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
    	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
    	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)
    	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
    	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
    	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:117)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
    	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
    	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
    	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
    	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
    	at java.lang.Thread.run(Thread.java:748)
    Caused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:362)
    	at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:270)
    	at sun.security.validator.Validator.validate(Validator.java:262)
    	at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)
    	at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)
    	at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)
    	... 80 more
    Caused by: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)
    	at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)
    	at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:357)
    	... 86 more
    Caused by: java.security.SignatureException: Signature does not match.
    	at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:449)
    	at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)
    	at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
    	... 91 more

    -----------------------------------------------------------------------
    Found suspect string in log4j at line 1695

    [fatal 2018/10/29 18:57:57.057 UTC <Test worker> tid=25] SSL Error in connecting to peer 131f578a6186/172.17.0.10[38169].
    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
    	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1964)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:328)
    	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:322)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1614)
    	at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)
    	at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1052)
    	at sun.security.ssl.Handshaker.process_record(Handshaker.java:987)
    	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1072)
    	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1413)
    	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1397)
    	at org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:1069)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:932)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:894)
    	at org.apache.geode.internal.net.SocketCreator.connect(SocketCreator.java:883)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.getServerVersion(TcpClient.java:292)
    	at org.apache.geode.distributed.internal.tcpserver.TcpClient.requestToServer(TcpClient.java:191)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocatorUsingConnection(AutoConnectionSourceImpl.java:200)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryOneLocator(AutoConnectionSourceImpl.java:190)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.queryLocators(AutoConnectionSourceImpl.java:278)
    	at org.apache.geode.cache.client.internal.AutoConnectionSourceImpl.findServer(AutoConnectionSourceImpl.java:155)
    	at org.apache.geode.cache.client.internal.ConnectionFactoryImpl.createClientToServerConnection(ConnectionFactoryImpl.java:191)
    	at org.apache.geode.cache.client.internal.pooling.ConnectionManagerImpl.borrowConnection(ConnectionManagerImpl.java:238)
    	at org.apache.geode.cache.client.internal.OpExecutorImpl.execute(OpExecutorImpl.java:149)
    	at org.apache.geode.cache.client.internal.OpExecutorImpl.execute(OpExecutorImpl.java:128)
    	at org.apache.geode.cache.client.internal.PoolImpl.execute(PoolImpl.java:758)
    	at org.apache.geode.cache.client.internal.GetOp.execute(GetOp.java:91)
    	at org.apache.geode.cache.client.internal.ServerRegionProxy.get(ServerRegionProxy.java:111)
    	at org.apache.geode.internal.cache.LocalRegion.findObjectInSystem(LocalRegion.java:2791)
    	at org.apache.geode.internal.cache.LocalRegion.nonTxnFindObject(LocalRegion.java:1528)
    	at org.apache.geode.internal.cache.LocalRegionDataView.findObject(LocalRegionDataView.java:176)
    	at org.apache.geode.internal.cache.LocalRegion.get(LocalRegion.java:1417)
    	at org.apache.geode.internal.cache.LocalRegion.get(LocalRegion.java:1351)
    	at org.apache.geode.internal.cache.LocalRegion.get(LocalRegion.java:1336)
    	at org.apache.geode.internal.cache.AbstractRegion.get(AbstractRegion.java:406)
    	at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.validateClientConnection(ClientServerHostNameVerificationDistributedTest.java:223)
    	at org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.connectionSuccessfulWhenHostNameOfLocatorAndServer(ClientServerHostNameVerificationDistributedTest.java:92)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
    	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
    	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
    	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)
    	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
    	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
    	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:117)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.lang.reflect.Method.invoke(Method.java:498)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
    	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
    	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
    	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
    	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
    	at java.lang.Thread.run(Thread.java:748)
    Caused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:362)
    	at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:270)
    	at sun.security.validator.Validator.validate(Validator.java:262)
    	at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)
    	at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)
    	at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)
    	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1596)
    	... 82 more
    Caused by: java.security.cert.CertPathValidatorException: signature check failed
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)
    	at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)
    	at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)
    	at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)
    	at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:357)
    	... 88 more
    Caused by: java.security.SignatureException: Signature does not match.
    	at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:424)
    	at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)
    	at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)
    	at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
    	... 93 more

{noformat}

Failures in stress new tests....

 
{noformat}
org.apache.geode.internal.cache.DeltaPropagationDUnitTest > testS2CWithInvalidatedOldValueAtClient FAILED
org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.DeltaPropagationDUnitTest$$Lambda$174/1657368241.call in VM 0 running on Host 97f4a3b4cde4 with 4 VMs
at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
at org.apache.geode.test.dunit.VM.invoke(VM.java:384)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.testS2CWithInvalidatedOldValueAtClient(DeltaPropagationDUnitTest.java:370)
Caused by:
java.lang.Exception: mkdir failed
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1043)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1006)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1001)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:997)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.lambda$testS2CWithInvalidatedOldValueAtClient$515fd116$1(DeltaPropagationDUnitTest.java:370)
org.apache.geode.internal.cache.DeltaPropagationDUnitTest > testS2CWithOldValueAtClientOverflownToDisk FAILED
org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.DeltaPropagationDUnitTest$$Lambda$28/555875414.call in VM 0 running on Host 0a3e00be86e7 with 4 VMs
at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
at org.apache.geode.test.dunit.VM.invoke(VM.java:384)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.testS2CWithOldValueAtClientOverflownToDisk(DeltaPropagationDUnitTest.java:299)
Caused by:
java.lang.Exception: mkdir failed
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1043)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1006)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1001)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:997)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.lambda$testS2CWithOldValueAtClientOverflownToDisk$515fd116$1(DeltaPropagationDUnitTest.java:299)
org.apache.geode.internal.cache.DeltaPropagationDUnitTest > testC2S2SDeltaPropagation FAILED
org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.DeltaPropagationDUnitTest$$Lambda$115/1654892714.call in VM 0 running on Host 8b7d69379aaa with 4 VMs
at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
at org.apache.geode.test.dunit.VM.invoke(VM.java:384)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.testC2S2SDeltaPropagation(DeltaPropagationDUnitTest.java:474)
Caused by:
java.lang.Exception: mkdir failed
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1043)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1006)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.lambda$testC2S2SDeltaPropagation$515fd116$1(DeltaPropagationDUnitTest.java:475)
org.apache.geode.internal.cache.DeltaPropagationDUnitTest > testBug40165ClientReconnects FAILED
org.apache.geode.test.dunit.RMIException: While invoking org.apache.geode.internal.cache.DeltaPropagationDUnitTest$$Lambda$151/1401398777.call in VM 0 running on Host 05ebb1f98d1a with 4 VMs
at org.apache.geode.test.dunit.VM.invoke(VM.java:433)
at org.apache.geode.test.dunit.VM.invoke(VM.java:402)
at org.apache.geode.test.dunit.VM.invoke(VM.java:384)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.testBug40165ClientReconnects(DeltaPropagationDUnitTest.java:619)
Caused by:
java.lang.Exception: mkdir failed
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1043)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1006)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:1001)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.createServerCache(DeltaPropagationDUnitTest.java:997)
at org.apache.geode.internal.cache.DeltaPropagationDUnitTest.lambda$testBug40165ClientReconnects$515fd116$1(DeltaPropagationDUnitTest.java:619){noformat}

Integration Test failures...
{noformat}
org.apache.geode.internal.cache.tier.sockets.RedundancyLevelJUnitTest > testRedundancyLevelSetThroughXML FAILED
    org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
        at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
        at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
        at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
        at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
        at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
        at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
        at org.apache.geode.internal.cache.xmlcache.CacheCreation.create(CacheCreation.java:490)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParser.create(CacheXmlParser.java:337)
        at org.apache.geode.internal.cache.GemFireCacheImpl.loadCacheXml(GemFireCacheImpl.java:4267)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initializeDeclarativeCache(GemFireCacheImpl.java:1416)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initialize(GemFireCacheImpl.java:1210)
        at org.apache.geode.internal.cache.GemFireCacheImpl.basicCreate(GemFireCacheImpl.java:787)
        at org.apache.geode.internal.cache.GemFireCacheImpl.create(GemFireCacheImpl.java:773)
        at org.apache.geode.cache.CacheFactory.create(CacheFactory.java:176)
        at org.apache.geode.cache.CacheFactory.create(CacheFactory.java:169)
        at org.apache.geode.internal.cache.tier.sockets.RedundancyLevelJUnitTest.testRedundancyLevelSetThroughXML(RedundancyLevelJUnitTest.java:110)

org.apache.geode.internal.cache.xmlcache.CacheXmlParserJUnitTest > testCacheXmlParserWithSimplePoolXerces FAILED
    org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
        at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
        at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
        at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
        at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
        at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
        at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
        at org.apache.geode.internal.cache.xmlcache.ClientCacheCreation.create(ClientCacheCreation.java:200)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParser.create(CacheXmlParser.java:337)
        at org.apache.geode.internal.cache.GemFireCacheImpl.loadCacheXml(GemFireCacheImpl.java:4267)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initializeDeclarativeCache(GemFireCacheImpl.java:1416)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initialize(GemFireCacheImpl.java:1210)
        at org.apache.geode.internal.cache.GemFireCacheImpl.basicCreate(GemFireCacheImpl.java:787)
        at org.apache.geode.internal.cache.GemFireCacheImpl.createClient(GemFireCacheImpl.java:759)
        at org.apache.geode.cache.client.ClientCacheFactory.basicCreate(ClientCacheFactory.java:259)
        at org.apache.geode.cache.client.ClientCacheFactory.create(ClientCacheFactory.java:213)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParserJUnitTest.testCacheXmlParserWithSimplePool(CacheXmlParserJUnitTest.java:112)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParserJUnitTest.testCacheXmlParserWithSimplePoolXerces(CacheXmlParserJUnitTest.java:127)

org.apache.geode.internal.cache.xmlcache.CacheXmlParserJUnitTest > testCacheXmlParserWithSimplePool FAILED
    org.apache.geode.cache.NoSubscriptionServersAvailableException: Could not initialize a primary queue on startup. No queue servers available.
        at org.apache.geode.cache.client.internal.QueueManagerImpl.initializeConnections(QueueManagerImpl.java:569)
        at org.apache.geode.cache.client.internal.QueueManagerImpl.start(QueueManagerImpl.java:281)
        at org.apache.geode.cache.client.internal.PoolImpl.start(PoolImpl.java:334)
        at org.apache.geode.cache.client.internal.PoolImpl.finishCreate(PoolImpl.java:173)
        at org.apache.geode.cache.client.internal.PoolImpl.create(PoolImpl.java:159)
        at org.apache.geode.internal.cache.PoolFactoryImpl.create(PoolFactoryImpl.java:349)
        at org.apache.geode.internal.cache.xmlcache.ClientCacheCreation.create(ClientCacheCreation.java:200)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParser.create(CacheXmlParser.java:337)
        at org.apache.geode.internal.cache.GemFireCacheImpl.loadCacheXml(GemFireCacheImpl.java:4267)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initializeDeclarativeCache(GemFireCacheImpl.java:1416)
        at org.apache.geode.internal.cache.GemFireCacheImpl.initialize(GemFireCacheImpl.java:1210)
        at org.apache.geode.internal.cache.GemFireCacheImpl.basicCreate(GemFireCacheImpl.java:787)
        at org.apache.geode.internal.cache.GemFireCacheImpl.createClient(GemFireCacheImpl.java:759)
        at org.apache.geode.cache.client.ClientCacheFactory.basicCreate(ClientCacheFactory.java:259)
        at org.apache.geode.cache.client.ClientCacheFactory.create(ClientCacheFactory.java:213)
        at org.apache.geode.internal.cache.xmlcache.CacheXmlParserJUnitTest.testCacheXmlParserWithSimplePool(CacheXmlParserJUnitTest.java:112){noformat}

 

We ran into a similar but not exact failure on jdk11, below is the stack trace from run: 

http://files.apachegeode-ci.info/builds/apache-develop-main/1.8.0-build.99/test-results/distributedTest/1541452365/classes/org.apache.geode.cache.client.internal.ClientServerHostNameVerificationDistributedTest.html#expectConnectionFailureWhenNoHostNameInServerKey

{noformat}
java.lang.AssertionError: Suspicious strings were written to the log during this run.
Fix the strings or use IgnoredException.addIgnoredException to ignore.
-----------------------------------------------------------------------
Found suspect string in log4j at line 1553

javax.net.ssl.SSLProtocolException: Connection reset


	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.geode.test.dunit.standalone.DUnitLauncher.closeAndCheckForSuspects(DUnitLauncher.java:412)
	at org.apache.geode.test.dunit.rules.ClusterStartupRule.after(ClusterStartupRule.java:172)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:50)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:566)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:117)
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:566)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:834)
{noformat}
 

Saw this again in : http://files.apachegeode-ci.info/builds/apache-develop-main/1.8.0-build.103/test-results/distributedTest/1541465597/classes/org.apache.geode.internal.cache.DeltaPropagationDUnitTest.html#testBug40165ClientReconnects



And again.
https://concourse.apachegeode-ci.info/teams/main/pipelines/apache-develop-main/jobs/DistributedTestOpenJDK8/builds/147

Results:
http://files.apachegeode-ci.info/builds/apache-develop-main/1.9.0-build.183/test-results/distributedTest/1543257037/

Artifacts:
http://files.apachegeode-ci.info/builds/apache-develop-main/1.9.0-build.183/test-artifacts/1543257037/distributedtestfiles-OpenJDK8-1.9.0-build.183.tgz


Commit a2ac820116c7a54dcbf95dbaa0fd37eb5e7e09d8 in geode's branch refs/heads/develop from Kirk Lund
[ https://gitbox.apache.org/repos/asf?p=geode.git;h=a2ac820 ]

GEODE-5595: Fix DeltaPropagationDUnitTest flakiness (#4653)

Improve testability of CacheClientProxy
* Extract inner classes
* Introduce CacheClientProxyFactory with support for property injection

Commit a2ac820116c7a54dcbf95dbaa0fd37eb5e7e09d8 in geode's branch refs/heads/mass-test-run from Kirk Lund
[ https://gitbox.apache.org/repos/asf?p=geode.git;h=a2ac820 ]

GEODE-5595: Fix DeltaPropagationDUnitTest flakiness (#4653)

Improve testability of CacheClientProxy
* Extract inner classes
* Introduce CacheClientProxyFactory with support for property injection

Commit a2ac820116c7a54dcbf95dbaa0fd37eb5e7e09d8 in geode's branch refs/heads/feature/GEODE-7665 from Kirk Lund
[ https://gitbox.apache.org/repos/asf?p=geode.git;h=a2ac820 ]

GEODE-5595: Fix DeltaPropagationDUnitTest flakiness (#4653)

Improve testability of CacheClientProxy
* Extract inner classes
* Introduce CacheClientProxyFactory with support for property injection

